(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{9463:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t;this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t))}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),i=n(46411),s=n(26686),o=n(27563),a=n(20211),l=n(92190),c=function(e,t,n){for(var r=0,s=0;r=s,s=(0,i.fj)(),38===r&&12===s&&(t[n]=1),!(0,i.r)(s);)(0,i.lp)();return(0,i.tP)(e,i.FK)},u=function(e,t){var n=-1,r=44;do switch((0,i.r)(r)){case 0:38===r&&12===(0,i.fj)()&&(t[n]=1),e[n]+=c(i.FK-1,t,n);break;case 2:e[n]+=(0,i.iF)(r);break;case 4:if(44===r){e[++n]=58===(0,i.fj)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=(0,s.Dp)(r)}while(r=(0,i.lp)());return e},d=new WeakMap,h=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||d.get(n))&&!r){d.set(e,!0);for(var s=[],o=(0,i.cE)(u((0,i.un)(t),s)),a=n.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},p=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},f=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case o.h5:e.return=function e(t,n){switch((0,s.vp)(t,n)){case 5103:return o.G$+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o.G$+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return o.G$+t+o.uj+t+o.MS+t+t;case 6828:case 4268:return o.G$+t+o.MS+t+t;case 6165:return o.G$+t+o.MS+"flex-"+t+t;case 5187:return o.G$+t+(0,s.gx)(t,/(\w+).+(:[^]+)/,o.G$+"box-$1$2"+o.MS+"flex-$1$2")+t;case 5443:return o.G$+t+o.MS+"flex-item-"+(0,s.gx)(t,/flex-|-self/,"")+t;case 4675:return o.G$+t+o.MS+"flex-line-pack"+(0,s.gx)(t,/align-content|flex-|-self/,"")+t;case 5548:return o.G$+t+o.MS+(0,s.gx)(t,"shrink","negative")+t;case 5292:return o.G$+t+o.MS+(0,s.gx)(t,"basis","preferred-size")+t;case 6060:return o.G$+"box-"+(0,s.gx)(t,"-grow","")+o.G$+t+o.MS+(0,s.gx)(t,"grow","positive")+t;case 4554:return o.G$+(0,s.gx)(t,/([^-])(transform)/g,"$1"+o.G$+"$2")+t;case 6187:return(0,s.gx)((0,s.gx)((0,s.gx)(t,/(zoom-|grab)/,o.G$+"$1"),/(image-set)/,o.G$+"$1"),t,"")+t;case 5495:case 3959:return(0,s.gx)(t,/(image-set\([^]*)/,o.G$+"$1$`$1");case 4968:return(0,s.gx)((0,s.gx)(t,/(.+:)(flex-)?(.*)/,o.G$+"box-pack:$3"+o.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o.G$+t+t;case 4095:case 3583:case 4068:case 2532:return(0,s.gx)(t,/(.+)-inline(.+)/,o.G$+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,s.to)(t)-1-n>6)switch((0,s.uO)(t,n+1)){case 109:if(45!==(0,s.uO)(t,n+4))break;case 102:return(0,s.gx)(t,/(.+:)(.+)-([^]+)/,"$1"+o.G$+"$2-$3$1"+o.uj+(108==(0,s.uO)(t,n+3)?"$3":"$2-$3"))+t;case 115:return~(0,s.Cw)(t,"stretch")?e((0,s.gx)(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==(0,s.uO)(t,n+1))break;case 6444:switch((0,s.uO)(t,(0,s.to)(t)-3-(~(0,s.Cw)(t,"!important")&&10))){case 107:return(0,s.gx)(t,":",":"+o.G$)+t;case 101:return(0,s.gx)(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o.G$+(45===(0,s.uO)(t,14)?"inline-":"")+"box$3$1"+o.G$+"$2$3$1"+o.MS+"$2box$3")+t}break;case 5936:switch((0,s.uO)(t,n+11)){case 114:return o.G$+t+o.MS+(0,s.gx)(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return o.G$+t+o.MS+(0,s.gx)(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return o.G$+t+o.MS+(0,s.gx)(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return o.G$+t+o.MS+t+t}return t}(e.value,e.length);break;case o.lK:return(0,a.q)([(0,i.JG)(e,{value:(0,s.gx)(e.value,"@","@"+o.G$)})],r);case o.Fr:if(e.length)return(0,s.$e)(e.props,function(t){switch((0,s.EQ)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,a.q)([(0,i.JG)(e,{props:[(0,s.gx)(t,/:(read-\w+)/,":"+o.uj+"$1")]})],r);case"::placeholder":return(0,a.q)([(0,i.JG)(e,{props:[(0,s.gx)(t,/:(plac\w+)/,":"+o.G$+"input-$1")]}),(0,i.JG)(e,{props:[(0,s.gx)(t,/:(plac\w+)/,":"+o.uj+"$1")]}),(0,i.JG)(e,{props:[(0,s.gx)(t,/:(plac\w+)/,o.MS+"input-$1")]})],r)}return""})}}],g=function(e){var t,n,i,o,c,u=e.key;if("css"===u){var d=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(d,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var g=e.stylisPlugins||f,m={},v=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+u+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)m[t[n]]=!0;v.push(e)});var y=(o=[h,p].concat(g,[a.P,(t=function(e){i.insert(e)},function(e){!e.root&&(e=e.return)&&t(e)})]),c=(0,s.Ei)(o),function(e,t,n,r){for(var i="",s=0;s<c;s++)i+=o[s](e,t,n,r)||"";return i}),_={key:u,sheet:new r({key:u,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:m,registered:{},insert:function(e,t,n,r){var s;i=n,s=e?e+"{"+t.styles+"}":t.styles,(0,a.q)((0,l.MY)(s),y),r&&(_.inserted[t.name]=!0)}};return _.sheet.hydrate(v),_}},18872:function(e,t,n){"use strict";n.d(t,{iv:function(){return p},cx:function(){return h}});var r,i,s=n(9463),o=n(48137),a=n(70444);function l(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function c(e,t,n){var r=[],i=(0,a.fp)(e,r,n);return r.length<2?n:i+t(r)}var u=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var o in s="",i)i[o]&&o&&(s&&(s+=" "),s+=o);break;default:s=i}s&&(n&&(n+=" "),n+=s)}}return n},d=((r=(0,s.Z)({key:"css"})).sheet.speedy=function(e){this.isSpeedy=e},r.compat=!0,{css:i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,o.O)(t,r.registered,void 0);return(0,a.My)(r,i,!1),r.key+"-"+i.name},cx:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(r.registered,i,u(t))},injectGlobal:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,o.O)(t,r.registered);l(r,i)},keyframes:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,o.O)(t,r.registered),s="animation-"+i.name;return l(r,{name:i.name,styles:"@keyframes "+s+"{"+i.styles+"}"}),s},hydrate:function(e){e.forEach(function(e){r.inserted[e]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:a.fp.bind(null,r.registered),merge:c.bind(null,r.registered,i)}),h=(d.flush,d.hydrate,d.cx),p=(d.merge,d.getRegisteredStyles,d.injectGlobal,d.keyframes,d.css);d.sheet,d.cache},45042:function(e,t,n){"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:function(){return r}})},75260:function(e,t,n){"use strict";n.d(t,{C:function(){return u},E:function(){return m},T:function(){return h},c:function(){return f},h:function(){return l},w:function(){return d}});var r=n(67294),i=n(9463),s=n(70444),o=n(48137),a=n(27278),l={}.hasOwnProperty,c=r.createContext("undefined"!=typeof HTMLElement?(0,i.Z)({key:"css"}):null),u=c.Provider,d=function(e){return(0,r.forwardRef)(function(t,n){return e(t,(0,r.useContext)(c),n)})},h=r.createContext({}),p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)l.call(t,r)&&(n[r]=t[r]);return n[p]=e,n},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,s.hC)(t,n,r),(0,a.L)(function(){return(0,s.My)(t,n,r)}),null},m=d(function(e,t,n){var i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var a=e[p],c=[i],u="";"string"==typeof e.className?u=(0,s.fp)(t.registered,c,e.className):null!=e.className&&(u=e.className+" ");var d=(0,o.O)(c,void 0,r.useContext(h));u+=t.key+"-"+d.name;var f={};for(var m in e)l.call(e,m)&&"css"!==m&&m!==p&&(f[m]=e[m]);return f.ref=n,f.className=u,r.createElement(r.Fragment,null,r.createElement(g,{cache:t,serialized:d,isStringTag:"string"==typeof a}),r.createElement(a,f))})},35944:function(e,t,n){"use strict";n.d(t,{BX:function(){return a},HY:function(){return s},tZ:function(){return o}});var r=n(85893),i=n(75260);n(67294),n(9463),n(8679),n(48137),n(27278);var s=r.Fragment;function o(e,t,n){return i.h.call(t,"css")?r.jsx(i.E,(0,i.c)(e,t),n):r.jsx(e,t,n)}function a(e,t,n){return i.h.call(t,"css")?r.jsxs(i.E,(0,i.c)(e,t),n):r.jsxs(e,t,n)}},48137:function(e,t,n){"use strict";n.d(t,{O:function(){return f}});var r,i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s=n(45042),o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,s.Z)(function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()}),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(a,function(e,t,n){return r={name:t,styles:n,next:r},t})}return 1===i[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return r={name:n.name,styles:n.styles,next:r},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)r={name:i.name,styles:i.styles,next:r},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!=typeof o)null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":c(o)&&(r+=u(s)+":"+d(s,o)+";");else if(Array.isArray(o)&&"string"==typeof o[0]&&(null==t||void 0===t[o[0]]))for(var a=0;a<o.length;a++)c(o[a])&&(r+=u(s)+":"+d(s,o[a])+";");else{var l=h(e,t,o);switch(s){case"animation":case"animationName":r+=u(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var s=r,o=n(e);return r=s,h(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var p=/label:\s*([^\s;\n{]+)\s*(;|$)/g,f=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i,s=!0,o="";r=void 0;var a=e[0];null==a||void 0===a.raw?(s=!1,o+=h(n,t,a)):o+=a[0];for(var l=1;l<e.length;l++)o+=h(n,t,e[l]),s&&(o+=a[l]);p.lastIndex=0;for(var c="";null!==(i=p.exec(o));)c+="-"+i[1];return{name:function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*1540483477+((t>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(o)+c,styles:o,next:r}}},27278:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r,i=n(67294),s=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=s||function(e){return e()};s||i.useLayoutEffect},70444:function(e,t,n){"use strict";function r(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "}),r}n.d(t,{My:function(){return s},fp:function(){return r},hC:function(){return i}});var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},s=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(void 0!==s)}}},84053:function(e,t,n){"use strict";var r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a=(e,t,n)=>new Promise((r,i)=>{var s=e=>{try{a(n.next(e))}catch(e){i(e)}},o=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,o);a((n=n.apply(e,t)).next())}),l={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(l,{SessionContextProvider:()=>h,useSession:()=>g,useSessionContext:()=>p,useSupabaseClient:()=>f,useUser:()=>m}),e.exports=((e,t,n,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of s(t))o.call(e,n)||void 0===n||r(e,n,{get:()=>t[n],enumerable:!(a=i(t,n))||a.enumerable});return e})(r({},"__esModule",{value:!0}),l);var c=n(67294),u=n(85893),d=(0,c.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),h=({supabaseClient:e,initialSession:t=null,children:n})=>{let[r,i]=(0,c.useState)(t),[s,o]=(0,c.useState)(!t),[l,h]=(0,c.useState)();(0,c.useEffect)(()=>{!r&&t&&i(t)},[r,t]),(0,c.useEffect)(()=>{let t=!0;return function(){a(this,null,function*(){let{data:{session:n},error:r}=yield e.auth.getSession();if(t){if(r){h(r),o(!1);return}i(n),o(!1)}})}(),()=>{t=!1}},[]),(0,c.useEffect)(()=>{let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{t&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&i(t),"SIGNED_OUT"===e&&i(null)});return()=>{t.unsubscribe()}},[]);let p=(0,c.useMemo)(()=>s?{isLoading:!0,session:null,error:null,supabaseClient:e}:l?{isLoading:!1,session:null,error:l,supabaseClient:e}:{isLoading:!1,session:r,error:null,supabaseClient:e},[s,r,l]);return(0,u.jsx)(d.Provider,{value:p,children:n})},p=()=>{let e=(0,c.useContext)(d);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function f(){let e=(0,c.useContext)(d);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var g=()=>{let e=(0,c.useContext)(d);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},m=()=>{var e,t;let n=(0,c.useContext)(d);if(void 0===n)throw Error("useUser must be used within a SessionContextProvider.");return null!=(t=null==(e=n.session)?void 0:e.user)?t:null}},89743:function(e,t,n){"use strict";n.r(t),n.d(t,{Headers:function(){return s},Request:function(){return o},Response:function(){return a},fetch:function(){return i}});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("unable to locate global object")}();let i=r.fetch;t.default=r.fetch.bind(r);let s=r.Headers,o=r.Request,a=r.Response},55559:function(e,t,n){"use strict";var r=n(58612),i=n(40210),s=n(67771),o=i("%TypeError%"),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,a),u=i("%Object.defineProperty%",!0),d=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var t=c(r,l,arguments);return s(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return c(r,a,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},76489:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},r=(t||{}).decode||i,s=0;s<e.length;){var o=e.indexOf("=",s);if(-1===o)break;var a=e.indexOf(";",s);if(-1===a)a=e.length;else if(a<o){s=e.lastIndexOf(";",o-1)+1;continue}var l=e.slice(s,o).trim();if(void 0===n[l]){var c=e.slice(o+1,a).trim();34===c.charCodeAt(0)&&(c=c.slice(1,-1)),n[l]=function(e,t){try{return t(e)}catch(t){return e}}(c,r)}s=a+1}return n},t.q=function(e,t,i){var o=i||{},a=o.encode||s;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!r.test(e))throw TypeError("argument name is invalid");var l=a(t);if(l&&!r.test(l))throw TypeError("argument val is invalid");var c=e+"="+l;if(null!=o.maxAge){var u=o.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(o.domain){if(!r.test(o.domain))throw TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!r.test(o.path))throw TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){var d=o.expires;if("[object Date]"!==n.call(d)&&!(d instanceof Date)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+d.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var n=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function s(e){return encodeURIComponent(e)}},12296:function(e,t,n){"use strict";var r=n(31044)(),i=n(40210),s=r&&i("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(e){s=!1}var o=i("%SyntaxError%"),a=i("%TypeError%"),l=n(27296);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!l&&l(e,t);if(s)s(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===r&&d?d.enumerable:!r,value:n,writable:null===i&&d?d.writable:!i});else if(!u&&(r||i||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=n}},4289:function(e,t,n){"use strict";var r=n(82215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,o=Array.prototype.concat,a=n(12296),l=n(31044)(),c=function(e,t,n,r){if(t in e){if(!0===r){if(e[t]===n)return}else if(!("function"==typeof r&&"[object Function]"===s.call(r))||!r())return}l?a(e,t,n,!0):a(e,t,n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},s=r(t);i&&(s=o.call(s,Object.getOwnPropertySymbols(t)));for(var a=0;a<s.length;a+=1)c(e,s[a],t[s[a]],n[s[a]])};u.supportsDescriptors=!!l,e.exports=u},41503:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,i=n(34149),s=n(95320),o=n(18923),a=n(12636),l=function(e,t){if(null==e)throw TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw TypeError('hint must be "string" or "number"');var n,r,o,a="string"===t?["toString","valueOf"]:["valueOf","toString"];for(o=0;o<a.length;++o)if(s(n=e[a[o]])&&i(r=n.call(e)))return r;throw TypeError("No default value")},c=function(e,t){var n=e[t];if(null!=n){if(!s(n))throw TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(i(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):a(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var s=t.call(e,n);if(i(s))return s;throw TypeError("unable to convert exotic object to primitive")}return"default"===n&&(o(e)||a(e))&&(n="string"),l(e,"default"===n?"number":n)}},34149:function(e){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},17648:function(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},i=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},s=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var o,a=this;if("function"!=typeof a||"[object Function]"!==t.apply(a))throw TypeError("Function.prototype.bind called on incompatible "+a);for(var l=i(arguments,1),c=n(0,a.length-l.length),u=[],d=0;d<c;d++)u[d]="$"+d;if(o=Function("binder","return function ("+s(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=a.apply(this,r(l,arguments));return Object(t)===t?t:this}return a.apply(e,r(l,arguments))}),a.prototype){var h=function(){};h.prototype=a.prototype,o.prototype=new h,h.prototype=null}return o}},58612:function(e,t,n){"use strict";var r=n(17648);e.exports=Function.prototype.bind||r},40210:function(e,t,n){"use strict";var r,i=SyntaxError,s=Function,o=TypeError,a=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new o},u=l?function(){try{return arguments.callee,c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=n(41405)(),h=n(28185)(),p=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),f={},g="undefined"!=typeof Uint8Array&&p?p(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d&&p?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&p?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&p?p(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&p?p(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&p?p(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":g,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(p)try{null.error}catch(e){var v=p(p(e));m["%Error.prototype%"]=v}var y=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(n=p(i.prototype))}return m[t]=n,n},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(58612),w=n(48824),S=b.call(Function.call,Array.prototype.concat),k=b.call(Function.apply,Array.prototype.splice),E=b.call(Function.call,String.prototype.replace),x=b.call(Function.call,String.prototype.slice),T=b.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,C=function(e){var t=x(e,0,1),n=x(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return E(e,I,function(e,t,n,i){r[r.length]=n?E(i,O,"$1"):t||e}),r},R=function(e,t){var n,r=e;if(w(_,r)&&(r="%"+(n=_[r])[0]+"%"),w(m,r)){var s=m[r];if(s===f&&(s=y(r)),void 0===s&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:s}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===T(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=C(e),r=n.length>0?n[0]:"",s=R("%"+r+"%",t),a=s.name,c=s.value,u=!1,d=s.alias;d&&(r=d[0],k(n,S([0,1],d)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=x(f,0,1),v=x(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),r+="."+f,w(m,a="%"+r+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=w(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},27296:function(e,t,n){"use strict";var r=n(40210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},31044:function(e,t,n){"use strict";var r=n(40210)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},28185:function(e){"use strict";var t={foo:{}},n=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(({__proto__:null})instanceof n)}},41405:function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(55419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},55419:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},96410:function(e,t,n){"use strict";var r=n(55419);e.exports=function(){return r()&&!!Symbol.toStringTag}},48824:function(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,s=n(58612);e.exports=s.call(r,i)},8679:function(e,t,n){"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var a=l(t),g=l(n),m=0;m<o.length;++m){var v=o[m];if(!s[v]&&!(r&&r[v])&&!(g&&g[v])&&!(a&&a[v])){var y=h(n,v);try{c(t,v,y)}catch(e){}}}}return t}},95320:function(e){"use strict";var t,n,r=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i(function(){throw 42},null,t)}catch(e){e!==n&&(i=null)}else i=null;var s=/^\s*class\b/,o=function(e){try{var t=r.call(e);return s.test(t)}catch(e){return!1}},a=function(e){try{if(o(e))return!1;return r.call(e),!0}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var h=document.all;l.call(h)===l.call(document.all)&&(d=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(d(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==n)return!1}return!o(e)&&a(e)}:function(e){if(d(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(o(e))return!1;var t=l.call(e);return!!("[object Function]"===t||"[object GeneratorFunction]"===t||/^\[object HTML/.test(t))&&a(e)}},18923:function(e,t,n){"use strict";var r=Date.prototype.getDay,i=function(e){try{return r.call(e),!0}catch(e){return!1}},s=Object.prototype.toString,o=n(96410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(o?i(e):"[object Date]"===s.call(e))}},12636:function(e,t,n){"use strict";var r=Object.prototype.toString;if(n(41405)()){var i=Symbol.prototype.toString,s=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return"symbol"==typeof e.valueOf()&&s.test(i.call(e))}catch(e){return!1}}}else e.exports=function(e){return!1}},83454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(77663)},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(31026)}])},26523:function(e,t,n){"use strict";n.d(t,{l:function(){return o},z:function(){return a}});var r=n(99893),i=n(9763);let s="localhost"===window.location.hostname,o=()=>{if(!(0,i.Z)())return s||r.ZP.init("phc_CuyExKl49EQqzZOpzzUS3Hz18SjAX1nvXaUnDHL2ZPP",{api_host:"https://app.posthog.com",session_recording:{maskTextSelector:':is([data-privacy="private"])'}}),r.ZP},a=e=>{(0,i.Z)()||r.ZP.capture(e.name,{...e.props})}},10342:function(e,t,n){"use strict";n.d(t,{E:function(){return o},H:function(){return s}});var r=n(67294);let i=r.createContext(void 0),s=i.Provider;function o(){return(0,r.useContext)(i)}},53936:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(12626);function i(){return"bitbucket-enterprise"===(0,r.Z)()||"bitbucket"===(0,r.Z)()?"manual":"supabase"}},61288:function(e,t){"use strict";let n=Object.assign(new EventTarget,{env:"production",setEnv(e){this.env=e,this.dispatchEvent(new Event("change"))},isEnvOverride:!1});t.Z=n},65406:function(e,t,n){"use strict";n.d(t,{AN:function(){return l},SK:function(){return c},tn:function(){return a}});var r=n(11163),i=n(17673),s=n(67294),o=n(61288);function a(){let e=(0,r.useRouter)();(0,s.useMemo)(()=>{!function(e){let t=e instanceof URLSearchParams?e.get("env"):null==e?void 0:e.env;null==t?(o.Z.isEnvOverride=!1,o.Z.setEnv("production")):"staging"===t?(o.Z.isEnvOverride=!0,o.Z.setEnv("staging")):(o.Z.isEnvOverride=!0,o.Z.setEnv("production"))}(new URL(location.href).searchParams)},[e.asPath])}function l(){let[,e]=(0,s.useState)(0);return(0,s.useEffect)(()=>{function t(){e(e=>e+1)}return o.Z.addEventListener("change",t),()=>o.Z.removeEventListener("change",t)},[]),o.Z.env}function c(e,t){return(null==t||"string"==typeof t||(t=t instanceof URLSearchParams?t.toString():i.stringify(t)),t)?e.includes("?")?e+"&"+t:e+"?"+t:e}},9763:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(61288),i=n(83454);function s(){if(i.env.NEXT_PUBLIC_INTERNAL_API_KEY__PRODUCTION&&i.env.NEXT_PUBLIC_INTERNAL_API_KEY__STAGING)return"production"===r.Z.env?i.env.NEXT_PUBLIC_INTERNAL_API_KEY__PRODUCTION:i.env.NEXT_PUBLIC_INTERNAL_API_KEY__STAGING}},77942:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(82729),i=n(35944),s=n(18872);function o(){let e=(0,r._)(["\n            vertical-align: baseline;\n            display: inline-block;\n          "]);return o=function(){return e},e}function a(){let e=(0,r._)(["\n            /* Applies when used inline with text of the same size: */\n            vertical-align: bottom;\n\n            display: inline-flex;\n            align-items: center;\n            gap: ",";\n          "]);return a=function(){return e},e}function l(){let e=(0,r._)(["\n            display: flex;\n            flex-direction: column;\n            margin: 0 auto;\n            box-sizing: border-box;\n            width: 80ch;\n            max-width: 100%;\n            padding: 4px min(4vw, 4ch);\n          "]);return l=function(){return e},e}function c(){let e=(0,r._)(["\n            color: ",";\n            font-size: ","px;\n            font-weight: var(--mut23-font-weight);\n\n            > svg,\n            > img {\n              display: inline-block;\n            }\n\n            > svg,\n            > img:not([height][width]) {\n              width: ","px;\n              height: ","px;\n            }\n\n            a {\n              cursor: pointer;\n            }\n\n            a:not([data-no-decoration]),\n            a [data-link-decoration] {\n              text-decoration: unset;\n              color: unset;\n              cursor: pointer;\n              border-top: 1px solid transparent;\n              border-bottom: 1px dotted var(--mut23-color-fg);\n            }\n\n            a:not([data-no-decoration]):hover,\n            a:hover [data-link-decoration] {\n              border-bottom-style: solid;\n            }\n\n            & :is(h1, h2, h3, h4, h5, h6) > svg {\n              vertical-align: sub;\n            }\n\n            h1 {\n              margin: 15px 0;\n              font-weight: unset;\n              font-size: 20px;\n            }\n\n            h2 {\n              margin: 15px 0 5px;\n              font-weight: bold;\n              font-size: 18px;\n            }\n\n            h3 {\n              margin: 15px 0 0;\n              font-weight: bold;\n              font-size: unset;\n            }\n\n            section {\n              padding: 10px 0;\n            }\n\n            > section:first-child {\n              margin-top: 0;\n            }\n\n            p {\n              margin: 1em 0;\n            }\n\n            h1 + p,\n            h2 + p,\n            h3 + p,\n            h4 + p,\n            h5 + p,\n            h6 + p {\n              margin-top: 0;\n            }\n\n            ul {\n              margin: 0;\n              padding: 0 0 0 1.7em;\n            }\n\n            p > li {\n              margin: 0;\n              padding: 0 0 0 1em;\n            }\n\n            blockquote {\n              margin: 0 0 0 1.7em;\n            }\n\n            pre {\n              /* margin: 0 0 0 1.2em; */\n              margin: 0;\n              padding: 0.7em;\n              overflow: auto visible;\n              border: 1px solid var(--mut23-color-border);\n              border-radius: 5px;\n              line-height: normal;\n            }\n\n            pre,\n            code {\n              /* opacity: 0.8; */\n              font-size: 0.9em;\n              font-family: var(--ui-font-monospace);\n            }\n          "]);return c=function(){return e},e}function u(e){let[t,n]=e.size.split("-");return(0,i.tZ)("span",{className:(0,s.cx)(e.inline&&(0,s.iv)(o()),!e.inline&&!e.longform&&(0,s.iv)(a(),"20-12"===e.size?"6px":"16-14"===e.size?"4px":"12-12"===e.size?"2px":"4px"),e.longform&&(0,s.iv)(l()),!e.noInteriorStyles&&(0,s.iv)(c(),e.colorInherit?"inherit":"var(--mut23-color-fg)",n,t,t),e.className),children:e.children})}},86321:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(82729),i=n(35944),s=n(18872),o=n(67294);let a="undefined"!=typeof navigator&&navigator.userAgent.indexOf("Safari")>-1&&-1>=navigator.userAgent.indexOf("Chrome");function l(){let e=(0,r._)(["\n          text-align: left;\n\n          &[open] {\n            display: flex;\n            flex-direction: column;\n          }\n\n          white-space: normal;\n          border: none;\n          padding: 0;\n\n          transition: opacity 0.2s;\n\n          &::backdrop {\n            background: rgba(0, 0, 0, 0.75);\n            backdrop-filter: blur(2px);\n            transition:\n              background 0.2s,\n              backdrop-filter 0.2s;\n          }\n\n          :has([data-dialog-dim-when-active]:active) {\n            opacity: 0.05;\n\n            &::backdrop {\n              background: none;\n              backdrop-filter: none;\n            }\n          }\n        "]);return l=function(){return e},e}function c(e){let t=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!t.current)return;let n=t.current;e.open?(n.showModal(),a&&(n.style.setProperty("opacity","0"),n.style.setProperty("width","100%")),setTimeout(()=>{document.activeElement instanceof HTMLElement&&(n.style.removeProperty("width"),n.focus(),document.activeElement.blur(),n.style.removeProperty("opacity"))})):n.close()},[e.open]),(0,i.tZ)("dialog",{"data-is-interactive":!0,ref:t,onClick:t=>{let n=t.currentTarget;if(t.target===n){var r;null===(r=e.onClose)||void 0===r||r.call(e,t)}},onCancel:t=>{var n;t.preventDefault(),null===(n=e.onClose)||void 0===n||n.call(e,t)},onScroll:e.onScroll,className:(0,s.cx)((0,s.iv)(l()),e.className),children:e.children})}},77840:function(e,t,n){"use strict";let r,i,s,o,a,l,c,u,d,h,p,f,g,m,v,y,_,b,w,S,k,E,x,T;var I,O,C,R,P,A,M,$,j,N,D,L,F={};n.r(F),n.d(F,{FunctionToString:function(){return tN},InboundFilters:function(){return tB},LinkedErrors:function(){return tJ}});var U={};n.r(U),n.d(U,{Breadcrumbs:function(){return nN},Dedupe:function(){return nW},GlobalHandlers:function(){return no},HttpContext:function(){return nq},LinkedErrors:function(){return nF},TryCatch:function(){return nh}});let B="7.110.0";function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm",i=e._metadata||{};i.sdk||(i.sdk={name:"sentry.javascript.".concat(t),packages:n.map(e=>({name:"".concat(r,":@sentry/").concat(e),version:B})),version:B}),e._metadata=i}function H(e){return e&&e.Math==Math?e:void 0}let z="object"==typeof globalThis&&H(globalThis)||H(window)||"object"==typeof self&&H(self)||"object"==typeof n.g&&H(n.g)||function(){return this}()||{};function W(e,t,n){let r=n||z,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}let G="production",V=Object.prototype.toString;function J(e){switch(V.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return es(e,Error)}}function K(e,t){return V.call(e)==="[object ".concat(t,"]")}function Y(e){return K(e,"ErrorEvent")}function Z(e){return K(e,"DOMError")}function X(e){return K(e,"String")}function Q(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ee(e){return null===e||Q(e)||"object"!=typeof e&&"function"!=typeof e}function et(e){return K(e,"Object")}function en(e){return"undefined"!=typeof Event&&es(e,Event)}function er(e){return!!(e&&e.then&&"function"==typeof e.then)}function ei(e){return"number"==typeof e&&e!=e}function es(e,t){try{return e instanceof t}catch(e){return!1}}function eo(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}function ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n,r=e,i=[],s=0,o=0,a=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&s++<5&&(n=function(e,t){let n,r,i,s,o;let a=[];if(!e||!e.tagName)return"";if(z.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;a.push(e.tagName.toLowerCase());let l=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(l&&l.length)l.forEach(e=>{a.push("[".concat(e[0],'="').concat(e[1],'"]'))});else if(e.id&&a.push("#".concat(e.id)),(n=e.className)&&X(n))for(o=0,r=n.split(/\s+/);o<r.length;o++)a.push(".".concat(r[o]));let c=["aria-label","type","name","title","alt"];for(o=0;o<c.length;o++)i=c[o],(s=e.getAttribute(i))&&a.push("[".concat(i,'="').concat(s,'"]'));return a.join("")}(r,a),"html"!==n&&(!(s>1)||!(o+3*i.length+n.length>=l)));)i.push(n),o+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function el(e){return z.document&&z.document.querySelector?z.document.querySelector(e):null}function ec(e){if(!z.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}let eu=["debug","info","warn","error","log","assert","trace"],ed={};function eh(e){if(!("console"in z))return e();let t=z.console,n={},r=Object.keys(ed);r.forEach(e=>{let r=ed[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let ep=function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return eu.forEach(e=>{t[e]=()=>void 0}),t}();function ef(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof e||0===t?e:e.length<=t?e:"".concat(e.slice(0,t),"...")}function eg(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let r=e[t];try{eo(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.some(t=>(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!X(e)&&(K(t,"RegExp")?t.test(e):!!X(t)&&(n?e===t:e.includes(t)))})(e,t,n))}function ev(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);"function"==typeof i&&e_(i,r),e[t]=i}function ey(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(e){}}function e_(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,ey(e,"__sentry_original__",t)}catch(e){}}function eb(e){return e.__sentry_original__}function ew(e){if(J(e))return{message:e.message,name:e.name,stack:e.stack,...ek(e)};if(!en(e))return e;{let t={type:e.type,target:eS(e.target),currentTarget:eS(e.currentTarget),...ek(e)};return"undefined"!=typeof CustomEvent&&es(e,CustomEvent)&&(t.detail=e.detail),t}}function eS(e){try{return"undefined"!=typeof Element&&es(e,Element)?ea(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function ek(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function eE(e){return function e(t,n){if(function(e){if(!et(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.keys(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}function ex(){let e=z.crypto||z.msCrypto,t=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{let t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&t())>>e/4).toString(16))}function eT(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function eI(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function eO(e,t){let n=eT(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function eC(e){if(e&&e.__sentry_captured__)return!0;try{ey(e,"__sentry_captured__",!0)}catch(e){}return!1}function eR(e){return Array.isArray(e)?e:[e]}function eP(){return Date.now()/1e3}let eA=function(){let{performance:e}=z;if(!e||!e.now)return eP;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),eM=(()=>{let{performance:e}=z;if(!e||!e.now)return;let t=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,i=e.timing&&e.timing.navigationStart,s="number"==typeof i?Math.abs(i+t-n):36e5;return r<36e5||s<36e5?r<=s?e.timeOrigin:i:n})();function e$(e){return new eN(t=>{t(e)})}function ej(e){return new eN((t,n)=>{n(e)})}(I=j||(j={}))[I.PENDING=0]="PENDING",I[I.RESOLVED=1]="RESOLVED",I[I.REJECTED=2]="REJECTED";class eN{then(e,t){return new eN((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new eN((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(j.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(j.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===j.PENDING){if(er(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===j.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===j.RESOLVED&&e[1](this._value),this._state===j.REJECTED&&e[2](this._value),e[0]=!0)})}}constructor(e){eN.prototype.__init.call(this),eN.prototype.__init2.call(this),eN.prototype.__init3.call(this),eN.prototype.__init4.call(this),this._state=j.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}}function eD(){return W("globalEventProcessors",()=>[])}function eL(e){eD().push(e)}function eF(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new eN((i,s)=>{let o=e[r];if(null===t||"function"!=typeof o)i(t);else{let a=o({...t},n);er(a)?a.then(t=>eF(e,t,n,r+1).then(i)).then(null,s):eF(e,a,n,r+1).then(i).then(null,s)}})}function eU(e){let t=eA(),n={sid:ex(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>eE({sid:"".concat(n.sid),init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?"".concat(n.did):void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})};return e&&eB(n,e),n}function eB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||eA(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ex()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function eq(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),eB(e,n)}function eH(e){return e.transaction}let ez="baggage",eW="sentry-",eG=/^sentry-/;function eV(e){if(!X(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((e,t)=>{let n=eK(t);for(let t of Object.keys(n))e[t]=n[t];return e},{});else{if(!e)return;t=eK(e)}let n=Object.entries(t).reduce((e,t)=>{let[n,r]=t;return n.match(eG)&&(e[n.slice(eW.length)]=r),e},{});return Object.keys(n).length>0?n:void 0}function eJ(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,t,n)=>{let[r,i]=t,s="".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(i)),o=0===n?s:"".concat(e,",").concat(s);return o.length>8192?e:o},"")}(Object.entries(e).reduce((e,t)=>{let[n,r]=t;return r&&(e["".concat(eW).concat(n)]=r),e},{}))}function eK(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,t)=>{let[n,r]=t;return e[n]=r,e},{})}let eY=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function eZ(e){let t;if(!e)return;let n=e.match(eY);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}function eX(e,t){let n=eZ(e),r=eV(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceId:i||ex(),parentSpanId:s||ex().substring(16),spanId:ex().substring(16),sampled:o,dsc:r||{}}:{traceId:i||ex(),spanId:ex().substring(16)}}function eQ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ex(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ex().substring(16),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(e,"-").concat(t).concat(r)}function e0(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,tags:a,origin:l}=e4(e);return eE({data:r,op:i,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:n,origin:l})}function e1(e){let{traceId:t,spanId:n}=e.spanContext();return eQ(t,n,e5(e))}function e2(e){return"number"==typeof e?e3(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?e3(e.getTime()):eA()}function e3(e){return e>9999999999?e/1e3:e}function e4(e){return"function"==typeof e.getSpanJSON?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function e5(e){let{traceFlags:t}=e.spanContext();return!!(1&t)}function e6(e,t,n){let r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=eE({environment:r.environment||G,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function e8(e){let t=tS();if(!t)return{};let n=e6(e4(e).trace_id||"",t,tk()),r=eH(e);if(!r)return n;let i=r&&r._frozenDynamicSamplingContext;if(i)return i;let{sampleRate:s,source:o}=r.metadata;null!=s&&(n.sample_rate="".concat(s));let a=e4(r);return o&&"url"!==o&&(n.transaction=a.description),n.sampled=String(e5(r)),t.emit&&t.emit("createDsc",n),n}function e7(e,t){let{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;(function(e,t){let{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t,l=eE(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});let c=eE(r);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});let u=eE(i);u&&Object.keys(u).length&&(e.user={...u,...e.user});let d=eE(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)})(e,t),r&&function(e,t){e.contexts={trace:e0(t),...e.contexts};let n=eH(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:e8(t),...e.sdkProcessingMetadata};let r=e4(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),e.fingerprint=e.fingerprint?eR(e.fingerprint):[],n&&(e.fingerprint=e.fingerprint.concat(n)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint,function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...s}}function e9(e,t){let{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:f}=t;te(e,"extra",n),te(e,"tags",r),te(e,"user",i),te(e,"contexts",s),te(e,"sdkProcessingMetadata",a),o&&(e.level=o),p&&(e.transactionName=p),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function te(e,t,n){if(n&&Object.keys(n).length)for(let r in e[t]={...e[t]},n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}class tt{static clone(e){return e?e.clone():new tt}clone(){let e=new tt;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&eB(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e;if(t instanceof tt){let e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else et(t)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext));return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=tn(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:eP(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:i,_user:s,_level:o,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:i,user:s,level:o,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e7(e,this.getScopeData()),eF([...n,...eD(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:ex();if(!this._client)return ep.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n&&n.event_id?n.event_id:ex();if(!this._client)return ep.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:ex();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):ep.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=tn()}}function tn(){return{traceId:ex(),spanId:ex().substring(16)}}let tr=parseFloat(B);class ti{isOlderThan(e){return this._version<e}bindClient(e){let t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){let t;let n=this.pushScope();try{t=e(n)}catch(e){throw this.popScope(),e}return er(t)?t.then(e=>(this.popScope(),e),e=>{throw this.popScope(),e}):(this.popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let n=this._lastEventId=t&&t.event_id?t.event_id:ex(),r=Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){let r=this._lastEventId=n&&n.event_id?n.event_id:ex(),i=Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r}),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:ex();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:n,client:r}=this.getStackTop();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=100}=r.getOptions&&r.getOptions()||{};if(s<=0)return;let o={timestamp:eP(),...e},a=i?eh(()=>i(o,t)):o;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){let{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){let t=to(this);try{e(this)}finally{to(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let e=this.getStackTop().scope,t=e.getSession();t&&eq(t),this._sendSessionUpdate(),e.setSession()}startSession(e){let{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=G}=n&&n.getOptions()||{},{userAgent:s}=z.navigator||{},o=eU({release:r,environment:i,user:t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&eB(a,{status:"exited"}),this.endSession(),t.setSession(o),o}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=ts().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,n)}constructor(e,t,n,r=tr){let i,s;this._version=r,t?i=t:(i=new tt).setClient(e),n?s=n:(s=new tt).setClient(e),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=s}}function ts(){return z.__SENTRY__=z.__SENTRY__||{extensions:{},hub:void 0},z}function to(e){let t=ts(),n=tc(t);return tu(t,e),n}function ta(){let e=ts();if(e.__SENTRY__&&e.__SENTRY__.acs){let t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return(!(e&&e.__SENTRY__&&e.__SENTRY__.hub)||tc(e).isOlderThan(tr))&&tu(e,new ti),tc(e)}(e)}function tl(){return ta().getIsolationScope()}function tc(e){return W("hub",()=>new ti,e)}function tu(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}let td=/\(error: (.*)\)/,th=/captureMessage|captureException/;function tp(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=e.split("\n");for(let e=t;e<i.length;e++){let t=i[e];if(t.length>1024)continue;let s=td.test(t)?t.replace(td,"$1"):t;if(!s.match(/\S*Error: /)){for(let e of r){let t=e(s);if(t){n.push(t);break}}if(n.length>=50)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),th.test(t[t.length-1].function||"")&&(t.pop(),th.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(n)}}let tf="<anonymous>";function tg(e){try{if(!e||"function"!=typeof e)return tf;return e.name||tf}catch(e){return tf}}function tm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity;try{return function e(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Infinity,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}(),[a,l]=o;if(null==r||["number","boolean","string"].includes(typeof r)&&!ei(r))return r;let c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if(t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(eo(t))return"[VueViewModel]";if(et(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return"[Function: ".concat(tg(t),"]");if("symbol"==typeof t)return"[".concat(String(t),"]");if("bigint"==typeof t)return"[BigInt: ".concat(String(t),"]");let r=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(r))return"[HTMLElement: ".concat(r,"]");return"[object ".concat(r,"]")}catch(e){return"**non-serializable** (".concat(e,")")}}(t,r);if(!c.startsWith("[object "))return c;if(r.__sentry_skip_normalization__)return r;let u="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:i;if(0===u)return c.replace("object ","");if(a(r))return"[Circular ~]";if(r&&"function"==typeof r.toJSON)try{let t=r.toJSON();return e("",t,u-1,s,o)}catch(e){}let d=Array.isArray(r)?[]:{},h=0,p=ew(r);for(let t in p){if(!Object.prototype.hasOwnProperty.call(p,t))continue;if(h>=s){d[t]="[MaxProperties ~]";break}let n=p[t];d[t]=e(t,n,u-1,s,o),h++}return l(r),d}("",e,t,r)}catch(e){return{ERROR:"**non-serializable** (".concat(e,")")}}}function tv(e,t,n,i,s,o){let{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ex(),timestamp:t.timestamp||eP()},u=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:G),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=ef(e.message,s));let o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=ef(o.value,s));let a=e.request;a&&a.url&&(a.url=ef(a.url,s))})(c,e),u.length>0&&(c.sdk=c.sdk||{},c.sdk.integrations=[...c.sdk.integrations||[],...u]),void 0===t.type&&function(e,t){let n;let r=z._sentryDebugIds;if(!r)return;let i=ty.get(t);i?n=i:(n=new Map,ty.set(t,n));let s=Object.keys(r).reduce((e,i)=>{let s;let o=n.get(i);o?s=o:(s=t(i),n.set(i,s));for(let t=s.length-1;t>=0;t--){let n=s[t];if(n.filename){e[n.filename]=r[i];break}}return e},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=s[e.filename])})})}catch(e){}}(c,e.stackParser);let d=function(e,t){if(!t)return e;let n=e?e.clone():new tt;return n.update(t),n}(i,n.captureContext);n.mechanism&&eO(c,n.mechanism);let h=s&&s.getEventProcessors?s.getEventProcessors():[],p=(r||(r=new tt),r).getScopeData();o&&e9(p,o.getScopeData()),d&&e9(p,d.getScopeData());let f=[...n.attachments||[],...p.attachments];return f.length&&(n.attachments=f),e7(c,p),eF([...h,...eD(),...p.eventProcessors],c,n).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.keys(t).forEach(e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})})}(e),"number"==typeof a&&a>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:tm(e.data,t,n)}}))},...e.user&&{user:tm(e.user,t,n)},...e.contexts&&{contexts:tm(e.contexts,t,n)},...e.extra&&{extra:tm(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=tm(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>{let r=e4(e).data;return r&&(e.data=tm(r,t,n)),e})),r}(e,a,l):e)}let ty=new WeakMap,t_=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function tb(e,t){return ta().captureEvent(e,t)}function tw(e,t){ta().addBreadcrumb(e,t)}function tS(){return ta().getClient()}function tk(){return ta().getScope()}function tE(e){let t=tS(),n=tl(),r=tk(),{release:i,environment:s=G}=t&&t.getOptions()||{},{userAgent:o}=z.navigator||{},a=eU({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&"ok"===l.status&&eB(l,{status:"exited"}),tx(),n.setSession(a),r.setSession(a),a}function tx(){let e=tl(),t=tk(),n=t.getSession()||e.getSession();n&&eq(n),tT(),e.setSession(),t.setSession()}function tT(){let e=tl(),t=tk(),n=tS(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function tI(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){tx();return}tT()}function tO(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=tS(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}let tC=[];function tR(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function tP(e,t,n){if(!n[t.name]){if(n[t.name]=t,-1===tC.indexOf(t.name)&&(t.setupOnce(eL,ta),tC.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if(e.addEventProcessor&&"function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}}}function tA(e,t){return Object.assign(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t(...n)},{id:e})}let tM="FunctionToString",t$=new WeakMap,tj=()=>({name:tM,setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=eb(this),s=t$.has(tS())&&void 0!==r?r:this;return i.apply(s,t)}}catch(e){}},setup(e){t$.set(e,!0)}}),tN=tA(tM,tj),tD=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],tL=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],tF="InboundFilters",tU=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:tF,setupOnce(){},processEvent:(t,n,r)=>{var i,s;return(i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:tD],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:tL],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions())).ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(t)||(s=i.ignoreErrors,!t.type&&s&&s.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push("".concat(t.type,": ").concat(t.value))),n})(t).some(e=>em(e,s))||function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&em(n,t)}(t,i.ignoreTransactions)||function(e,t){if(!t||!t.length)return!1;let n=tq(e);return!!n&&em(n,t)}(t,i.denyUrls))||!function(e,t){if(!t||!t.length)return!0;let n=tq(e);return!n||em(n,t)}(t,i.allowUrls)?null:t}}},tB=tA(tF,tU);function tq(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(e){return null}}function tH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(!s.exception||!s.exception.values||!o||!es(o.originalException,Error))return;let a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=(function e(t,n,r,i,s,o,a,l){if(o.length>=r+1)return o;let c=[...o];if(es(i[s],Error)){tz(a,l);let o=t(n,i[s]),u=c.length;tW(o,s,u,l),c=e(t,n,r,i[s],s,[o,...c],o,u)}return Array.isArray(i.errors)&&i.errors.forEach((i,o)=>{if(es(i,Error)){tz(a,l);let u=t(n,i),d=c.length;tW(u,"errors[".concat(o,"]"),d,l),c=e(t,n,r,i,s,[u,...c],u,d)}}),c})(e,t,i,o.originalException,r,s.exception.values,a,0).map(e=>(e.value&&(e.value=ef(e.value,n)),e)))}function tz(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function tW(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function tG(e,t){let n={type:t.name||t.constructor.name,value:t.message},r=e(t.stack||"",1);return r.length&&(n.stacktrace={frames:r}),n}let tV="LinkedErrors",tJ=tA(tV,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit||5,n=e.key||"cause";return{name:tV,setupOnce(){},preprocessEvent(e,r,i){let s=i.getOptions();tH(tG,s.stackParser,s.maxValueLength,n,t,e,r)}}}),tK=0;function tY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t)return t;if(eb(e))return e}catch(t){return e}let r=function(){let r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);let i=r.map(e=>tY(e,t));return e.apply(this,i)}catch(e){throw tK++,setTimeout(()=>{tK--}),!function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=ta();if(2===t.length){let[e,n]=t;return e?r.withScope(()=>(r.getStackTop().scope=e,n(e))):r.withScope(n)}r.withScope(t[0])}(n=>{n.addEventProcessor(e=>(t.mechanism&&(eI(e,void 0,void 0),eO(e,t.mechanism)),e.extra={...e.extra,arguments:r},e)),function(e,t){ta().captureException(e,t?t instanceof tt||"function"==typeof t||Object.keys(t).some(e=>t_.includes(e))?{captureContext:t}:t:void 0)}(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}e_(r,e),ey(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}let tZ={},tX={};function tQ(e,t){tZ[e]=tZ[e]||[],tZ[e].push(t)}function t0(e,t){tX[e]||(t(),tX[e]=!0)}function t1(e,t){let n=e&&tZ[e];if(n)for(let e of n)try{e(t)}catch(e){}}let t2=null;function t3(e){let t="error";tQ(t,e),t0(t,t4)}function t4(){t2=z.onerror,z.onerror=function(e,t,n,r,i){return t1("error",{column:r,error:i,line:n,msg:e,url:t}),!!t2&&!t2.__SENTRY_LOADER__&&t2.apply(this,arguments)},z.onerror.__SENTRY_INSTRUMENTED__=!0}let t5=null;function t6(e){let t="unhandledrejection";tQ(t,e),t0(t,t8)}function t8(){t5=z.onunhandledrejection,z.onunhandledrejection=function(e){return t1("unhandledrejection",e),!t5||!!t5.__SENTRY_LOADER__||t5.apply(this,arguments)},z.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function t7(e,t){let n=ne(e,t),r={type:t&&t.name,value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function t9(e,t){return{exception:{values:[t7(e,t)]}}}function ne(e,t){let n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(nt.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}let nt=/Minified React error #\d+;/i;function nn(e,t,n,r,i){let s;if(Y(t)&&t.error)return t9(e,t.error);if(Z(t)||K(t,"DOMException")){if("stack"in t)s=t9(e,t);else{let i=t.name||(Z(t)?"DOMError":"DOMException"),o=t.message?"".concat(i,": ").concat(t.message):i;eI(s=nr(e,o,n,r),o)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":"".concat(t.code)}),s}return J(t)?t9(e,t):(et(t)||en(t)?eO(s=function(e,t,n,r){let i=tS(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:en(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,t){let{isUnhandledRejection:n}=t,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=Object.keys(ew(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return ef(n[0],t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return ef(r,t)}}return""}(e),i=n?"promise rejection":"exception";if(Y(e))return"Event `ErrorEvent` captured as ".concat(i," with message `").concat(e.message,"`");if(en(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return"Event `".concat(t,"` (type=").concat(e.type,") captured as ").concat(i)}return"Object captured as ".concat(i," with keys: ").concat(r)}(t,{isUnhandledRejection:r})}]},extra:{__serialized__:function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,i=tm(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}(t,s)}};if(n){let t=ne(e,n);t.length&&(o.exception.values[0].stacktrace={frames:t})}return o}(e,t,n,i),{synthetic:!0}):(eI(s=nr(e,t,n,r),"".concat(t),void 0),eO(s,{synthetic:!0})),s)}function nr(e,t,n,r){let i={};if(r&&n){let r=ne(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(Q(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let ni="GlobalHandlers",ns=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={onerror:!0,onunhandledrejection:!0,...e};return{name:ni,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&t3(t=>{let{stackParser:n,attachStacktrace:r}=nl();if(tS()!==e||tK>0)return;let{msg:i,url:s,line:o,column:a,error:l}=t,c=void 0===l&&X(i)?function(e,t,n,r){let i=Y(e)?e.message:e,s="Error",o=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return o&&(s=o[1],i=o[2]),na({exception:{values:[{type:s,value:i}]}},t,n,r)}(i,s,o,a):na(nn(n,l||i,void 0,r,!1),s,o,a);c.level="error",tb(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}),t.onunhandledrejection&&t6(t=>{let{stackParser:n,attachStacktrace:r}=nl();if(tS()!==e||tK>0)return;let i=function(e){if(ee(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(t),s=ee(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(i))}]}}:nn(n,i,void 0,r,!0);s.level="error",tb(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}}},no=tA(ni,ns);function na(e,t,n,r){let i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=X(t)&&t.length>0?t:function(){try{return z.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),e}function nl(){let e=tS();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let nc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],nu="TryCatch",nd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:nu,setupOnce(){t.setTimeout&&ev(z,"setTimeout",np),t.setInterval&&ev(z,"setInterval",np),t.requestAnimationFrame&&ev(z,"requestAnimationFrame",nf),t.XMLHttpRequest&&"XMLHttpRequest"in z&&ev(XMLHttpRequest.prototype,"send",ng);let e=t.eventTarget;e&&(Array.isArray(e)?e:nc).forEach(nm)}}},nh=tA(nu,nd);function np(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n[0];return n[0]=tY(i,{mechanism:{data:{function:tg(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function nf(e){return function(t){return e.apply(this,[tY(t,{mechanism:{data:{function:"requestAnimationFrame",handler:tg(e)},handled:!1,type:"instrument"}})])}}function ng(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in i&&"function"==typeof i[e]&&ev(i,e,function(t){let n={mechanism:{data:{function:e,handler:tg(t)},handled:!1,type:"instrument"}},r=eb(t);return r&&(n.mechanism.data.handler=tg(r)),tY(t,n)})}),e.apply(this,n)}}function nm(e){let t=z[e]&&z[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(ev(t,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=tY(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:tg(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,tY(r,{mechanism:{data:{function:"addEventListener",handler:tg(r),target:e},handled:!1,type:"instrument"}}),i])}}),ev(t,"removeEventListener",function(e){return function(t,n,r){try{let i=n&&n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}function nv(){"console"in z&&eu.forEach(function(e){e in z.console&&ev(z.console,e,function(t){return ed[e]=t,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];t1("console",{args:n,level:e});let i=ed[e];i&&i.apply(z.console,n)}})})}function ny(e){tQ("dom",e),t0("dom",n_)}function n_(){if(!z.document)return;let e=t1.bind(null,"dom"),t=nb(e,!0);z.document.addEventListener("click",t,!1),z.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=z[t]&&z[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ev(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){let r=nb(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}}),ev(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function nb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;let r=function(e){try{return e.target}catch(e){return null}}(n);if("keypress"===n.type&&(!r||!r.tagName||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&!r.isContentEditable))return;ey(n,"_sentryCaptured",!0),r&&!r._sentryId&&ey(r,"_sentryId",ex());let i="keypress"===n.type?"input":n.type;!function(e){if(e.type!==o)return!1;try{if(!e.target||e.target._sentryId!==a)return!1}catch(e){}return!0}(n)&&(e({event:n,name:i,global:t}),o=n.type,a=r?r._sentryId:void 0),clearTimeout(s),s=z.setTimeout(()=>{a=void 0,o=void 0},1e3)}}let nw="__sentry_xhr_v3__";function nS(e){tQ("xhr",e),t0("xhr",nk)}function nk(){if(!z.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;ev(e,"open",function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=Date.now(),s=X(n[0])?n[0].toUpperCase():void 0,o=function(e){if(X(e))return e;try{return e.toString()}catch(e){}}(n[1]);if(!s||!o)return e.apply(this,n);this[nw]={method:s,url:o,request_headers:{}},"POST"===s&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let a=()=>{let e=this[nw];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}t1("xhr",{args:[s,o],endTimestamp:Date.now(),startTimestamp:i,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?ev(this,"onreadystatechange",function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return a(),e.apply(this,n)}}):this.addEventListener("readystatechange",a),ev(this,"setRequestHeader",function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let[i,s]=n,o=this[nw];return o&&X(i)&&X(s)&&(o.request_headers[i.toLowerCase()]=s),e.apply(this,n)}}),e.apply(this,n)}}),ev(e,"send",function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=this[nw];return i&&(void 0!==n[0]&&(i.body=n[0]),t1("xhr",{args:[i.method,i.url],startTimestamp:Date.now(),xhr:this})),e.apply(this,n)}})}function nE(){if(!("fetch"in z))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function nx(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function nT(e){let t="fetch";tQ(t,e),t0(t,nI)}function nI(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!nE())return!1;if(nx(z.fetch))return!0;let e=!1,t=z.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=nx(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){}return e})()&&ev(z,"fetch",function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:nC(t),method:nO(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:nC(t),method:nO(t,"method")?String(t.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:i,url:s},startTimestamp:Date.now()};return t1("fetch",{...o}),e.apply(z,n).then(e=>(t1("fetch",{...o,endTimestamp:Date.now(),response:e}),e),e=>{throw t1("fetch",{...o,endTimestamp:Date.now(),error:e}),e})}})}function nO(e,t){return!!e&&"object"==typeof e&&!!e[t]}function nC(e){return"string"==typeof e?e:e?nO(e,"url")?e.url:e.toString?e.toString():"":""}function nR(e){let t="history";tQ(t,e),t0(t,nP)}function nP(){if(!function(){let e=z.chrome,t=e&&e.app&&e.app.runtime,n="history"in z&&!!z.history.pushState&&!!z.history.replaceState;return!t&&n}())return;let e=z.onpopstate;function t(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n.length>2?n[2]:void 0;if(i){let e=l,t=String(i);l=t,t1("history",{from:e,to:t})}return e.apply(this,n)}}z.onpopstate=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=z.location.href,s=l;if(l=i,t1("history",{from:s,to:i}),e)try{return e.apply(this,n)}catch(e){}},ev(z.history,"pushState",t),ev(z.history,"replaceState",t)}let nA=["fatal","error","warning","log","info","debug"];function nM(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}let n$="Breadcrumbs",nj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:n$,setupOnce(){},setup(e){var n;t.console&&function(e){let t="console";tQ(t,e),t0(t,nv)}(function(t){var n;if(tS()!==e)return;let r={category:"console",data:{arguments:t.args,logger:"console"},level:"warn"===(n=t.level)?"warning":nA.includes(n)?n:"log",message:eg(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message="Assertion failed: ".concat(eg(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1)}tw(r,{input:t.args,level:t.level})}),t.dom&&ny((n=t.dom,function(t){let r,i;if(tS()!==e)return;let s="object"==typeof n?n.serializeAttribute:void 0,o="object"==typeof n&&"number"==typeof n.maxStringLength?n.maxStringLength:void 0;o&&o>1024&&(o=1024),"string"==typeof s&&(s=[s]);try{let e=t.event,n=e&&e.target?e.target:e;r=ea(n,{keyAttrs:s,maxStringLength:o}),i=ec(n)}catch(e){r="<unknown>"}if(0===r.length)return;let a={category:"ui.".concat(t.name),message:r};i&&(a.data={"ui.component_name":i}),tw(a,{event:t.event,name:t.name,global:t.global})})),t.xhr&&nS(function(t){if(tS()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[nw];if(!n||!r||!i)return;let{method:s,url:o,status_code:a,body:l}=i;tw({category:"xhr",data:{method:s,url:o,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r})}),t.fetch&&nT(function(t){if(tS()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(!(!r||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method)){if(t.error)tw({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r});else{let e=t.response;tw({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}),t.history&&nR(function(t){if(tS()!==e)return;let n=t.from,r=t.to,i=nM(z.location.href),s=n?nM(n):void 0,o=nM(r);s&&s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),tw({category:"navigation",data:{from:n,to:r}})}),t.sentry&&e.on&&e.on("beforeSendEvent",function(t){tS()===e&&tw({category:"sentry.".concat("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:function(e){let{message:t,event_id:n}=e;if(t)return t;let r=eT(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}(t)},{event:t})})}}},nN=tA(n$,nj),nD="LinkedErrors",nL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit||5,n=e.key||"cause";return{name:nD,setupOnce(){},preprocessEvent(e,r,i){let s=i.getOptions();tH(t7,s.stackParser,s.maxValueLength,n,t,e,r)}}},nF=tA(nD,nL),nU="HttpContext",nB=()=>({name:nU,setupOnce(){},preprocessEvent(e){if(!z.navigator&&!z.location&&!z.document)return;let t=e.request&&e.request.url||z.location&&z.location.href,{referrer:n}=z.document||{},{userAgent:r}=z.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),nq=tA(nU,nB),nH="Dedupe",nz=()=>{let e;return{name:nH,setupOnce(){},processEvent(t){if(t.type)return t;try{var n;if((n=e)&&(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&nV(e,t)&&nG(e,t))}(t,n)||function(e,t){let n=nJ(t),r=nJ(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&nV(e,t)&&nG(e,t))}(t,n)))return null}catch(e){}return e=t}}},nW=tA(nH,nz);function nG(e,t){let n=nK(e),r=nK(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function nV(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function nJ(e){return e.exception&&e.exception.values&&e.exception.values[0]}function nK(e){let t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){}}let nY={};z.Sentry&&z.Sentry.Integrations&&(nY=z.Sentry.Integrations);let nZ={...nY,...F,...U},nX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function nQ(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return"".concat(a,"://").concat(l).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(s?":".concat(s):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function n0(e){let t=nX.exec(e);if(!t){eh(()=>{console.error("Invalid Sentry Dsn: ".concat(e))});return}let[n,r,i="",s,o="",a]=t.slice(1),l="",c=a,u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){let e=c.match(/^\d+/);e&&(c=e[0])}return n1({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function n1(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function n2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[e,t]}function n3(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function n4(e,t){return(t||new TextEncoder).encode(e)}let n5={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function n6(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function n8(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:nQ(r)},...i&&{trace:eE({...i})}}}class n7 extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}class n9{captureException(e,t,n){if(eC(e))return;let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then(e=>this._captureEvent(e,t,n)).then(e=>{r=e})),r}captureMessage(e,t,n,r){let i=n&&n.event_id,s=Q(e)?e:String(e),o=ee(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(o.then(e=>this._captureEvent(e,n,r)).then(e=>{i=e})),i}captureEvent(e,t,n){if(t&&t.originalException&&eC(t.originalException))return;let r=t&&t.event_id,i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then(e=>{r=e})),r}captureSession(e){"string"!=typeof e.release||(this.sendSession(e),eB(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):e$(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(e){return null}}addIntegration(e){let t=this._integrations[e.name];tP(this,e,this._integrations),t||tR(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){var i;let s=n6(n),o=e.type&&"replay_event"!==e.type?e.type:"event";(i=n&&n.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let a=n8(e,s,r,t);return delete e.sdkProcessingMetadata,n2(a,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=function(e,t){let[n,r]=e;return[n,[...r,t]]}(n,function(e,t){let n="string"==typeof e.data?n4(e.data,t):e.data;return[eE({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));let r=this._sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=function(e,t,n,r){let i=n6(n);return n2({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:nQ(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let n="".concat(e,":").concat(t);this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){let t=function(e,t,n,r){let i={sent_at:new Date().toISOString()};return n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=nQ(t)),n2(i,[function(e){let t=function(e){let t="";for(let n of e){let e=Object.entries(n.tags),r=e.length>0?"|#".concat(e.map(e=>{let[t,n]=e;return"".concat(t,":").concat(n)}).join(",")):"";t+="".concat(n.name,"@").concat(n.unit,":").concat(n.metric,"|").concat(n.metricType).concat(r,"|T").concat(n.timestamp,"\n")}return t}(e);return[{type:"statsd",length:t.length},t]}(e)])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._hooks[e]&&this._hooks[e].forEach(e=>e(...n))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&tP(e,t,n)}),n}(this,e),tR(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&(eB(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new eN(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tl(),i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),tv(i,e,t,n,this,r).then(e=>{if(null===e)return e;let t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){let{traceId:r,spanId:i,parentSpanId:s,dsc:o}=t;e.contexts={trace:{trace_id:r,span_id:i,parent_span_id:s},...e.contexts};let a=o||e6(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e})}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then(e=>e.event_id,e=>{})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,s=rt(e),o=re(e),a=e.type||"error",l="before send for type `".concat(a,"`");if(o&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ej(new n7("Discarding event because it's not included in the random sample (sampling rate = ".concat(i,")"),"log"));let c="replay_event"===a?"replay":a,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new n7("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n="".concat(t," must return `null` or a valid event.");if(er(e))return e.then(e=>{if(!et(e)&&null!==e)throw new n7(n);return e},e=>{throw new n7("".concat(t," rejected with ").concat(e))});if(!et(e)&&null!==e)throw new n7(n);return e}(function(e,t,n){let{beforeSend:r,beforeSendTransaction:i}=e;return re(t)&&r?r(t,n):rt(t)&&i?i(t,n):t}(r,n,t),l)}).then(r=>{if(null===r)throw this.recordDroppedEvent("before_send",c,e),new n7("".concat(l," returned `null`, will not send event."),"log");let i=n&&n.getSession();!s&&i&&this._updateSessionFromEvent(i,r);let o=r.transaction_info;return s&&o&&r.transaction!==e.transaction&&(r.transaction_info={...o,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof n7)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new n7("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,e=>{})}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{let[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}})}constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn&&(this._dsn=function(e){let t="string"==typeof e?n0(e):n1(e);if(t)return t}(e.dsn)),this._dsn){let t=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="string"==typeof n?n:n.tunnel,i="string"!=typeof n&&n._metadata?n._metadata.sdk:void 0;return r||"".concat("".concat(function(e){let t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}(e)).concat(e.projectId,"/envelope/"),"?").concat(Object.keys(t={sentry_key:e.publicKey,sentry_version:"7",...i&&{sentry_client:"".concat(i.name,"/").concat(i.version)}}).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))).join("&"))}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}}function re(e){return void 0===e.type}function rt(e){return"transaction"===e.type}var rn=n(91393);class rr extends n9{eventFromException(e,t){return function(e,t,n,r){let i=nn(e,t,n&&n.syntheticException||void 0,r);return eO(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),e$(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s=nr(e,t,r&&r.syntheticException||void 0,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),e$(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;let t=function(e,t){let{metadata:n,tunnel:r,dsn:i}=t;return n2({event_id:e.event_id,sent_at:new Date().toISOString(),...n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!r&&!!i&&{dsn:nQ(i)}},[[{type:"user_report"},e]])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){var e;let t=this._clearOutcomes();if(0===t.length||!this._dsn)return;let n=n2((e=this._options.tunnel&&nQ(this._dsn))?{dsn:e}:{},[[{type:"client_report"},{timestamp:eP(),discarded_events:t}]]);this._sendEnvelope(n)}constructor(e){q(e,"browser",["browser"],z.SENTRY_SDK_SOURCE||(0,rn.S)()),super(e),e.sendClientReports&&z.document&&z.document.addEventListener("visibilitychange",()=>{"hidden"===z.document.visibilityState&&this._flushOutcomes()})}}function ri(e,t,n,r){let i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let rs=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ro=/\((\S*)(?::(\d+))(?::(\d+))\)/,ra=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ru=tp(...[[30,e=>{let t=rs.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){let e=ro.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}let[e,n]=rd(t[1]||"?",t[2]);return ri(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{let t=ra.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=rl.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||"?";return[n,e]=rd(n,e),ri(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{let t=rc.exec(e);return t?ri(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}]]),rd=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]};function rh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return(e[t]||e.all||0)>n}function rp(e,t){let{statusCode:n,headers:r}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),s={...e},o=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(o)for(let e of o.trim().split(",")){let[t,n,,,r]=e.split(":",5),o=parseInt(t,10),a=(isNaN(o)?60:o)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!r||r.split(";").includes("custom"))&&(s[e]=i+a):s[e]=i+a;else s.all=i+a}else a?s.all=i+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;let r=Date.parse("".concat(e));return isNaN(r)?6e4:r-t}(a,i):429===n&&(s.all=i+6e4);return s}function rf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return ej(new n7("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new eN((n,r)=>{let i=t.length;if(!i)return n(!0);let s=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{e$(e).then(()=>{--i||(clearTimeout(s),n(!0))},r)})})}}}(e.bufferSize||30),r={};function i(i){let s=[];if(n3(i,(t,n)=>{let i=n5[n];if(rh(r,i)){let r=rg(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else s.push(t)}),0===s.length)return e$();let o=n2(i[0],s),a=t=>{n3(o,(n,r)=>{let i=rg(n,r);e.recordDroppedEvent(t,n5[r],i)})};return n.add(()=>t({body:function(e,t){let[n,r]=e,i=JSON.stringify(n);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[n4(i,t),e]:i.push("string"==typeof e?n4(e,t):e)}for(let e of r){let[t,n]=e;if(s("\n".concat(JSON.stringify(t),"\n")),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(tm(n))}s(e)}}return"string"==typeof i?i:function(e){let t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t),r=0;for(let t of e)n.set(t,r),r+=t.length;return n}(i)}(o,e.textEncoder)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode),r=rp(r,e),e),e=>{throw a("network_error"),e})).then(e=>e,e=>{if(e instanceof n7)return a("queue_overflow"),e$();throw e})}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function rg(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function rm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){if(E)return E;if(nx(z.fetch))return E=z.fetch.bind(z);let e=z.document,t=z.fetch;if(e&&"function"==typeof e.createElement)try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){}return E=t.bind(z)}(),n=0,r=0;return rf(e,function(i){let s=i.body.length;n+=s,r++;let o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,o).then(e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return E=void 0,n-=s,r--,ej(e)}})}function rv(e){return rf(e,function(t){return new eN((n,r)=>{let i=new XMLHttpRequest;for(let t in i.onerror=r,i.onreadystatechange=()=>{4===i.readyState&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&i.setRequestHeader(t,e.headers[t]);i.send(t.body)})})}let ry=[tU(),tj(),nd(),nj(),ns(),nL(),nz(),nB()];var r_=n(83454);function rb(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call(t,...r)}),t=void 0)}return n}function rw(e){let t=c?c.get(e):void 0;if(!t)return;let n={};for(let[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(eE(r));return n}let rS="sentry.source",rk="sentry.sample_rate",rE="sentry.op",rx="sentry.origin";function rT(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);let n=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==n&&e.setStatus(n)}(O=N||(N={})).Ok="ok",O.DeadlineExceeded="deadline_exceeded",O.Unauthenticated="unauthenticated",O.PermissionDenied="permission_denied",O.NotFound="not_found",O.ResourceExhausted="resource_exhausted",O.InvalidArgument="invalid_argument",O.Unimplemented="unimplemented",O.Unavailable="unavailable",O.InternalError="internal_error",O.UnknownError="unknown_error",O.Cancelled="cancelled",O.AlreadyExists="already_exists",O.FailedPrecondition="failed_precondition",O.Aborted="aborted",O.OutOfRange="out_of_range",O.DataLoss="data_loss";class rI{add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}constructor(e=1e3){this._maxlen=e,this.spans=[]}}class rO{get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[rE]}set op(e){this.setAttribute(rE,e)}get origin(){return this._attributes[rx]}set origin(e){this.setAttribute(rx,e)}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){let t=new rO({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);let n=eH(this);return t.transaction=n,t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach(t=>this.setAttribute(t,e[t]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return rT(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){!this._endTime&&(eH(this),this._endTime=e2(e))}toTraceparent(){return e1(this)}toContext(){return eE({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return e0(this)}getSpanJSON(){return eE({data:this._getData(),description:this._name,op:this._attributes[rE],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[rx],_metrics_summary:rw(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;return n||r?n&&r?{...e,...t}:n?e:t:void 0}constructor(e={}){this._traceId=e.traceId||ex(),this._spanId=e.spanId||ex().substring(16),this._startTime=e.startTimestamp||eA(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[rx]:e.origin||"manual",[rE]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}}function rC(e){if(!tO())return;let t=function(e){if(e.startTime){let t={...e};return t.startTimestamp=e2(e.startTime),delete t.startTime,t}return e}(e),n=ta(),r=e.scope?e.scope.getSpan():rR();if(e.onlyIfParent&&!r)return;let i=(e.scope||tk()).clone();return function(e,t){var n;let r,{parentSpan:i,spanContext:s,forceTransaction:o,scope:a}=t;if(!tO())return;let l=tl();if(i&&!o)r=i.startChild(s);else if(i){let t=e8(i),{traceId:n,spanId:o}=i.spanContext(),a=e5(i);r=e.startTransaction({traceId:n,parentSpanId:o,parentSampled:a,...s,metadata:{dynamicSamplingContext:t,...s.metadata}})}else{let{traceId:t,dsc:n,parentSpanId:i,sampled:o}={...l.getPropagationContext(),...a.getPropagationContext()};r=e.startTransaction({traceId:t,parentSpanId:i,parentSampled:o,...s,metadata:{dynamicSamplingContext:n,...s.metadata}})}return a.setSpan(r),(n=r)&&(ey(n,rA,l),ey(n,rP,a)),r}(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:i})}function rR(){return tk().getSpan()}let rP="_sentryScope",rA="_sentryIsolationScope";class rM extends rO{get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[rS]&&{source:this._attributes[rS]},...this._attributes[rk]&&{sampleRate:this._attributes[rk]}}}set metadata(e){this._metadata=e}setName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";this._name=e,this.setAttribute(rS,t)}updateName(e){return this._name=e,this}initSpanRecorder(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new rI(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let t=e2(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return eE({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return e8(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(this._name="<unlabeled transaction>"),super.end(e);let t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled){t&&t.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(e=>e!==this&&e4(e).timestamp):[];if(this._trimEnd&&n.length>0){let e=n.map(e=>e4(e).timestamp).filter(Boolean);this._endTime=e.reduce((e,t)=>e>t?e:t)}let{scope:r,isolationScope:i}={scope:this[rP],isolationScope:this[rA]},{metadata:s}=this,{source:o}=s,a={contexts:{...this._contexts,trace:e0(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...s,capturedSpanScope:r,capturedSpanIsolationScope:i,...eE({dynamicSamplingContext:e8(this)})},_metrics_summary:rw(this),...o&&{transaction_info:{source:o}}};return Object.keys(this._measurements).length>0&&(a.measurements=this._measurements),a}constructor(e,t){super(e),this._contexts={},this._hub=t||ta(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}}let r$={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3};class rj extends rI{add(e){if(e.spanContext().spanId!==this.transactionSpanId){var t=this;let n=e.end;e.end=function(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return t._popActivity(e.spanContext().spanId),n.apply(e,i)},void 0===e4(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}}class rN extends rM{end(e){let t=e2(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){for(let e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;e4(e).timestamp||(e.setStatus("cancelled"),e.end(t));let{start_timestamp:n,timestamp:r}=e4(e),i=n&&n<t,s=(this._finalTimeout+this._idleTimeout)/1e3;return i&&r&&n&&r-n<s})}if(this._onScope){let e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){this.spanRecorder||(this.spanRecorder=new rj(e=>{this._finished||this._pushActivity(e)},e=>{this._finished||this._popActivity(e)},this.spanContext().spanId,e),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(e){let{restartOnChildSpanChange:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{restartOnChildSpanChange:!0};this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason="cancelled",this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason="idleTimeout",this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),this.activities[e]=!0}_popActivity(e){if(this.activities[e]&&delete this.activities[e],0===Object.keys(this.activities).length){let e=eA();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason="cancelled",this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(this.setStatus("deadline_exceeded"),this._finishReason="heartbeatFailed",this.end()):this._pingHeartbeat()}_pingHeartbeat(){setTimeout(()=>{this._beat()},this._heartbeatInterval)}constructor(e,t,n=r$.idleTimeout,r=r$.finalTimeout,i=r$.heartbeatInterval,s=!1,o=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason="externalFinish",this._autoFinishAllowed=!o,s&&t.getScope().setSpan(this),o||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason="finalTimeout",this.end())},this._finalTimeout)}}function rD(e){return(e||ta()).getScope().getTransaction()}let rL=!1;function rF(){let e=rD();e&&e.setStatus("internal_error")}function rU(e,t,n){let r;return tO(t)?void 0!==e.sampled?e.setAttribute(rk,Number(e.sampled)):("function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(rk,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(rk,Number(r))):(r=1,e.setAttribute(rk,r)),rB(r)&&r)?(e.sampled=Math.random()<r,e.sampled):e.sampled=!1:e.sampled=!1,e}function rB(e){return!ei(e)&&!!("number"==typeof e||"boolean"==typeof e)&&!(e<0)&&!(e>1)}function rq(){let e=this.getScope().getSpan();return e?{"sentry-trace":e1(e)}:{}}function rH(e,t){let n=this.getClient(),r=n&&n.getOptions()||{};(r.instrumenter||"sentry")!==(e.instrumenter||"sentry")&&(e.sampled=!1);let i=new rM(e,this);return(i=rU(i,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t})).isRecording()&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",i),i}function rz(e,t,n,r,i,s,o){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.getClient(),c=l&&l.getOptions()||{},u=new rN(t,e,n,r,o,i,a);return(u=rU(u,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s})).isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}function rW(){let e=ts();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=rH),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=rq),rL||(rL=!0,t3(rF),t6(rF)))}function rG(){z&&z.document&&z.document.addEventListener("visibilitychange",()=>{let e=rD();if(z.document.hidden&&e){let{op:t,status:n}=e4(e);n||e.setStatus("cancelled"),e.setTag("visibilitychange","document.hidden"),e.end()}})}rF.tag="sentry_tracingErrorCallback";let rV=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&((i=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=i,e(t))}},rJ=()=>"v3-".concat(Date.now(),"-").concat(Math.floor(Math.random()*(9e12-1))+1e12),rK=()=>{let e=z.performance.timing,t=z.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(let t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n},rY=()=>z.__WEB_VITALS_POLYFILL__?z.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||rK()):z.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],rZ=()=>{let e=rY();return e&&e.activationStart||0},rX=(e,t)=>{let n=rY(),r="navigate";return n&&(r=z.document.prerendering||rZ()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:rJ(),navigationType:r}},rQ=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(e=>{t(e.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},r0=(e,t)=>{let n=r=>{("pagehide"===r.type||"hidden"===z.document.visibilityState)&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},r1=e=>{let t;let n=rX("CLS",0),r=0,i=[],s=e=>{e.forEach(e=>{if(!e.hadRecentInput){let s=i[0],o=i[i.length-1];r&&0!==i.length&&e.startTime-o.startTime<1e3&&e.startTime-s.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>n.value&&(n.value=r,n.entries=i,t&&t())}})},o=rQ("layout-shift",s);if(o){t=rV(e,n);let r=()=>{s(o.takeRecords()),t(!0)};return r0(r),r}},r2=-1,r3=()=>"hidden"!==z.document.visibilityState||z.document.prerendering?1/0:0,r4=()=>{r0(e=>{let{timeStamp:t}=e;r2=t},!0)},r5=()=>(r2<0&&(r2=r3(),r4()),{get firstHiddenTime(){return r2}}),r6=e=>{let t;let n=r5(),r=rX("FID"),i=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))},s=e=>{e.forEach(i)},o=rQ("first-input",s);t=rV(e,r),o&&r0(()=>{s(o.takeRecords()),o.disconnect()},!0)},r8=0,r7=1/0,r9=0,ie=e=>{e.forEach(e=>{e.interactionId&&(r7=Math.min(r7,e.interactionId),r8=(r9=Math.max(r9,e.interactionId))?(r9-r7)/7+1:0)})},it=()=>u?r8:performance.interactionCount||0,ir=()=>{"interactionCount"in performance||u||(u=rQ("event",ie,{type:"event",buffered:!0,durationThreshold:0}))},ii=()=>it(),is=[],io={},ia=e=>{let t=is[is.length-1],n=io[e.interactionId];if(n||is.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};io[t.id]=t,is.push(t)}is.sort((e,t)=>t.latency-e.latency),is.splice(10).forEach(e=>{delete io[e.id]})}},il=()=>{let e=Math.min(is.length-1,Math.floor(ii()/50));return is[e]},ic=(e,t)=>{let n;t=t||{},ir();let r=rX("INP"),i=e=>{e.forEach(e=>{e.interactionId&&ia(e),"first-input"!==e.entryType||is.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))||ia(e)});let t=il();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,n())},s=rQ("event",i,{durationThreshold:t.durationThreshold||40});n=rV(e,r,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),r0(()=>{i(s.takeRecords()),r.value<0&&ii()>0&&(r.value=0,r.entries=[]),n(!0)}))},iu={},id=e=>{let t;let n=r5(),r=rX("LCP"),i=e=>{let i=e[e.length-1];if(i){let e=Math.max(i.startTime-rZ(),0);e<n.firstHiddenTime&&(r.value=e,r.entries=[i],t())}},s=rQ("largest-contentful-paint",i);if(s){t=rV(e,r);let n=()=>{iu[r.id]||(i(s.takeRecords()),s.disconnect(),iu[r.id]=!0,t(!0))};return["keydown","click"].forEach(e=>{addEventListener(e,n,{once:!0,capture:!0})}),r0(n,!0),n}},ih=e=>{z.document&&(z.document.prerendering?addEventListener("prerenderingchange",()=>ih(e),!0):"complete"!==z.document.readyState?addEventListener("load",()=>ih(e),!0):setTimeout(e,0))},ip=(e,t)=>{t=t||{};let n=rX("TTFB"),r=rV(e,n,t.reportAllChanges);ih(()=>{let e=rY();if(e){if(n.value=Math.max(e.responseStart-rZ(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}})},ig={},im={};function iv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ix("lcp",e,iS,p,t)}function iy(e,t){return iT(e,t),im[e]||(function(e){let t={};"event"===e&&(t.durationThreshold=0),rQ(e,t=>{i_(e,{entries:t})},t)}(e),im[e]=!0),iI(e,t)}function i_(e,t){let n=ig[e];if(n&&n.length)for(let e of n)try{e(t)}catch(e){}}function ib(){return r1(e=>{i_("cls",{metric:e}),d=e})}function iw(){return r6(e=>{i_("fid",{metric:e}),h=e})}function iS(){return id(e=>{i_("lcp",{metric:e}),p=e})}function ik(){return ip(e=>{i_("ttfb",{metric:e}),f=e})}function iE(){return ic(e=>{i_("inp",{metric:e}),g=e})}function ix(e,t,n,r){let i,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return iT(e,t),im[e]||(i=n(),im[e]=!0),r&&t({metric:r}),iI(e,t,s?i:void 0)}function iT(e,t){ig[e]=ig[e]||[],ig[e].push(t)}function iI(e,t,n){return()=>{n&&n();let r=ig[e];if(!r)return;let i=r.indexOf(t);-1!==i&&r.splice(i,1)}}function iO(e){return[{type:"span"},e]}function iC(e){return"number"==typeof e&&isFinite(e)}function iR(e,t){let{startTimestamp:n,...r}=t;return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild({startTimestamp:n,...r})}function iP(e){return e/1e3}function iA(){return z&&z.addEventListener&&z.performance}let iM=0,i$={};function ij(){let e=iA();if(e&&eM){e.mark&&z.performance.mark("sentry-tracing-init");let t=ix("fid",e=>{let{metric:t}=e,n=t.entries[t.entries.length-1];if(!n)return;let r=iP(eM),i=iP(n.startTime);i$.fid={value:t.value,unit:"millisecond"},i$["mark.fid"]={value:r+i,unit:"second"}},iw,h),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ix("cls",e,ib,d,t)}(e=>{let{metric:t}=e,n=t.entries[t.entries.length-1];n&&(i$.cls={value:t.value,unit:""},v=n)},!0),r=iv(e=>{let{metric:t}=e,n=t.entries[t.entries.length-1];n&&(i$.lcp={value:t.value,unit:"millisecond"},m=n)},!0),i=ix("ttfb",e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(i$.ttfb={value:t.value,unit:"millisecond"})},ik,f);return()=>{t(),n(),r(),i()}}return()=>void 0}function iN(){iy("longtask",e=>{let{entries:t}=e;for(let e of t){let t=rD();if(!t)return;let n=iP(eM+e.startTime),r=iP(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})}function iD(){iy("event",e=>{let{entries:t}=e;for(let e of t){let t=rD();if(!t)return;if("click"===e.name){let n=iP(eM+e.startTime),r=iP(e.duration),i={description:ea(e.target),op:"ui.interaction.".concat(e.name),origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},s=ec(e.target);s&&(i.attributes={"ui.component_name":s}),t.startChild(i)}}})}function iL(e,t){if(iA()&&eM){let n=ix("inp",n=>{let r,{metric:i}=n;if(void 0===i.value)return;let s=i.entries.find(e=>e.duration===i.value&&void 0!==iF[e.name]),o=tS();if(!s||!o)return;let a=iF[s.name],l=o.getOptions(),c=iP(eM+s.startTime),u=iP(i.value),d=void 0!==s.interactionId?e[s.interactionId]:void 0;if(void 0===d)return;let{routeName:h,parentContext:p,activeTransaction:f,user:g,replayId:m}=d,v=void 0!==g?g.email||g.id||g.ip_address:void 0,y=void 0!==f?f.getProfileId():void 0,_=new rO({startTimestamp:c,endTimestamp:c+u,op:"ui.interaction.".concat(a),name:ea(s.target),attributes:{release:l.release,environment:l.environment,transaction:h,...void 0!==v&&""!==v?{user:v}:{},...void 0!==y?{profile_id:y}:{},...void 0!==m?{replay_id:m}:{}},exclusiveTime:i.value,measurements:{inp:{value:i.value,unit:"millisecond"}}}),b=!!tO(l)&&!!rB(r=void 0!==p&&"function"==typeof l.tracesSampler?l.tracesSampler({transactionContext:p,name:p.name,parentSampled:p.parentSampled,attributes:{...p.data,...p.attributes},location:z.location}):void 0!==p&&void 0!==p.sampled?p.sampled:void 0!==l.tracesSampleRate?l.tracesSampleRate:1)&&(!0===r?t:!1===r?0:r*t);if(b&&Math.random()<b){let e=_?function(e,t){let n={sent_at:new Date().toISOString()};return t&&(n.dsn=nQ(t)),n2(n,e.map(iO))}([_],o.getDsn()):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,e=>{});return}},iE,g);return()=>{n()}}return()=>void 0}let iF={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function iU(e){let t=iA();if(!t||!z.performance.getEntries||!eM)return;let n=iP(eM),r=t.getEntries(),{op:i,start_timestamp:s}=e4(e);if(r.slice(iM).forEach(t=>{let r=iP(t.startTime),i=iP(t.duration);if("navigation"!==e.op||!s||!(n+r<s))switch(t.entryType){case"navigation":["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{iB(e,t,r,n)}),iB(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),iB(e,t,"fetch",n,"cache","domainLookupStart"),iB(e,t,"domainLookup",n,"DNS"),t.responseEnd&&(iR(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+iP(t.requestStart),endTimestamp:n+iP(t.responseEnd)}),iR(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+iP(t.responseStart),endTimestamp:n+iP(t.responseEnd)}));break;case"mark":case"paint":case"measure":{(function(e,t,n,r,i){let s=i+n;iR(e,{description:t.name,endTimestamp:s+r,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})})(e,t,r,i,n);let s=r5(),o=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&o&&(i$.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(i$.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":(function(e,t,n,r,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let o=nM(n),a={};iq(a,t,"transferSize","http.response_transfer_size"),iq(a,t,"encodedBodySize","http.response_content_length"),iq(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=n.includes(z.location.origin);let l=s+r;iR(e,{description:n.replace(z.location.origin,""),endTimestamp:l+i,op:t.initiatorType?"resource.".concat(t.initiatorType):"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})})(e,t,t.name,r,i,n)}}),iM=Math.max(r.length-1,0),function(e){let t=z.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),iC(n.rtt)&&(i$["connection.rtt"]={value:n.rtt,unit:"millisecond"})),iC(t.deviceMemory)&&e.setTag("deviceMemory","".concat(t.deviceMemory," GB")),iC(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===i){(function(e){let t=rY();if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})})(i$),["fcp","fp","lcp"].forEach(e=>{if(!i$[e]||!s||n>=s)return;let t=Math.abs((n+iP(i$[e].value)-s)*1e3);i$[e].value=t});let t=i$["mark.fid"];t&&i$.fid&&(iR(e,{description:"first input delay",endTimestamp:t.value+iP(i$.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete i$["mark.fid"]),"fcp"in i$||delete i$.cls,Object.keys(i$).forEach(e=>{!function(e,t,n){let r=rD();r&&r.setMeasurement(e,t,n)}(e,i$[e].value,i$[e].unit)}),m&&(m.element&&e.setTag("lcp.element",ea(m.element)),m.id&&e.setTag("lcp.id",m.id),m.url&&e.setTag("lcp.url",m.url.trim().slice(0,200)),e.setTag("lcp.size",m.size)),v&&v.sources&&v.sources.forEach((t,n)=>e.setTag("cls.source.".concat(n+1),ea(t.node)))}m=void 0,v=void 0,i$={}}function iB(e,t,n,r,i,s){let o=s?t[s]:t["".concat(n,"End")],a=t["".concat(n,"Start")];a&&o&&iR(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+iP(a),endTimestamp:r+iP(o)})}function iq(e,t,n,r){let i=t[n];null!=i&&i<2147483647&&(e[r]=i)}let iH=["localhost",/^\/(?!\/)/],iz={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:iH,tracePropagationTargets:iH};function iW(e){let{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:iz.traceFetch,traceXHR:iz.traceXHR,...e},a="function"==typeof s?s:e=>!0,l=e=>em(e,r||i||iH),c={};t&&nT(e=>{let t=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto.http.browser";if(!tO()||!e.fetchData)return;let s=t(e.fetchData.url);if(e.endTimestamp&&s){let t=e.fetchData.__span;if(!t)return;let n=r[t];if(n){if(e.response){rT(n,e.response.status);let t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){let e=parseInt(t);e>0&&n.setAttribute("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.end(),delete r[t]}return}let o=tk(),a=tS(),{method:l,url:c}=e.fetchData,u=s?rC({name:"".concat(l," ").concat(c),onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,[rx]:i},op:"http.client"}):void 0;if(u&&(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u),n(e.fetchData.url)&&a){let t=e.args[0];e.args[1]=e.args[1]||{};let n=e.args[1];n.headers=function(e,t,n,r,i){let s=i||n.getSpan(),{traceId:o,spanId:a,sampled:l,dsc:c}={...tl().getPropagationContext(),...n.getPropagationContext()},u=s?e1(s):eQ(o,a,l),d=eJ(c||(s?e8(s):e6(o,t,n))),h=r.headers||("undefined"!=typeof Request&&es(e,Request)?e.headers:void 0);if(!h)return{"sentry-trace":u,baggage:d};if("undefined"!=typeof Headers&&es(h,Headers)){let e=new Headers(h);return e.append("sentry-trace",u),d&&e.append(ez,d),e}if(Array.isArray(h)){let e=[...h,["sentry-trace",u]];return d&&e.push([ez,d]),e}{let e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),d&&t.push(d),{...h,"sentry-trace":u,baggage:t.length>0?t.join(","):void 0}}}(t,a,o,n,u)}return u}(e,a,l,c);o&&t&&iG(t)}),n&&nS(e=>{let t=function(e,t,n,r){let i=e.xhr,s=i&&i[nw];if(!tO()||!i||i.__sentry_own_request__||!s)return;let o=t(s.url);if(e.endTimestamp&&o){let e=i.__sentry_xhr_span_id__;if(!e)return;let t=r[e];t&&void 0!==s.status_code&&(rT(t,s.status_code),t.end(),delete r[e]);return}let a=tk(),l=tl(),c=o?rC({name:"".concat(s.method," ").concat(s.url),onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,url:s.url,[rx]:"auto.http.browser"},op:"http.client"}):void 0;c&&(i.__sentry_xhr_span_id__=c.spanContext().spanId,r[i.__sentry_xhr_span_id__]=c);let u=tS();if(i.setRequestHeader&&n(s.url)&&u){let{traceId:e,spanId:t,sampled:n,dsc:r}={...l.getPropagationContext(),...a.getPropagationContext()};(function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ez,n)}catch(e){}})(i,c?e1(c):eQ(e,t,n),eJ(r||(c?e8(c):e6(e,u,a))))}return c}(e,a,l,c);o&&t&&iG(t)})}function iG(e){let{url:t}=e4(e).data||{};if(!t||"string"!=typeof t)return;let n=iy("resource",r=>{let{entries:i}=r;i.forEach(r=>{"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)&&r.name.endsWith(t)&&((function(e){let{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(let i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}(e.nextHopProtocol),r=[];return(r.push(["network.protocol.version",n],["network.protocol.name",t]),eM)?[...r,["http.request.redirect_start",iV(e.redirectStart)],["http.request.fetch_start",iV(e.fetchStart)],["http.request.domain_lookup_start",iV(e.domainLookupStart)],["http.request.domain_lookup_end",iV(e.domainLookupEnd)],["http.request.connect_start",iV(e.connectStart)],["http.request.secure_connection_start",iV(e.secureConnectionStart)],["http.request.connection_end",iV(e.connectEnd)],["http.request.request_start",iV(e.requestStart)],["http.request.response_start",iV(e.responseStart)],["http.request.response_end",iV(e.responseEnd)]]:r})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n))})})}function iV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((eM||performance.timeOrigin)+e)/1e3}let iJ={...r$,markBackgroundTransactions:!0,routingInstrumentation:function(e){let t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!z||!z.location)return;let i=z.location.href;n&&(t=e({name:z.location.pathname,startTimestamp:eM?eM/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&nR(n=>{let{to:r,from:s}=n;if(void 0===s&&i&&-1!==i.indexOf(r)){i=void 0;return}s!==r&&(i=void 0,t&&t.end(),t=e({name:z.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...iz};class iK{setupOnce(e,t){this._getCurrentHub=t;let n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:h}=this.options,p=r&&r.tracePropagationTargets||this.options.tracePropagationTargets;i(e=>{let n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n},o,s),a&&rG(),h.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),iW({traceFetch:l,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){let t;if(!this._getCurrentHub)return;let n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a="pageload"===e.op;if(a){let{traceId:n,dsc:r,parentSpanId:i,sampled:s}=eX(a?iY("sentry-trace"):"",a?iY("baggage"):void 0);t={traceId:n,parentSpanId:i,parentSampled:s,...e,metadata:{...e.metadata,dynamicSamplingContext:r},trimEnd:!0}}else t={trimEnd:!0,...e};let l="function"==typeof r?r(t):t,c=void 0===l?{...t,sampled:!1}:l;c.metadata=c.name!==t.name?{...c.metadata,source:"custom"}:c.metadata,this._latestRoute.name=c.name,this._latestRoute.context=c,c.sampled;let{location:u}=z,d=rz(n,c,i,s,!0,{location:u},o,a);return a&&(z.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(z.document.readyState)&&d.sendAutoFinishSignal()}),["interactive","complete"].includes(z.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback(e=>{this._collectWebVitals(),iU(e)}),d}_registerInteractionListener(){let e;let t=()=>{let{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,i=rD();if(i&&i.op&&["navigation","pageload"].includes(i.op)||(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)||!this._latestRoute.name)return;let s=this._getCurrentHub(),{location:o}=z;e=rz(s,{name:this._latestRoute.name,op:"ui.action.click",trimEnd:!0,data:{[rS]:this._latestRoute.context?function(e){let t=e.attributes&&e.attributes[rS],n=e.data&&e.data[rS],r=e.metadata&&e.metadata.source;return t||n||r}(this._latestRoute.context):"url"}},t,n,!0,{location:o},r)};["click"].forEach(e=>{addEventListener(e,t,{once:!1,capture:!0})})}_registerInpInteractionListener(){let e=e=>{let{entries:t}=e,n=tS(),r=void 0!==n&&void 0!==n.getIntegrationByName?n.getIntegrationByName("Replay"):void 0,i=void 0!==r?r.getReplayId():void 0,s=rD(),o=tk(),a=void 0!==o?o.getUser():void 0;t.forEach(e=>{if("duration"in e){let t=e.interactionId;if(void 0===t)return;let n=this._interactionIdToRouteNameMapping[t],r=e.duration,o=e.startTime,l=Object.keys(this._interactionIdToRouteNameMapping),c=l.length>0?l.reduce((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t):void 0;if(!("first-input"===e.entryType&&l.map(e=>this._interactionIdToRouteNameMapping[e]).some(e=>e.duration===r&&e.startTime===o))&&t){if(n)n.duration=Math.max(n.duration,r);else if(l.length<10||void 0===c||r>this._interactionIdToRouteNameMapping[c].duration){let e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(c&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[c],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:r,parentContext:n,user:a,activeTransaction:s,replayId:i,startTime:o})}}}})};iy("event",e),iy("first-input",e)}constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,rW(),this.options={...iJ,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=ij(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&iL(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&iN(),this.options._experiments.enableInteractions&&iD(),this._latestRoute={name:void 0,context:void 0}}}function iY(e){let t=el("meta[name=".concat(e,"]"));return t?t.getAttribute("content"):void 0}let iZ={...r$,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...iz},iX=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};rW(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);let t={...iZ,...e},n=ij(),r={};t.enableInp&&iL(r,t.interactionsSampleRate),t.enableLongTask&&iN(),t._experiments.enableInteractions&&iD();let i={name:void 0,context:void 0};function s(e){let r;let s=ta(),{beforeStartSpan:o,idleTimeout:a,finalTimeout:l,heartbeatInterval:c}=t,u="pageload"===e.op;if(u){let{traceId:t,dsc:n,parentSpanId:i,sampled:s}=eX(u?i1("sentry-trace"):"",u?i1("baggage"):void 0);r={traceId:t,parentSpanId:i,parentSampled:s,...e,metadata:{...e.metadata,dynamicSamplingContext:n},trimEnd:!0}}else r={trimEnd:!0,...e};let d=o?o(r):r;d.metadata=d.name!==r.name?{...d.metadata,source:"custom"}:d.metadata,i.name=d.name,i.context=d,d.sampled;let{location:h}=z,p=rz(s,d,a,l,!0,{location:h},c,u);return u&&z.document&&(z.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(z.document.readyState)&&p.sendAutoFinishSignal()}),["interactive","complete"].includes(z.document.readyState)&&p.sendAutoFinishSignal()),p.registerBeforeFinishCallback(e=>{n(),iU(e)}),p}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){let n;let o=e.getOptions(),{markBackgroundSpan:a,traceFetch:l,traceXHR:c,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:h}=t,p=o&&o.tracePropagationTargets||t.tracePropagationTargets,f=z.location&&z.location.href;e.on&&(e.on("startNavigationSpan",e=>{n&&n.end(),n=s({op:"navigation",...e})}),e.on("startPageLoadSpan",e=>{n&&n.end(),n=s({op:"pageload",...e})})),t.instrumentPageLoad&&e.emit&&z.location&&iQ(e,{name:z.location.pathname,startTimestamp:eM?eM/1e3:void 0,origin:"auto.pageload.browser",attributes:{[rS]:"url"}}),t.instrumentNavigation&&e.emit&&z.location&&nR(t=>{let{to:n,from:r}=t;if(void 0===r&&f&&-1!==f.indexOf(n)){f=void 0;return}r!==n&&(f=void 0,i0(e,{name:z.location.pathname,origin:"auto.navigation.browser",attributes:{[rS]:"url"}}))}),a&&rG(),h.enableInteractions&&function(e,t){let n;let r=()=>{let{idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=e,o=rD();if(o&&o.op&&["navigation","pageload"].includes(o.op)||(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name))return;let{location:a}=z,l={name:t.name,op:"ui.action.click",trimEnd:!0,data:{[rS]:t.context?function(e){let t=e.attributes&&e.attributes[rS],n=e.data&&e.data[rS],r=e.metadata&&e.metadata.source;return t||n||r}(t.context):"url"}};n=rz(ta(),l,r,i,!0,{location:a},s)};["click"].forEach(e=>{addEventListener(e,r,{once:!1,capture:!0})})}(t,i),t.enableInp&&function(e,t){let n=n=>{let{entries:r}=n,i=tS(),s=void 0!==i&&void 0!==i.getIntegrationByName?i.getIntegrationByName("Replay"):void 0,o=void 0!==s?s.getReplayId():void 0,a=rD(),l=tk(),c=void 0!==l?l.getUser():void 0;r.forEach(n=>{if("duration"in n){let r=n.interactionId;if(void 0===r)return;let i=e[r],s=n.duration,l=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce((t,n)=>e[t].duration<e[n].duration?t:n):void 0;if(!("first-input"===n.entryType&&u.map(t=>e[t]).some(e=>e.duration===s&&e.startTime===l))&&r){if(i)i.duration=Math.max(i.duration,s);else if(u.length<10||void 0===d||s>e[d].duration){let n=t.name,i=t.context;n&&i&&(d&&Object.keys(e).length>=10&&delete e[d],e[r]={routeName:n,duration:s,parentContext:i,user:c,activeTransaction:a,replayId:o,startTime:l})}}}})};iy("event",n),iy("first-input",n)}(r,i),iW({traceFetch:l,traceXHR:c,tracePropagationTargets:p,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:t}};function iQ(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);let n=rR();return"pageload"===(n&&e4(n).op)?n:void 0}function i0(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);let n=rR();return"navigation"===(n&&e4(n).op)?n:void 0}function i1(e){let t=el("meta[name=".concat(e,"]"));return t?t.getAttribute("content"):void 0}let i2={"routing.instrumentation":"next-app-router"};var i3=n(11163),i4=n.n(i3);let i5={"routing.instrumentation":"next-pages-router"},i6=tS();function i8(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;z.document.getElementById("__NEXT_DATA__")?function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,{route:s,params:o,sentryTrace:a,baggage:l}=function(){let e;let t=z.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(e){}if(!e)return{};let n={},{page:r,query:i,props:s}=e;return n.route=r,n.params=i,s&&s.pageProps&&(n.sentryTrace=s.pageProps._sentryTraceData,n.baggage=s.pageProps._sentryBaggage),n}(),{traceparentData:c,dynamicSamplingContext:u,propagationContext:d}=function(e,t){let n=eZ(e),r=eV(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:i||ex(),parentSpanId:s||ex().substring(16),spanId:ex().substring(16),sampled:o,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:i||ex(),spanId:ex().substring(16)}}}(a,l);if(tk().setPropagationContext(d),T=s||z.location.pathname,t){let t={name:T,op:"pageload",origin:"auto.pageload.nextjs.pages_router_instrumentation",tags:i5,startTimestamp:eM?eM/1e3:void 0,...o&&i6&&i6.getOptions().sendDefaultPii&&{data:o},...c,metadata:{source:s?"route":"url",dynamicSamplingContext:c&&!u?{}:u}};x=e(t),r(t)}n&&i4().events.on("routeChangeStart",t=>{let n,r;let s=t.split(/[\?#]/,1)[0],o=function(e){let t=(z.__BUILD_MANIFEST||{}).sortedPages;if(t)return t.find(t=>{let n=function(e){let t=e.split("/"),n="";t[t.length-1].match(/^\[\[\.\.\..+\]\]$/)&&(t.pop(),n="(?:/(.+?))?");let r=t.map(e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return new RegExp("^".concat(r).concat(n,"(?:/)?$"))}(t);return e.match(n)})}(s);o?(n=o,r="route"):(n=s,r="url");let a={...i5,from:T};T=n,x&&x.end();let l={name:n,op:"navigation",origin:"auto.navigation.nextjs.pages_router_instrumentation",tags:a,metadata:{source:r}},c=e(l);if(i(l),c){let e=c.startChild({op:"ui.nextjs.route-change",origin:"auto.ui.nextjs.pages_router_instrumentation",description:"Next.js Route Change"}),t=()=>{e.end(),i4().events.off("routeChangeComplete",t)};i4().events.on("routeChangeComplete",t)}})}(e,t,n,r||(()=>void 0),i||(()=>void 0)):function(e){let t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=z.location.pathname;if(n){let n={name:o,op:"pageload",origin:"auto.pageload.nextjs.app_router_instrumentation",tags:i2,startTimestamp:eM?eM/1e3:void 0,metadata:{source:"url"}};t=e(n),i(n)}r&&nT(n=>{if(void 0!==n.endTimestamp||"GET"!==n.fetchData.method)return;let r=function(e){if(!e[0]||"object"!=typeof e[0]||void 0===e[0].searchParams||!e[1]||"object"!=typeof e[1]||!("headers"in e[1]))return null;try{let t=e[0],n=e[1].headers;if("1"!==n.RSC||"1"===n["Next-Router-Prefetch"])return null;return{targetPathname:t.pathname}}catch(e){return null}}(n.args);if(null===r)return;let i=r.targetPathname,a={...i2,from:o};o=i,t&&t.end();let l={name:i,op:"navigation",origin:"auto.navigation.nextjs.app_router_instrumentation",tags:a,metadata:{source:"url"}};e(l),s(l)})}(e,t,n,r||(()=>void 0),i||(()=>void 0))}class i7 extends iK{constructor(e){super({tracingOrigins:[...iz.tracingOrigins,/^(api\/)/],routingInstrumentation:i8,...e})}}let i9=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function se(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r="",i=!1;for(let e=t.length-1;e>=-1&&!i;e--){let n=e>=0?t[e]:"/";n&&(r="".concat(n,"/").concat(r),i="/"===n.charAt(0))}return r=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e})(r.split("/").filter(e=>!!e),!i).join("/"),(i?"/":"")+r||"."}function st(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}let sn="RewriteFrames",sr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;let r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),i=/^\//.test(e.filename);if(r||i){var s;let i;let o=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,a=t?function(e,t){e=se(e).slice(1),t=se(t).slice(1);let n=st(e.split("/")),r=st(t.split("/")),i=Math.min(n.length,r.length),s=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){s=e;break}let o=[];for(let e=s;e<n.length;e++)o.push("..");return(o=o.concat(r.slice(s))).join("/")}(t,o):(i=function(e){let t=e.length>1024?"<truncated>".concat(e.slice(-1024)):e,n=i9.exec(t);return n?n.slice(1):[]}(o)[2],s&&i.slice(-1*s.length)===s&&(i=i.slice(0,i.length-s.length)),i);e.filename="".concat(n).concat(a)}return e});return{name:sn,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t&&t.frames&&t.frames.map(e=>r(e))}}}})}}}catch(t){return e}}(t)),t}}};tA(sn,sr);let si=e=>{let t=z.__rewriteFramesAssetPrefixPath__||"";return sr({iteratee:e=>{try{let{origin:n}=new URL(e.filename);e.filename=rb([e,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(n,"app://"),"access",e=>e.replace,"call",e=>e(t,"")])}catch(e){}return e.filename&&e.filename.startsWith("app:///_next")&&(e.filename=decodeURI(e.filename)),e.filename&&e.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(e.in_app=!1),e},...e})};function ss(e){let t=e.find(e=>"BrowserTracing"===e.name);if(!t)return e;if(t.afterAllSetup&&t.options){let{options:n}=t;e[e.indexOf(t)]=new i7(n)}if(!(t instanceof i7)){let n=t.options;delete n.routingInstrumentation,delete n.tracingOrigins,e[e.indexOf(t)]=new i7(n)}return e}function so(e){return"/"===e[e.length-1]?e.slice(0,-1):e}({...nZ});var sa=n(38223);function sl(){return!(0,sa.KV)()||void 0!==z.process&&"renderer"===z.process.type}let sc="sentryReplaySession",su="Unable to send Replay";function sd(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call(t,...r)}),t=void 0)}return n}function sh(e){let t=sd([e,"optionalAccess",e=>e.host]);return sd([t,"optionalAccess",e=>e.shadowRoot])===e}function sp(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function sf(e){try{var t;let n=e.rules||e.cssRules;return n?((t=Array.from(n,sg).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}}function sg(e){let t;if("styleSheet"in e)try{t=sf(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if("selectorText"in e&&e.selectorText.includes(":"))return e.cssText.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2");return t||e.cssText}(C=D||(D={}))[C.Document=0]="Document",C[C.DocumentType=1]="DocumentType",C[C.Element=2]="Element",C[C.Text=3]="Text",C[C.CDATA=4]="CDATA",C[C.Comment=5]="Comment";class sm{getId(e){var t;return e?(()=>-1,null!=(t=sd([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]))?t:-1):-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function sv(e){let{maskInputOptions:t,tagName:n,type:r}=e;return"OPTION"===n&&(n="SELECT"),!!(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function sy(e){let{isMasked:t,element:n,value:r,maskInputFn:i}=e,s=r||"";return t?(i&&(s=i(s,n)),"*".repeat(s.length)):s}function s_(e){return e.toLowerCase()}function sb(e){return e.toUpperCase()}let sw="__rrweb_original__";function sS(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?s_(t):null}function sk(e,t,n){return"INPUT"===t&&("radio"===n||"checkbox"===n)?e.getAttribute("value")||"":e.value}let sE=1,sx=RegExp("[^a-z0-9-_:]");function sT(){return sE++}let sI=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,sO=/^(?:[a-z+]+:)?\/\//i,sC=/^www\..*/i,sR=/^(data:)([^,]*),(.*)/i;function sP(e,t){return(e||"").replace(sI,(e,n,r,i,s,o)=>{let a=r||s||o,l=n||i||"";if(!a)return e;if(sO.test(a)||sC.test(a)||sR.test(a))return"url(".concat(l).concat(a).concat(l,")");if("/"===a[0])return"url(".concat(l).concat((t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+a).concat(l,")");let c=t.split("/"),u=a.split("/");for(let e of(c.pop(),u))"."!==e&&(".."===e?c.pop():c.push(e));return"url(".concat(l).concat(c.join("/")).concat(l,")")})}let sA=/^[^ \t\n\r\u000c]+/,sM=/^[, \t\n\r\u000c]+/;function s$(e,t){if(!t||""===t.trim())return t;let n=e.createElement("a");return n.href=t,n.href}function sj(){let e=document.createElement("a");return e.href="",e.href}function sN(e,t,n,r,i,s){return r?"src"!==n&&("href"!==n||"use"===t&&"#"===r[0])&&("xlink:href"!==n||"#"===r[0])&&("background"!==n||"table"!==t&&"td"!==t&&"th"!==t)?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;let i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}let i=[];for(;r(sM),!(n>=t.length);){let s=r(sA);if(","===s.slice(-1))s=s$(e,s.substring(0,s.length-1)),i.push(s);else{let r="";s=s$(e,s);let o=!1;for(;;){let e=t.charAt(n);if(""===e){i.push((s+r).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){n+=1,i.push((s+r).trim());break}"("===e&&(o=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r):"style"===n?sP(r,sj()):"object"===t&&"data"===n?s$(e,r):"function"==typeof s?s(n,r,i):r:s$(e,r):r}function sD(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function sL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:sL(e.parentNode,t,n,r+1)}function sF(e,t){return n=>{if(null===n)return!1;try{if(e){if("string"==typeof e){if(n.matches(".".concat(e)))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}(n,e))return!0}if(t&&n.matches(t))return!0;return!1}catch(e){return!1}}}function sU(e,t,n,r,i,s){try{let o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){let e=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(s){if((l=sL(o,sF(r,i)))<0)return!0;a=sL(o,sF(t,n),l>=0?l:1/0)}else{if((a=sL(o,sF(t,n)))<0)return!1;l=sL(o,sF(r,i),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!s}catch(e){}return!!s}function sB(e){return null==e?"":e.toLowerCase()}function sq(e,t){let n;let{doc:r,mirror:i,blockClass:s,blockSelector:o,unblockSelector:a,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:g={},maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S={},inlineImages:k=!1,recordCanvas:E=!1,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I=5e3,onStylesheetLoad:O,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:R=()=>!1,newlyAddedElement:P=!1}=t,{preserveWhiteSpace:A=!0}=t,M=function(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:g,maskInputFn:m,dataURLOptions:v={},inlineImages:b,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:k=!1}=t,E=function(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:D.Document,childNodes:[],compatMode:e.compatMode};return{type:D.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:D.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return function(e,t){let n;let{doc:r,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:a,maskInputOptions:l={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:h,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:g=!1,rootId:m,maskAllText:v,maskTextClass:b,unmaskTextClass:w,maskTextSelector:S,unmaskTextSelector:k}=t,E=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,i,s,o),x=function(e){if(e instanceof HTMLFormElement)return"form";let t=s_(e.tagName);return sx.test(t)?"div":t}(e),T={},I=e.attributes.length;for(let t=0;t<I;t++){let n=e.attributes[t];n.name&&!sD(x,n.name,n.value)&&(T[n.name]=sN(r,x,s_(n.name),n.value,e,c))}if("link"===x&&a){let t=Array.from(r.styleSheets).find(t=>t.href===e.href),n=null;t&&(n=sf(t)),n&&(delete T.rel,delete T.href,T._cssText=sP(n,t.href))}if("style"===x&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let t=sf(e.sheet);t&&(T._cssText=sP(t,sj()))}if("input"===x||"textarea"===x||"select"===x||"option"===x){let t=sS(e),n=sk(e,sb(x),t),r=e.checked;if("submit"!==t&&"button"!==t&&n){let r=sU(e,b,S,w,k,sv({type:t,tagName:sb(x),maskInputOptions:l}));T.value=sy({isMasked:r,element:e,value:n,maskInputFn:u})}r&&(T.checked=r)}if("option"===x&&(e.selected&&!l.select?T.selected=!0:delete T.selected),"canvas"===x&&p){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){let i=t.getImageData,s=sw in i?i[sw]:i;if(new Uint32Array(s.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(T.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let t=e.toDataURL(d.type,d.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height,t!==n.toDataURL(d.type,d.quality)&&(T.rr_dataURL=t)}}if("img"===x&&h){y||(_=(y=r.createElement("canvas")).getContext("2d"));let t=e.crossOrigin;e.crossOrigin="anonymous";let n=()=>{e.removeEventListener("load",n);try{y.width=e.naturalWidth,y.height=e.naturalHeight,_.drawImage(e,0,0),T.rr_dataURL=y.toDataURL(d.type,d.quality)}catch(t){console.warn("Cannot inline img src=".concat(e.currentSrc,"! Error: ").concat(t))}t?T.crossOrigin=t:e.removeAttribute("crossorigin")};e.complete&&0!==e.naturalWidth?n():e.addEventListener("load",n)}if(("audio"===x||"video"===x)&&(T.rr_mediaState=e.paused?"paused":"played",T.rr_mediaCurrentTime=e.currentTime),!g&&(e.scrollLeft&&(T.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(T.rr_scrollTop=e.scrollTop)),E){let{width:t,height:n}=e.getBoundingClientRect();T={class:T.class,rr_width:"".concat(t,"px"),rr_height:"".concat(n,"px")}}"iframe"!==x||f(T.src)||(e.contentDocument||(T.rr_src=T.src),delete T.src);try{customElements.get(x)&&(n=!0)}catch(e){}return{type:D.Element,tagName:x,attributes:T,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:E,rootId:m,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:f,maskInputFn:m,dataURLOptions:v,inlineImages:b,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:k,rootId:E,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName,h=e.textContent,p="STYLE"===d||void 0,f="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(p&&h){try{e.nextSibling||e.previousSibling||sd([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(h=sf(e.parentNode.sheet))}catch(t){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(t),e)}h=sP(h,sj())}f&&(h="SCRIPT_PLACEHOLDER");let m=sU(e,r,s,i,o,n);return p||f||g||!h||!m||(h=a?a(h):h.replace(/[\S]/g,"*")),g&&h&&(l.textarea||m)&&(h=c?c(h,e.parentNode):h.replace(/[\S]/g,"*")),"OPTION"===d&&h&&(h=sy({isMasked:sU(e,r,s,i,o,sv({type:null,tagName:d,maskInputOptions:l})),element:e,value:h,maskInputFn:c})),{type:D.Text,textContent:h||"",isStyle:p,rootId:u}}(e,{maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:g,maskInputOptions:f,maskInputFn:m,rootId:E});case e.CDATA_SECTION_NODE:return{type:D.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:D.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}(e,{doc:r,mirror:i,blockClass:s,blockSelector:o,maskAllText:l,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,dataURLOptions:S,inlineImages:k,recordCanvas:E,keepIframeSrcFn:R,newlyAddedElement:P});if(!M)return console.warn(e,"not serialized"),null;n=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===D.Comment)return!0;if(e.type===D.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js"))||t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(sB(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===sB(e.attributes.name)||"icon"===sB(e.attributes.rel)||"apple-touch-icon"===sB(e.attributes.rel)||"shortcut icon"===sB(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&sB(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(sB(e.attributes.property).match(/^(og|twitter|fb):/)||sB(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===sB(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===sB(e.attributes.name)||"googlebot"===sB(e.attributes.name)||"bingbot"===sB(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===sB(e.attributes.name)||"generator"===sB(e.attributes.name)||"framework"===sB(e.attributes.name)||"publisher"===sB(e.attributes.name)||"progid"===sB(e.attributes.name)||sB(e.attributes.property).match(/^article:/)||sB(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===sB(e.attributes.name)||"yandex-verification"===sB(e.attributes.name)||"csrf-token"===sB(e.attributes.name)||"p:domain_verify"===sB(e.attributes.name)||"verify-v1"===sB(e.attributes.name)||"verification"===sB(e.attributes.name)||"shopify-checkout-api-token"===sB(e.attributes.name)))return!0}}return!1}(M,w)&&(A||M.type!==D.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?sT():-2;let $=Object.assign(M,{id:n});if(i.add(e,$),-2===n)return null;x&&x(e);let j=!p;if($.type===D.Element){j=j&&!$.needBlock,delete $.needBlock;let t=e.shadowRoot;t&&sp(t)&&($.isShadowHost=!0)}if(($.type===D.Document||$.type===D.Element)&&j){w.headWhitespace&&$.type===D.Element&&"head"===$.tagName&&(A=!1);let t={doc:r,mirror:i,blockClass:s,blockSelector:o,maskAllText:l,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,skipChild:p,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:k,recordCanvas:E,preserveWhiteSpace:A,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:O,stylesheetLoadTimeout:C,keepIframeSrcFn:R};for(let n of Array.from(e.childNodes)){let e=sq(n,t);e&&$.childNodes.push(e)}if(e.nodeType===e.ELEMENT_NODE&&e.shadowRoot)for(let n of Array.from(e.shadowRoot.childNodes)){let r=sq(n,t);r&&(sp(e.shadowRoot)&&(r.isShadow=!0),$.childNodes.push(r))}}return e.parentNode&&sh(e.parentNode)&&sp(e.parentNode)&&($.isShadow=!0),$.type===D.Element&&"iframe"===$.tagName&&function(e,t,n){let r;let i=e.contentWindow;if(!i)return;let s=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){let r=setTimeout(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{clearTimeout(r),s=!0,t()});return}let o="about:blank";if(i.location.href!==o||e.src===o||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=e.contentDocument;if(t&&T){let n=sq(t,{doc:t,mirror:i,blockClass:s,blockSelector:o,unblockSelector:a,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:k,recordCanvas:E,preserveWhiteSpace:A,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:O,stylesheetLoadTimeout:C,keepIframeSrcFn:R});n&&T(e,n)}},I),$.type===D.Element&&"link"===$.tagName&&"stylesheet"===$.attributes.rel&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;let s=setTimeout(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{clearTimeout(s),i=!0,t()})}(e,()=>{if(O){let t=sq(e,{doc:r,mirror:i,blockClass:s,blockSelector:o,unblockSelector:a,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:m,maskTextFn:v,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:k,recordCanvas:E,preserveWhiteSpace:A,onSerialize:x,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:O,stylesheetLoadTimeout:C,keepIframeSrcFn:R});t&&O(e,t)}},C),$}function sH(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call(t,...r)}),t=void 0)}return n}function sz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let sW="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",sG={map:{},getId:()=>(console.error(sW),-1),getNode:()=>(console.error(sW),null),removeNodeFromMap(){console.error(sW)},has:()=>(console.error(sW),!1),reset(){console.error(sW)}};function sV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];let l=Date.now();i||!1!==n.leading||(i=l);let c=t-(l-i),u=this;c<=0||c>t?(r&&(clearTimeout(r),r=null),i=l,e.apply(u,o)):r||!1===n.trailing||(r=setTimeout(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(u,o)},c))}}function sJ(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}window.Proxy&&window.Reflect&&(sG=new Proxy(sG,{get:(e,t,n)=>("map"===t&&console.error(sW),Reflect.get(e,t,n))}));let sK=Date.now;function sY(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:sH([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||sH([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||sH([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:sH([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||sH([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||sH([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function sZ(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function sX(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sQ(e,t,n,r,i){if(!e)return!1;let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!s)return!1;let o=sF(t,n);if(!i){let e=r&&s.matches(r);return o(s)&&!e}let a=sL(s,o),l=-1;return!(a<0)&&(r&&(l=sL(s,sF(null,r))),a>-1&&l<0||a<l)}function s0(e,t){return -2===t.getId(e)}function s1(e){return!!e.changedTouches}function s2(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function s3(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function s4(e){return!!sH([e,"optionalAccess",e=>e.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(sK=()=>new Date().getTime());class s5{getId(e){var t;return t=this.styleIDMap.get(e),null!=t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){let n;return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}}function s6(e){let t=null;return sH([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function s8(e){let t=e.ownerDocument;return!!t&&(t.contains(e)||function(e){let t=e.ownerDocument;if(!t)return!1;let n=function(e){let t,n=e;for(;t=s6(n);)n=t;return n}(e);return t.contains(n)}(e))}var s7=((R=s7||{})[R.DomContentLoaded=0]="DomContentLoaded",R[R.Load=1]="Load",R[R.FullSnapshot=2]="FullSnapshot",R[R.IncrementalSnapshot=3]="IncrementalSnapshot",R[R.Meta=4]="Meta",R[R.Custom=5]="Custom",R[R.Plugin=6]="Plugin",R),s9=((P=s9||{})[P.Mutation=0]="Mutation",P[P.MouseMove=1]="MouseMove",P[P.MouseInteraction=2]="MouseInteraction",P[P.Scroll=3]="Scroll",P[P.ViewportResize=4]="ViewportResize",P[P.Input=5]="Input",P[P.TouchMove=6]="TouchMove",P[P.MediaInteraction=7]="MediaInteraction",P[P.StyleSheetRule=8]="StyleSheetRule",P[P.CanvasMutation=9]="CanvasMutation",P[P.Font=10]="Font",P[P.Log=11]="Log",P[P.Drag=12]="Drag",P[P.StyleDeclaration=13]="StyleDeclaration",P[P.Selection=14]="Selection",P[P.AdoptedStyleSheet=15]="AdoptedStyleSheet",P[P.CustomElement=16]="CustomElement",P),oe=((A=oe||{})[A.MouseUp=0]="MouseUp",A[A.MouseDown=1]="MouseDown",A[A.Click=2]="Click",A[A.ContextMenu=3]="ContextMenu",A[A.DblClick=4]="DblClick",A[A.Focus=5]="Focus",A[A.Blur=6]="Blur",A[A.TouchStart=7]="TouchStart",A[A.TouchMove_Departed=8]="TouchMove_Departed",A[A.TouchEnd=9]="TouchEnd",A[A.TouchCancel=10]="TouchCancel",A),ot=((M=ot||{})[M.Mouse=0]="Mouse",M[M.Pen=1]="Pen",M[M.Touch=2]="Touch",M);class on{get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=function(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call(t,...r)}),t=void 0)}return n}([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}constructor(){this.length=0,this.head=null,this.tail=null}}let or=(e,t)=>"".concat(e,"@").concat(t);class oi{init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new on,r=e=>{let t=e,n=-2;for(;-2===n;)n=(t=t&&t.nextSibling)&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!s8(i))return;let s=sh(i.parentNode)?this.mirror.getId(s6(i)):this.mirror.getId(i.parentNode),o=r(i);if(-1===s||-1===o)return n.addNode(i);let a=sq(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{s2(e,this.mirror)&&this.iframeManager.addIframe(e),s3(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),s4(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:s,nextId:o,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!oo(this.removes,e,this.mirror)||this.movedSet.has(e.parentNode))&&i(e);for(let e of this.addedSet)oa(this.droppedSet,e)||oo(this.removes,e,this.mirror)?oa(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let s=null;for(;n.length;){let e=null;if(s){let t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){let n=t;if(t=t.previous,n){let t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{let t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),i(e.value)}let o={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{let t;if(!s0(e.target,this.mirror)){try{t=document.implementation.createHTMLDocument()}catch(e){t=this.doc}switch(e.type){case"characterData":{let t=e.target.textContent;sQ(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:sU(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let n=e.target,r=e.attributeName,i=e.target.getAttribute(r);if("value"===r){let t=sS(n),r=n.tagName;i=sk(n,r,t);let s=sv({maskInputOptions:this.maskInputOptions,tagName:r,type:t});i=sy({isMasked:sU(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:n,value:i,maskInputFn:this.maskInputFn})}if(sQ(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===e.oldValue)return;let s=this.attributes.find(t=>t.node===e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(i)){if(n.contentDocument)return;r="rr_src"}if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!sD(n.tagName,r)&&(s.attributes[r]=sN(this.doc,s_(n.tagName),s_(r),i,n,this.maskAttributeFn),"style"===r)){let r=t.createElement("span");for(let t of(e.oldValue&&r.setAttribute("style",e.oldValue),Array.from(n.style))){let e=n.style.getPropertyValue(t),i=n.style.getPropertyPriority(t);e!==r.style.getPropertyValue(t)||i!==r.style.getPropertyPriority(t)?""===i?s.styleDiff[t]=e:s.styleDiff[t]=[e,i]:s._unchangedStyles[t]=[e,i]}for(let e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(s.styleDiff[e]=!1)}break}case"childList":if(sQ(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=sh(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);sQ(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s0(t,this.mirror)||-1===this.mirror.getId(t)||(this.addedSet.has(t)?(os(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||function e(t,n){if(sh(t))return!1;let r=n.getId(t);return!n.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,n))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[or(n,r)]?os(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!!(sh(e.target)&&sp(e.target))||void 0})),this.mapRemoves.push(t))})}}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(s0(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[or(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!sQ(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(e.childNodes.forEach(e=>this.genAdds(e)),s4(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}}function os(e,t){e.delete(t),t.childNodes.forEach(t=>os(e,t))}function oo(e,t,n){return 0!==e.length&&function e(t,n,r){let{parentNode:i}=n;if(!i)return!1;let s=r.getId(i);return!!t.some(e=>e.id===s)||e(t,i,r)}(e,t,n)}function oa(e,t){return 0!==e.size&&function e(t,n){let{parentNode:r}=n;return!!r&&(!!t.has(r)||e(t,r))}(e,t)}let ol=e=>w?function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e(...n)}catch(e){if(w&&!0===w(e))return()=>{};throw e}}:e;function oc(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call(t,...r)}),t=void 0)}return n}let ou=[];function od(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function oh(e,t){let n=new oi;ou.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,i=oc([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(r=window[i]);let s=new r(ol(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function op(e){let{scrollCb:t,doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,sampling:a}=e;return sz("scroll",ol(sV(ol(e=>{let a=od(e);if(!a||sQ(a,i,s,o,!0))return;let l=r.getId(a);if(a===n&&n.defaultView){let e=sY(n.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:a.scrollLeft,y:a.scrollTop})}),a.scroll||100)),n)}let of=["INPUT","TEXTAREA","SELECT"],og=new WeakMap;function om(e){var t;return t=[],ob("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||ob("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||ob("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||ob("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule?t.unshift(Array.from(e.parentRule.cssRules).indexOf(e)):e.parentStyleSheet&&t.unshift(Array.from(e.parentStyleSheet.cssRules).indexOf(e)),t}function ov(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function oy(e,t){let{mirror:n,stylesheetManager:r}=e,i=null;i="#document"===t.nodeName?n.getId(t):n.getId(t.host);let s="#document"===t.nodeName?oc([t,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):oc([t,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),o=oc([s,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(oc([s,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==i&&-1!==i&&s&&o?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return oc([o,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){let t=oc([o,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==i&&-1!==i)try{r.adoptStyleSheets(e,i)}catch(e){}return t}}),ol(()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})})):()=>{}}function o_(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let t=e.doc.defaultView;if(!t)return()=>{};let n=oh(e,e.doc),r=function(e){let t,{mousemoveCb:n,sampling:r,doc:i,mirror:s}=e;if(!1===r.mousemove)return()=>{};let o="number"==typeof r.mousemove?r.mousemove:50,a="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500,l=[],c=sV(ol(e=>{let r=Date.now()-t;n(l.map(e=>(e.timeOffset-=r,e)),e),l=[],t=null}),a),u=ol(sV(ol(e=>{let n=od(e),{clientX:r,clientY:i}=s1(e)?e.changedTouches[0]:e;t||(t=sK()),l.push({x:r,y:i,id:s.getId(n),timeOffset:sK()-t}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?s9.Drag:e instanceof MouseEvent?s9.MouseMove:s9.TouchMove)}),o,{trailing:!1})),d=[sz("mousemove",u,i),sz("touchmove",u,i),sz("drag",u,i)];return ol(()=>{d.forEach(e=>e())})}(e),i=function(e){let{mouseInteractionCb:t,doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,sampling:a}=e;if(!1===a.mouseInteraction)return()=>{};let l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[],u=null,d=e=>n=>{let a=od(n);if(sQ(a,i,s,o,!0))return;let l=null,c=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=ot.Mouse;break;case"touch":l=ot.Touch;break;case"pen":l=ot.Pen}l===ot.Touch?oe[e]===oe.MouseDown?c="TouchStart":oe[e]===oe.MouseUp&&(c="TouchEnd"):ot.Pen}else s1(n)&&(l=ot.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===ot.Touch||c.startsWith("Mouse")&&l===ot.Mouse)&&(l=null)):oe[e]===oe.Click&&(l=u,u=null);let d=s1(n)?n.changedTouches[0]:n;if(!d)return;let h=r.getId(a),{clientX:p,clientY:f}=d;ol(t)({type:oe[c],id:h,x:p,y:f,...null!==l&&{pointerType:l}})};return Object.keys(oe).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e]).forEach(e=>{let t=s_(e),r=d(e);if(window.PointerEvent)switch(oe[e]){case oe.MouseDown:case oe.MouseUp:t=t.replace("mouse","pointer");break;case oe.TouchStart:case oe.TouchEnd:return}c.push(sz(t,r,n))}),ol(()=>{c.forEach(e=>e())})}(e),s=op(e),o=function(e,t){let{viewportResizeCb:n}=e,{win:r}=t,i=-1,s=-1;return sz("resize",ol(sV(ol(()=>{let e=sZ(),t=sX();(i!==e||s!==t)&&(n({width:Number(t),height:Number(e)}),i=e,s=t)}),200)),r)}(e,{win:t}),a=function(e){let{inputCb:t,doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,ignoreClass:a,ignoreSelector:l,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:h,maskTextClass:p,unmaskTextClass:f,maskTextSelector:g,unmaskTextSelector:m}=e;function v(e){let t=od(e),r=e.isTrusted,d=t&&sb(t.tagName);if("OPTION"===d&&(t=t.parentElement),!t||!d||0>of.indexOf(d)||sQ(t,i,s,o,!0))return;let v=t;if(v.classList.contains(a)||l&&v.matches(l))return;let _=sS(t),b=sk(v,d,_),w=!1,S=sv({maskInputOptions:c,tagName:d,type:_}),k=sU(t,p,g,f,m,S);("radio"===_||"checkbox"===_)&&(w=t.checked),b=sy({isMasked:k,element:t,value:b,maskInputFn:u}),y(t,h?{text:b,isChecked:w,userTriggered:r}:{text:b,isChecked:w});let E=t.name;"radio"===_&&E&&w&&n.querySelectorAll('input[type="radio"][name="'.concat(E,'"]')).forEach(e=>{if(e!==t){let t=sy({isMasked:k,element:e,value:sk(e,d,_),maskInputFn:u});y(e,h?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}})}function y(e,n){let i=og.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){og.set(e,n);let i=r.getId(e);ol(t)({...n,id:i})}}let _=("last"===d.input?["change"]:["input","change"]).map(e=>sz(e,ol(v),n)),b=n.defaultView;if(!b)return()=>{_.forEach(e=>e())};let w=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),S=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&_.push(...S.map(e=>(function e(t,n,r,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,o=s.Object.getOwnPropertyDescriptor(t,n);return s.Object.defineProperty(t,n,i?r:{set(e){setTimeout(()=>{r.set.call(this,e)},0),o&&o.set&&o.set.call(this,e)}}),()=>e(t,n,o||{},!0)})(e[0],e[1],{set(){ol(v)({target:this,isTrusted:!1})}},!1,b))),ol(()=>{_.forEach(e=>e())})}(e),l=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:i,mirror:s,sampling:o,doc:a}=e,l=ol(e=>sV(ol(o=>{let a=od(o);if(!a||sQ(a,n,r,i,!0))return;let{currentTime:l,volume:c,muted:u,playbackRate:d}=a;t({type:e,id:s.getId(a),currentTime:l,volume:c,muted:u,playbackRate:d})}),o.media||500)),c=[sz("play",l(0),a),sz("pause",l(1),a),sz("seeked",l(2),a),sz("volumechange",l(3),a),sz("ratechange",l(4),a)];return ol(()=>{c.forEach(e=>e())})}(e),c=function(e,t){let n,r,{styleSheetRuleCb:i,mirror:s,stylesheetManager:o}=e,{win:a}=t;if(!a.CSSStyleSheet||!a.CSSStyleSheet.prototype)return()=>{};let l=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=new Proxy(l,{apply:ol((e,t,n)=>{let[r,a]=n,{id:l,styleId:c}=ov(t,s,o.styleMirror);return(l&&-1!==l||c&&-1!==c)&&i({id:l,styleId:c,adds:[{rule:r,index:a}]}),e.apply(t,n)})});let c=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=new Proxy(c,{apply:ol((e,t,n)=>{let[r]=n,{id:a,styleId:l}=ov(t,s,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&i({id:a,styleId:l,removes:[{index:r}]}),e.apply(t,n)})}),a.CSSStyleSheet.prototype.replace&&(n=a.CSSStyleSheet.prototype.replace,a.CSSStyleSheet.prototype.replace=new Proxy(n,{apply:ol((e,t,n)=>{let[r]=n,{id:a,styleId:l}=ov(t,s,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&i({id:a,styleId:l,replace:r}),e.apply(t,n)})})),a.CSSStyleSheet.prototype.replaceSync&&(r=a.CSSStyleSheet.prototype.replaceSync,a.CSSStyleSheet.prototype.replaceSync=new Proxy(r,{apply:ol((e,t,n)=>{let[r]=n,{id:a,styleId:l}=ov(t,s,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&i({id:a,styleId:l,replaceSync:r}),e.apply(t,n)})}));let u={};ow("CSSGroupingRule")?u.CSSGroupingRule=a.CSSGroupingRule:(ow("CSSMediaRule")&&(u.CSSMediaRule=a.CSSMediaRule),ow("CSSConditionRule")&&(u.CSSConditionRule=a.CSSConditionRule),ow("CSSSupportsRule")&&(u.CSSSupportsRule=a.CSSSupportsRule));let d={};return Object.entries(u).forEach(e=>{let[t,n]=e;d[t]={insertRule:n.prototype.insertRule,deleteRule:n.prototype.deleteRule},n.prototype.insertRule=new Proxy(d[t].insertRule,{apply:ol((e,t,n)=>{let[r,a]=n,{id:l,styleId:c}=ov(t.parentStyleSheet,s,o.styleMirror);return(l&&-1!==l||c&&-1!==c)&&i({id:l,styleId:c,adds:[{rule:r,index:[...om(t),a||0]}]}),e.apply(t,n)})}),n.prototype.deleteRule=new Proxy(d[t].deleteRule,{apply:ol((e,t,n)=>{let[r]=n,{id:a,styleId:l}=ov(t.parentStyleSheet,s,o.styleMirror);return(a&&-1!==a||l&&-1!==l)&&i({id:a,styleId:l,removes:[{index:[...om(t),r]}]}),e.apply(t,n)})})}),ol(()=>{a.CSSStyleSheet.prototype.insertRule=l,a.CSSStyleSheet.prototype.deleteRule=c,n&&(a.CSSStyleSheet.prototype.replace=n),r&&(a.CSSStyleSheet.prototype.replaceSync=r),Object.entries(u).forEach(e=>{let[t,n]=e;n.prototype.insertRule=d[t].insertRule,n.prototype.deleteRule=d[t].deleteRule})})}(e,{win:t}),u=oy(e,e.doc),d=function(e,t){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:i,stylesheetManager:s}=e,{win:o}=t,a=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:ol((e,t,o)=>{let[l,c,u]=o;if(i.has(l))return a.apply(t,[l,c,u]);let{id:d,styleId:h}=ov(oc([t,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),r,s.styleMirror);return(d&&-1!==d||h&&-1!==h)&&n({id:d,styleId:h,set:{property:l,value:c,priority:u},index:om(t.parentRule)}),e.apply(t,o)})});let l=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:ol((e,t,o)=>{let[a]=o;if(i.has(a))return l.apply(t,[a]);let{id:c,styleId:u}=ov(oc([t,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),r,s.styleMirror);return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,remove:{property:a},index:om(t.parentRule)}),e.apply(t,o)})}),ol(()=>{o.CSSStyleDeclaration.prototype.setProperty=a,o.CSSStyleDeclaration.prototype.removeProperty=l})}(e,{win:t}),h=e.collectFonts?function(e){let{fontCb:t,doc:n}=e,r=n.defaultView;if(!r)return()=>{};let i=[],s=new WeakMap,o=r.FontFace;r.FontFace=function(e,t,n){let r=new o(e,t,n);return s.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};let a=sJ(n.fonts,"add",function(e){return function(n){return setTimeout(ol(()=>{let e=s.get(n);e&&(t(e),s.delete(n))}),0),e.apply(this,[n])}});return i.push(()=>{r.FontFace=o}),i.push(a),ol(()=>{i.forEach(e=>e())})}(e):()=>{},p=function(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e,a=!0,l=ol(()=>{let e=t.getSelection();if(!e||a&&oc([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;let l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){let{startContainer:o,startOffset:a,endContainer:c,endOffset:u}=e.getRangeAt(t);sQ(o,r,i,s,!0)||sQ(c,r,i,s,!0)||l.push({start:n.getId(o),startOffset:a,end:n.getId(c),endOffset:u})}o({ranges:l})});return l(),sz("selectionchange",l)}(e),f=function(e){let{doc:t,customElementCb:n}=e,r=t.defaultView;return r&&r.customElements?sJ(r.customElements,"define",function(e){return function(t,r,i){try{n({define:{name:t}})}catch(e){}return e.apply(this,[t,r,i])}}):()=>{}}(e),g=[];for(let n of e.plugins)g.push(n.observer(n.callback,t,n.options));return ol(()=>{ou.forEach(e=>e.reset()),n.disconnect(),r(),i(),s(),o(),a(),l(),c(),u(),d(),h(),p(),f(),g.forEach(e=>e())})}function ob(e){return void 0!==window[e]}function ow(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class oS{getId(e,t,n,r){let i=n||this.getIdToRemoteIdMap(e),s=r||this.getRemoteIdToIdMap(e),o=i.get(t);return o||(o=this.generateIdFn(),i.set(t,o),s.set(o,t)),o}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);return"number"!=typeof t?t:r.get(t)||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}}function ok(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call(t,...r)}),t=void 0)}return n}class oE{addIframe(){}addLoadListener(){}attachIframe(){}constructor(){this.crossOriginIframeMirror=new oS(sT),this.crossOriginIframeRootIdMap=new WeakMap}}class ox{addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),ok([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let n=this.transformCrossOriginEvent(t,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case s7.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:s7.IncrementalSnapshot,data:{source:s9.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case s7.Meta:case s7.Load:case s7.DomContentLoaded:break;case s7.Plugin:return t;case s7.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case s7.IncrementalSnapshot:switch(t.data.source){case s9.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case s9.Drag:case s9.TouchMove:case s9.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case s9.ViewportResize:return!1;case s9.MediaInteraction:case s9.MouseInteraction:case s9.Scroll:case s9.CanvasMutation:case s9.Input:return this.replaceIds(t.data,e,["id"]),t;case s9.StyleSheetRule:case s9.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case s9.Font:return t;case s9.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case s9.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),ok([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"])})]),t}}return!1}replace(e,t,n,r){for(let i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===D.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new oS(sT),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new oS(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}}class oT{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class oI{init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!sp(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e);let n=oh({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(op({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(oy({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(sJ(e.prototype,"attachShadow",function(e){return function(r){let i=e.call(this,r);return this.shadowRoot&&s8(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}}class oO{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class oC{attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let n={id:t,styleIds:[]},r=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:sg(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new s5,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}}class oR{periodicallyClear(){!function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];(function(){if(b)return b;let e=window.document,t=window.requestAnimationFrame;if(e&&"function"==typeof e.createElement)try{let n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);let r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch(e){}return b=t.bind(window)})()(...t)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}}function oP(e){return e.timestamp=sK(),e}let oA=new sm;function oM(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emit:n,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:a=null,ignoreClass:l="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:h=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:g=!0,maskAllInputs:m,maskInputOptions:v,slimDOMOptions:y,maskAttributeFn:_,maskInputFn:b,maskTextFn:k,packFn:E,sampling:x={},dataURLOptions:T={},mousemoveWait:I,recordCanvas:O=!1,recordCrossOriginIframes:C=!1,recordAfter:R="DOMContentLoaded"===t.recordAfter?t.recordAfter:"load",userTriggeredOnInput:P=!1,collectFonts:A=!1,inlineImages:M=!1,plugins:$,keepIframeSrcFn:j=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:D,onMutation:L,getCanvasManager:F}=t;w=D;let U=!C||window.parent===window,B=!1;if(!U)try{window.parent.document&&(B=!1)}catch(e){B=!0}if(U&&!n)throw Error("emit function is required");void 0!==I&&void 0===x.mousemove&&(x.mousemove=I),oA.reset();let q=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==v?v:{},H=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if("NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),!Node.prototype.contains){var t=this;Node.prototype.contains=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n[0];if(!(0 in n))throw TypeError("1 argument is required");do if(t===i)return!0;while(i=i&&i.parentNode);return!1}}}();let z=0,W=e=>{for(let t of $||[])t.eventProcessor&&(e=t.eventProcessor(e));return E&&!B&&(e=E(e)),e},G=(t,s)=>{if(rb([ou,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])&&t.type!==s7.FullSnapshot&&!(t.type===s7.IncrementalSnapshot&&t.data.source===s9.Mutation)&&ou.forEach(e=>e.unfreeze()),U)rb([n,"optionalCall",e=>e(W(t),s)]);else if(B){let e={type:"rrweb",event:W(t),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(t.type===s7.FullSnapshot)e=t,z=0;else if(t.type===s7.IncrementalSnapshot){if(t.data.source===s9.Mutation&&t.data.isAttachIframe)return;z++;let n=i&&z>=i,s=r&&e&&t.timestamp-e.timestamp>r;(n||s)&&et(!0)}},V=e=>{G(oP({type:s7.IncrementalSnapshot,data:{source:s9.Mutation,...e}}))},J=e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.Scroll,...e}})),K=e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.CanvasMutation,...e}})),Y=new oC({mutationCb:V,adoptedStyleSheetCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.AdoptedStyleSheet,...e}}))}),Z="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new oE:new ox({mirror:oA,mutationCb:V,stylesheetManager:Y,recordCrossOriginIframes:C,wrappedEmit:G});for(let e of $||[])e.getMirror&&e.getMirror({nodeMirror:oA,crossOriginIframeMirror:Z.crossOriginIframeMirror,crossOriginIframeStyleMirror:Z.crossOriginIframeStyleMirror});let X=new oR,Q=function(e,t){try{return e?e(t):new oO}catch(e){return console.warn("Unable to initialize CanvasManager"),new oO}}(F,{mirror:oA,win:window,mutationCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.CanvasMutation,...e}})),recordCanvas:O,blockClass:s,blockSelector:o,unblockSelector:a,sampling:x.canvas,dataURLOptions:T,errorHandler:D}),ee="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new oT:new oI({mutationCb:V,scrollCb:J,bypassOptions:{onMutation:L,blockClass:s,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:g,maskInputOptions:q,dataURLOptions:T,maskAttributeFn:_,maskTextFn:k,maskInputFn:b,recordCanvas:O,inlineImages:M,sampling:x,slimDOMOptions:H,iframeManager:Z,stylesheetManager:Y,canvasManager:Q,keepIframeSrcFn:j,processedNodeManager:X},mirror:oA}),et=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];G(oP({type:s7.Meta,data:{href:window.location.href,width:sX(),height:sZ()}}),e),Y.reset(),ee.init(),ou.forEach(e=>e.lock());let t=function(e,t){let{mirror:n=new sm,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:y=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T=()=>!1}=t||{};return sq(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:_,inlineImages:h,recordCanvas:p,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:x,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:oA,blockClass:s,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:g,maskAllInputs:q,maskAttributeFn:_,maskInputFn:b,maskTextFn:k,slimDOM:H,dataURLOptions:T,recordCanvas:O,inlineImages:M,onSerialize:e=>{s2(e,oA)&&Z.addIframe(e),s3(e,oA)&&Y.trackLinkElement(e),s4(e)&&ee.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Z.attachIframe(e,t),ee.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:j});if(!t)return console.warn("Failed to snapshot the document");G(oP({type:s7.FullSnapshot,data:{node:t,initialOffset:sY(window)}})),ou.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,oA.getId(document))};S=et;try{let e=[],t=e=>ol(o_)({onMutation:L,mutationCb:V,mousemoveCb:(e,t)=>G(oP({type:s7.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.MouseInteraction,...e}})),scrollCb:J,viewportResizeCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.ViewportResize,...e}})),inputCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.Input,...e}})),mediaInteractionCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.MediaInteraction,...e}})),styleSheetRuleCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.StyleSheetRule,...e}})),styleDeclarationCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.StyleDeclaration,...e}})),canvasMutationCb:K,fontCb:e=>G(oP({type:s7.IncrementalSnapshot,data:{source:s9.Font,...e}})),selectionCb:e=>{G(oP({type:s7.IncrementalSnapshot,data:{source:s9.Selection,...e}}))},customElementCb:e=>{G(oP({type:s7.IncrementalSnapshot,data:{source:s9.CustomElement,...e}}))},blockClass:s,ignoreClass:l,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:q,inlineStylesheet:g,sampling:x,recordCanvas:O,inlineImages:M,userTriggeredOnInput:P,collectFonts:A,doc:e,maskAttributeFn:_,maskInputFn:b,maskTextFn:k,keepIframeSrcFn:j,blockSelector:o,unblockSelector:a,slimDOMOptions:H,dataURLOptions:T,mirror:oA,iframeManager:Z,stylesheetManager:Y,shadowDomManager:ee,processedNodeManager:X,canvasManager:Q,ignoreCSSAttributes:N,plugins:rb([$,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>G(oP({type:s7.Plugin,data:{plugin:e.name,payload:t}}))}))])||[]},{});Z.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});let n=()=>{et(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(sz("DOMContentLoaded",()=>{G(oP({type:s7.DomContentLoaded,data:{}})),"DOMContentLoaded"===R&&n()})),e.push(sz("load",()=>{G(oP({type:s7.Load,data:{}})),"load"===R&&n()},window))),()=>{e.forEach(e=>e()),X.destroy(),S=void 0,w=void 0}}catch(e){console.warn(e)}}function o$(e){return e>9999999999?e:1e3*e}function oj(e){return e>9999999999?e/1e3:e}function oN(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:s7.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:tm(t,10,1e3)}}),"console"===t.category)))}function oD(e){return e.closest("button,a")||e}function oL(e){let t=oF(e);return t&&t instanceof Element?oD(t):t}function oF(e){return"object"==typeof e&&e&&"target"in e?e.target:e}oM.mirror=oA,oM.takeFullSnapshot=function(e){if(!S)throw Error("please take full snapshot after start recording");S(e)};class oU{addListeners(){var e;let t=(e=()=>{this._lastMutation=oq()},k||(k=[],ev(z,"open",function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(k)try{k.forEach(e=>e())}catch(e){}return e.apply(z,n)}})),k.push(e),()=>{let t=k?k.indexOf(e):-1;t>-1&&k.splice(t,1)});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){var n;if(n=this._ignoreSelector,!oB.includes(t.tagName)||"INPUT"===t.tagName&&!["submit","button"].includes(t.getAttribute("type")||"")||"A"===t.tagName&&(t.hasAttribute("download")||t.hasAttribute("target")&&"_self"!==t.getAttribute("target"))||n&&t.matches(n)||!(e.data&&"number"==typeof e.data.nodeId&&e.timestamp))return;let r={timestamp:oj(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===r.node&&1>Math.abs(e.timestamp-r.timestamp))||(this._clicks.push(r),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=oj(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=oj(e)}registerClick(e){let t=oD(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=oq();for(let n of(this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}),e)){let e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,{clickCount:i,clickBreadcrumb:s}=e;if(!n&&!r){let n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:z.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,o);return}if(i>1){let e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:z.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}constructor(e,t,n=oN){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}}let oB=["A","BUTTON","INPUT"];function oq(){return Date.now()/1e3}function oH(e){return{timestamp:Date.now()/1e3,type:"default",...e}}($=L||(L={}))[$.Document=0]="Document",$[$.DocumentType=1]="DocumentType",$[$.Element=2]="Element",$[$.Text=3]="Text",$[$.CDATA=4]="CDATA",$[$.Comment=5]="Comment";let oz=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]),oW=e=>t=>{if(!e.isEnabled())return;let n=function(e){let{target:t,message:n}=function(e){let t;let n="click"===e.name,r=null;try{r=n?oL(e.event):oF(e.event),t=ea(r,{maxStringLength:200})||"<unknown>"}catch(e){t="<unknown>"}return{target:r,message:t}}(e);return oH({category:"ui.".concat(e.name),...oG(t,n)})}(t);if(!n)return;let r="click"===t.name,i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,oL(t.event)),oN(e,n)};function oG(e,t){let n=oM.mirror.getId(e),r=n&&oM.mirror.getNode(n),i=r&&oM.mirror.getMeta(r),s=i&&i.type===L.Element?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(e=>e.type===L.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:function(e){let t={};for(let n in e)if(oz.has(n)){let r=n;("data-testid"===n||"data-test-id"===n)&&(r="testId"),t[r]=e[n]}return t}(s.attributes)}}:{}}}let oV={resource:function(e){let{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:"".concat(t,".").concat(n),start:oK(s),end:oK(i),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}},paint:function(e){let{duration:t,entryType:n,name:r,startTime:i}=e,s=oK(i);return{type:n,name:r,start:s,end:s+t,data:void 0}},navigation:function(e){let{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:g}=e;return 0===i?null:{type:"".concat(t,".").concat(g),start:oK(p),end:oK(s),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:s,redirectCount:h}}}};function oJ(e){return oV[e.entryType]?oV[e.entryType](e):null}function oK(e){return((eM||z.performance.timeOrigin)+e)/1e3}class oY extends Error{constructor(){super("Event buffer exceeded maximum size of ".concat(2e7,"."))}}class oZ{get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new oY;this.events.push(e)}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(e=>e.timestamp).sort()[0];return e?o$(e):null}constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}}class oX{ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",n=>{let{data:r}=n;r.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,i)=>{let s=t=>{let{data:o}=t;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",s),!o.success){i(Error("Error in compression worker"));return}r(o.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}constructor(e){this._worker=e,this._id=0}}class oQ{get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=o$(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return(this._totalSize+=n.length,this._totalSize>2e7)?Promise.reject(new oY):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){let e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}constructor(e){this._worker=new oX(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}}class o0{get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:e,hasCheckout:t}=this._fallback,n=[];for(let t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){}}constructor(e){this._fallback=new oZ,this._compression=new oQ(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}}function o1(){try{return"sessionStorage"in z&&!!z.sessionStorage}catch(e){return!1}}function o2(e){return void 0!==e&&Math.random()<e}function o3(e){let t=Date.now(),n=e.id||ex(),r=e.started||t,i=e.lastActivity||t;return{id:n,started:r,lastActivity:i,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function o4(e){if(o1())try{z.sessionStorage.setItem(sc,JSON.stringify(e))}catch(e){}}function o5(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:r=!1}=e,{previousSessionId:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o3({sampled:o2(t)?"session":!!n&&"buffer",previousSessionId:i});return r&&o4(s),s}function o6(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function o8(e,t){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:i=Date.now()}=t;return o6(e.started,n,i)||o6(e.lastActivity,r,i)}function o7(e,t){let{sessionIdleExpire:n,maxReplayDuration:r}=t;return!!o8(e,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function o9(e,t){let{traceInternals:n,sessionIdleExpire:r,maxReplayDuration:i,previousSessionId:s}=e,o=t.stickySession&&function(e){if(!o1())return null;try{let e=z.sessionStorage.getItem(sc);if(!e)return null;let t=JSON.parse(e);return o3(t)}catch(e){return null}}(0);return o?o7(o,{sessionIdleExpire:r,maxReplayDuration:i})?o5(t,{previousSessionId:o.id}):o:o5(t,{previousSessionId:s})}function ae(e,t,n){return!!an(e,t)&&(at(e,t,n),!0)}async function at(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);let r=e.getOptions(),i=function(e,t){try{if("function"==typeof t&&e.type===s7.Custom)return t(e)}catch(e){return null}return e}(t,r.beforeAddRecordingEvent);if(!i)return;return await e.eventBuffer.addEvent(i)}catch(n){await e.stop({reason:n&&n instanceof oY?"addEventSizeExceeded":"addEvent"});let t=tS();t&&t.recordDroppedEvent("internal_sdk_error","replay")}}function an(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=o$(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(e.getOptions()._experiments.traceInternals,!1))}function ar(e){return"transaction"===e.type}function ai(e){return"feedback"===e.type}function as(e){let t=function(){let e=tS();if(!e)return!1;let t=e.getTransport();return!!t&&(t.send.__sentry__baseTransport__||!1)}();return(n,r)=>{if(!e.isEnabled()||n.type&&!ar(n))return;let i=r&&r.statusCode;if(!t||i&&!(i<200)&&!(i>=300)){if(ar(n)){!function(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n);return}!function(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();("function"!=typeof r||r(t))&&setTimeout(()=>{e.sendBufferedReplayOrFlush()})}(e,n)}}}function ao(e,t){return t.map(t=>{let{type:n,start:r,end:i,name:s,data:o}=t,a=e.throttledAddEvent({type:s7.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return"string"==typeof a?Promise.resolve(null):a})}function aa(e,t){e.isEnabled()&&null!==t&&!function(e,t){let n=t&&void 0!==t.getClient?t.getClient():t,r=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return!!r&&e.includes(r.host)||!!i&&so(e)===so(i)}(t.name,tS())&&e.addUpdate(()=>(ao(e,[t]),!0))}function al(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=am(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function ac(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function au(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[am(e)];if(!e)return[void 0]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}function ad(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function ah(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:eE({method:s,statusCode:o,request:a,response:l})}}function ap(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function af(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:i,warnings:s}=function(e){if(!e||"string"!=typeof e)return{body:e};let t=e.length>15e4,n=function(e){let t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){let t=e.slice(0,15e4);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(t,"…"),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function ag(e,t){return Object.keys(e).reduce((n,r)=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=e[r]),n},{})}function am(e){return new URLSearchParams(e).toString()}function av(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(z.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function ay(e,t,n){try{let r=await a_(e,t,n),i=ah("resource.fetch",r);aa(n.replay,i)}catch(e){}}async function a_(e,t,n){var r,i;let s=Date.now(),{startTimestamp:o=s,endTimestamp:a=s}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:h}=e.data,p=(r=n.networkDetailAllowUrls,em(av(l),r)&&(i=n.networkDetailDenyUrls,!em(av(l),i)));return{startTimestamp:o,endTimestamp:a,url:l,method:c,statusCode:u,request:p?function(e,t,n){let{networkCaptureBodies:r,networkRequestHeaders:i}=e,s=t?1===t.length&&"string"!=typeof t[0]?aE(t[0],i):2===t.length?aE(t[1],i):{}:{};if(!r)return af(s,n,void 0);let[o,a]=au(aS(t)),l=af(s,n,o);return a?ad(l,a):l}(n,t.input,d):ap(d),response:await ab(p,n,t.response,h)}}async function ab(e,t,n,r){let{networkCaptureBodies:i,textEncoder:s,networkResponseHeaders:o}=t;if(!e&&void 0!==r)return ap(r);let a=n?ak(n.headers,o):{};if(!n||!i&&void 0!==r)return af(a,r,void 0);let[l,c]=await aw(n),u=function(e,t){let{networkCaptureBodies:n,textEncoder:r,responseBodySize:i,captureDetails:s,headers:o}=t;try{let t=e&&e.length&&void 0===i?al(e,r):i;if(!s)return ap(t);if(n)return af(o,t,e);return af(o,t,void 0)}catch(e){return af(o,i,void 0)}}(l,{networkCaptureBodies:i,textEncoder:s,responseBodySize:r,captureDetails:e,headers:a});return c?ad(u,c):u}async function aw(e){let t=function(e){try{return e.clone()}catch(e){}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await new Promise((e,n)=>{let r=setTimeout(()=>n(Error("Timeout while trying to read response body")),500);ax(t).then(t=>e(t),e=>n(e)).finally(()=>clearTimeout(r))})]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}}function aS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"==typeof e[1])return e[1].body}function ak(e,t){let n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function aE(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?ak(n,t):Array.isArray(n)?{}:ag(n,t):{}}async function ax(e){return await e.text()}async function aT(e,t,n){try{let r=function(e,t,n){var r,i;let s=Date.now(),{startTimestamp:o=s,endTimestamp:a=s,input:l,xhr:c}=t,{url:u,method:d,status_code:h=0,request_body_size:p,response_body_size:f}=e.data;if(!u)return null;if(!c||(r=n.networkDetailAllowUrls,!em(av(u),r))||(i=n.networkDetailDenyUrls,em(av(u),i))){let e=ap(p);return{startTimestamp:o,endTimestamp:a,url:u,method:d,statusCode:h,request:e,response:ap(f)}}let g=c[nw],m=g?ag(g.request_headers,n.networkRequestHeaders):{},v=ag(function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e},{}):{}}(c),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?au(l):[void 0],[b,w]=n.networkCaptureBodies?function(e){let t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return[void 0]}(c):[void 0],S=af(m,p,y),k=af(v,f,b);return{startTimestamp:o,endTimestamp:a,url:u,method:d,statusCode:h,request:_?ad(S,_):S,response:w?ad(k,w):k}}(e,t,n),i=ah("resource.xhr",r);aa(n.replay,i)}catch(e){}}let aI=null,aO=e=>t=>{if(!e.isEnabled())return;let n=function(e){let t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return aI!==t&&t?(aI=t,!t.category||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:"console"===t.category?function(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return oH(e);let n=!1,r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>5e3?(n=!0,"".concat(e.slice(0,5e3),"…")):e;if("object"==typeof e)try{let t=tm(e,7);if(JSON.stringify(t).length>5e3)return n=!0,"".concat(JSON.stringify(t,null,2).slice(0,5e3),"…");return t}catch(e){}return e});return oH({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t):oH(t):null}(t);n&&oN(e,n)};async function aC(e){try{return Promise.all(ao(e,[function(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}(z.performance.memory)]))}catch(e){return[]}}async function aR(e){let{client:t,scope:n,replayId:r,event:i}=e,s={event_id:r,integrations:"object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit&&t.emit("preprocessEvent",i,s);let o=await tv(t.getOptions(),i,s,n,t,tl());if(!o)return null;o.platform=o.platform||"javascript";let a=t.getSdkMetadata&&t.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},o}async function aP(e){var t;let n,{recordingData:r,replayId:i,segmentId:s,eventContext:o,timestamp:a,session:l}=e,c=function(e){let t,{recordingData:n,headers:r}=e,i="".concat(JSON.stringify(r),"\n");if("string"==typeof n)t="".concat(i).concat(n);else{let e=new TextEncoder().encode(i);(t=new Uint8Array(e.length+n.length)).set(e),t.set(n,e.length)}return t}({recordingData:r,headers:{segment_id:s}}),{urls:u,errorIds:d,traceIds:h,initialTimestamp:p}=o,f=tS(),g=tk(),m=f&&f.getTransport(),v=f&&f.getDsn();if(!f||!m||!v||!l.sampled)return;let y={type:"replay_event",replay_start_timestamp:p/1e3,timestamp:a/1e3,error_ids:d,trace_ids:h,urls:u,replay_id:i,segment_id:s,replay_type:l.sampled},_=await aR({scope:g,client:f,replayId:i,event:y});if(!_){f.recordDroppedEvent("event_processor","replay",y);return}delete _.sdkProcessingMetadata;let b=(t=f.getOptions().tunnel,n2(n8(_,n6(_),t,v),[[{type:"replay_event"},_],[{type:"replay_recording",length:"string"==typeof c?new TextEncoder().encode(c).length:c.length},c]]));try{n=await m.send(b)}catch(t){let e=Error(su);try{e.cause=t}catch(e){}throw e}if(!n)return n;if("number"==typeof n.statusCode&&(n.statusCode<200||n.statusCode>=300))throw new aA(n.statusCode);let w=rp({},n);if(rh(w,"replay"))throw new aM(w);return n}class aA extends Error{constructor(e){super("Transport returned status code ".concat(e))}}class aM extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function a$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3},{recordingData:n,options:r}=e;if(n.length)try{return await aP(e),!0}catch(n){var i;if(n instanceof aA||n instanceof aM)throw n;if(i={_retryCount:t.count},ta().setContext("Replays",i),t.count>=3){let e=Error("".concat(su," - max retries exceeded"));try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise((n,r)=>{setTimeout(async()=>{try{await a$(e,t),n(!0)}catch(e){r(e)}},t.interval)})}}let aj="__THROTTLED";class aN{getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options;if(!(t<=0)||!(n<=0)){if(this._initializeSessionForSampling(e),!this.session){this._handleException(Error("Unable to initialize and create session"));return}!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",this.recordingMode,this._options._experiments.traceInternals,this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)throw Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw Error("Replay buffering is in progress, call `flush()` to save the replay");this._options._experiments.traceInternals;let e=o9({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw Error("Replay recording is already in progress");this._options._experiments.traceInternals;let e=o9({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var e;let t;let n=this._canvas;this._stopRecording=oM({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:(e=this,t=!1,(n,r)=>{if(!e.checkAndHandleExpiredSession())return;let i=r||!t;t=!0,e.clickDetector&&function(e,t){try{if(3!==t.type)return;let{source:n}=t.data;if(n===s9.Mutation&&e.registerMutation(t.timestamp),n===s9.Scroll&&e.registerScroll(t.timestamp),t.data.source===s9.MouseInteraction){let{type:n,id:r}=t.data,i=oM.mirror.getNode(r);i instanceof HTMLElement&&n===oe.Click&&e.registerClick(i)}}catch(e){}}(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!ae(e,n,i))return!0;if(!i)return!1;if(i&&e.session&&0===e.session.segmentId&&ae(e,function(e){let t=e.getOptions();return{type:s7.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){let t=e.eventBuffer.getEarliestTimestamp();t&&(e.getOptions()._experiments.traceInternals,e.session.started=t,e.getOptions().stickySession&&o4(e.session))}return"session"===e.recordingMode&&e.flush(),!0})}),onMutation:this._onMutationHandler,...n?{recordCanvas:n.recordCanvas,getCanvasManager:n.getCanvasManager,sampling:n.sampling,dataURLOptions:n.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1;try{this._options._experiments.traceInternals,this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,function(){if(o1())try{z.sessionStorage.removeItem(sc)}catch(e){}}(),this.session=void 0}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),this._options._experiments.traceInternals)}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),this._options._experiments.traceInternals)}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();let t=Date.now();this._options._experiments.traceInternals,await this.flushImmediate();let n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){let t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&o6(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}return!!this._checkSession()}setInitialState(){let e="".concat(z.location.pathname).concat(z.location.hash).concat(z.location.search),t="".concat(z.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===aj){let e=oH({category:"replay.throttled"});this.addUpdate(()=>!ae(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastTransaction||tk().getTransaction(),t=(e&&e4(e).data||{})[rS];if(e&&t&&["route","custom"].includes(t))return e4(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){let e=function(e){try{let t=e||("undefined"!=typeof __SENTRY_EXCLUDE_REPLAY_WORKER__&&__SENTRY_EXCLUDE_REPLAY_WORKER__?"":function(){let e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}());if(!t)return;let n=new Worker(t);return new o0(n)}catch(e){}}(n);if(e)return e}return new oZ}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=o9({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return!o7(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{z.document.addEventListener("visibilitychange",this._handleVisibilityChange),z.addEventListener("blur",this._handleWindowBlur),z.addEventListener("focus",this._handleWindowFocus),z.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function(e){let t=tk(),n=tS();t.addScopeListener(aO(e)),ny(oW(e)),nR(t=>{if(!e.isEnabled())return;let n=function(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ao(e,[n]),!1)))}),function(e){let t=tS();try{let n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),l={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(e,t)=>(function(e,t,n){if(t.data)try{var r,i;"xhr"===t.category&&(r=n)&&r.xhr&&(function(e,t,n){let{xhr:r,input:i}=t;if(!r)return;let s=al(i,n.textEncoder),o=r.getResponseHeader("content-length")?ac(r.getResponseHeader("content-length")):function(e,t,n){try{let r="json"===t&&e&&"object"==typeof e?JSON.stringify(e):e;return al(r,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==s&&(e.data.request_body_size=s),void 0!==o&&(e.data.response_body_size=o)}(t,n,e),aT(t,n,e)),"fetch"===t.category&&(i=n)&&i.response&&(function(e,t,n){let{input:r,response:i}=t,s=al(r?aS(r):void 0,n.textEncoder),o=i?ac(i.headers.get("content-length")):void 0;void 0!==s&&(e.data.request_body_size=s),void 0!==o&&(e.data.response_body_size=o)}(t,n,e),ay(t,n,e))}catch(e){}})(l,e,t)):(nT(t=>{e.isEnabled()&&aa(e,function(e){let{startTimestamp:t,endTimestamp:n,fetchData:r,response:i}=e;if(!n)return null;let{method:s,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:s,statusCode:i?i.status:void 0}}}(t))}),nS(t=>{e.isEnabled()&&aa(e,function(e){let{startTimestamp:t,endTimestamp:n,xhr:r}=e,i=r[nw];if(!t||!n||!i)return null;let{method:s,url:o,status_code:a}=i;return void 0===o?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:s,statusCode:a}}}(t))}))}catch(e){}}(e);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?as(e):void 0;return Object.assign((t,r)=>e.isEnabled()?"replay_event"===t.type?(delete t.breadcrumbs,t):(!t.type||ar(t)||ai(t))&&e.checkAndHandleExpiredSession()?ai(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:s7.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)),t):!t.type&&t.exception&&t.exception.values&&t.exception.values.length&&r.originalException&&r.originalException.__rrweb__&&!e.getOptions()._experiments.captureExceptions?null:(("buffer"===e.recordingMode&&t.message!==su&&t.exception&&!t.type&&o2(e.getOptions().errorSampleRate)||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t):t:t,{id:"Replay"})}(e,!(n&&n.on));n&&n.addEventProcessor?n.addEventProcessor(r):function(e){let t=tS();t&&t.addEventProcessor&&t.addEventProcessor(e)}(r),n&&n.on&&(n.on("beforeSendEvent",t=>{e.isEnabled()&&!t.type&&function(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0].value;"string"==typeof n&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&oN(e,oH({category:"replay.hydrate-error"}))}(e,t)}),n.on("afterSendEvent",as(e)),n.on("createDsc",t=>{let n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)}),n.on("startTransaction",t=>{e.lastTransaction=t}),n.on("finishTransaction",t=>{e.lastTransaction=t}),n.on("beforeSendFeedback",(t,n)=>{let r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)}))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(e=>{r.push(iy(e,n))}),r.push(iv(t=>{let{metric:n}=t;e.replayPerformanceEntries.push(function(e){let t=e.entries,n=t[t.length-1],r=n?n.element:void 0,i=e.value,s=oK(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:i,size:i,nodeId:r?oM.mirror.getId(r):void 0}}}(n))})),()=>{r.forEach(e=>e())}}(this)}_removeListeners(){try{z.document.removeEventListener("visibilitychange",this._handleVisibilityChange),z.removeEventListener("blur",this._handleWindowBlur),z.removeEventListener("focus",this._handleWindowFocus),z.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===z.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let e=oH({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{let e=oH({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{!function(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=function(e){var t;let{metaKey:n,shiftKey:r,ctrlKey:i,altKey:s,key:o,target:a}=e;if(!a||"INPUT"===(t=a).tagName||"TEXTAREA"===t.tagName||t.isContentEditable||!o)return null;let l=n||i||s,c=1===o.length;if(!l&&c)return null;let u=ea(a,{maxStringLength:200})||"<unknown>",d=oG(a,u);return oH({category:"ui.keyDown",message:u,data:{...d.data,metaKey:n,shiftKey:r,ctrlKey:i,altKey:s,key:o}})}(t);n&&oN(e,n)}(this,e)}}_doChangeToBackgroundTasks(e){!this.session||o8(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){this.session&&this.checkAndHandleExpiredSession()&&e&&this._createCustomBreadcrumb(e)}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:s7.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=this.performanceEntries.map(oJ).filter(Boolean).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(ao(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){let e=this.getSessionId();if(this.session&&this.eventBuffer&&e&&(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents)&&(await aC(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await a$({replayId:e,recordingData:i,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(t){this._handleException(t),this.stop({reason:"sendReplay"});let e=tS();e&&e.recordDroppedEvent("send_error","replay")}}__init5(){var e=this;this._flush=async function(){let{force:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e._isEnabled&&!t||!e.checkAndHandleExpiredSession()||!e.session)return;let n=e.session.started,r=Date.now()-n;e._debouncedFlush.cancel();let i=r<e._options.minReplayDuration,s=r>e._options.maxReplayDuration+5e3;if(i||s){"[Replay] Session duration (".concat(Math.floor(r/1e3),"s) is too ").concat(i?"short":"long",", not sending replay."),e._options._experiments.traceInternals,i&&e._debouncedFlush();return}let o=e.eventBuffer;if(o&&0===e.session.segmentId&&!o.hasCheckout&&e._options._experiments.traceInternals,!e._flushLock){e._flushLock=e._runFlush(),await e._flushLock,e._flushLock=void 0;return}try{await e._flushLock}catch(e){}finally{e._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&o4(this.session)}__init6(){this._onMutationHandler=e=>{let t=e.length,n=this._options.mutationLimit,r=this._options.mutationBreadcrumbLimit,i=n&&t>n;if(t>r||i){let e=oH({category:"replay.mutations",data:{count:t,limit:i}});this._createCustomBreadcrumb(e)}return!i||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}constructor({options:e,recordingOptions:t}){aN.prototype.__init.call(this),aN.prototype.__init2.call(this),aN.prototype.__init3.call(this),aN.prototype.__init4.call(this),aN.prototype.__init5.call(this),aN.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,s;let o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e()}function l(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function c(){return i&&clearTimeout(i),i=setTimeout(a,t),o&&void 0===s&&(s=setTimeout(a,o)),r}return c.cancel=l,c.flush=function(){return void 0!==i||void 0!==s?a():r},c}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function(e,t,n){let r=new Map,i=e=>{let t=e-5;r.forEach((e,n)=>{n<t&&r.delete(n)})},s=()=>[...r.values()].reduce((e,t)=>e+t,0),o=!1;return function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];let l=Math.floor(Date.now()/1e3);if(i(l),s()>=300){let e=o;return o=!0,e?"__SKIPPED":aj}o=!1;let c=r.get(l)||0;return r.set(l,c+1),e(...n)}}((e,t)=>an(this,e)?at(this,e,t):Promise.resolve(null),0,0);let{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;i&&(this.clickDetector=new oU(this,i))}}function aD(e,t,n,r){let i=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&i.push(".".concat(n)),eh(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}let aL='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',aF=["content-length","content-type","accept"],aU=!1;class aB{static __initStatic(){this.id="Replay"}get _isInitialized(){return aU}set _isInitialized(e){aU=e}setupOnce(){sl()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){let e=function(e){let t=tS(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...eE(e)};return n?(null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&eh(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate),"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate)):eh(()=>{console.warn("SDK client is not available.")}),r}(this._initialOptions);this._replay=new aN({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{let e=tS().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:s=!0,workerUrl:o,_experiments:a={},sessionSampleRate:l,errorSampleRate:c,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:y=[],networkCaptureBodies:_=!0,networkRequestHeaders:b=[],networkResponseHeaders:w=[],mask:S=[],maskAttributes:k=["title","placeholder"],unmask:E=[],block:x=[],unblock:T=[],ignore:I=[],maskFn:O,beforeAddRecordingEvent:C,beforeErrorSampling:R,blockClass:P,blockSelector:A,maskInputOptions:M,maskTextClass:$,maskTextSelector:j,ignoreClass:N}={}){this.name=aB.id;let D=function(e){let{mask:t,unmask:n,block:r,unblock:i,ignore:s,blockClass:o,blockSelector:a,maskTextClass:l,maskTextSelector:c,ignoreClass:u}=e,d={maskTextSelector:aD(t,[".sentry-mask","[data-sentry-mask]"],l,c),unmaskTextSelector:aD(n,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:aD(r,[".sentry-block","[data-sentry-block]",'base[href="/"]'],o,a),unblockSelector:aD(i,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:aD(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return o instanceof RegExp&&(d.blockClass=o),l instanceof RegExp&&(d.maskTextClass=l),d}({mask:S,unmask:E,block:x,unblock:T,ignore:I,blockClass:P,blockSelector:A,maskTextClass:$,maskTextSelector:j,ignoreClass:N});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...M||{},password:!0},maskTextFn:O,maskInputFn:O,maskAttributeFn:(e,t,n)=>(function(e){let{el:t,key:n,maskAttributes:r,maskAllText:i,privacyOptions:s,value:o}=e;return!i||s.unmaskTextSelector&&t.matches(s.unmaskTextSelector)?o:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o})({maskAttributes:k,maskAllText:u,privacyOptions:D,key:e,value:t,el:n}),...D,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,36e5),stickySession:i,sessionSampleRate:l,errorSampleRate:c,useCompression:s,workerUrl:o,blockAllMedia:h,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:v,networkDetailDenyUrls:y,networkCaptureBodies:_,networkRequestHeaders:aq(b),networkResponseHeaders:aq(w),beforeAddRecordingEvent:C,beforeErrorSampling:R,_experiments:a},"number"==typeof l&&(console.warn("[Replay] You are passing `sessionSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysSessionSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ".concat(l," })")),this._initialOptions.sessionSampleRate=l),"number"==typeof c&&(console.warn("[Replay] You are passing `errorSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysOnErrorSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ".concat(c," })")),this._initialOptions.errorSampleRate=c),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(aL):aL),this._isInitialized&&sl())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}}function aq(e){return[...aF,...e.map(e=>e.toLowerCase())]}aB.__initStatic();var aH=window;aH.__sentryRewritesTunnelPath__="/monitoring",aH.SENTRY_RELEASE={id:"71de78b5fee921787cb7fc3e42bcf4a96d527a8e"},aH.__sentryBasePath=void 0,aH.__rewriteFramesAssetPrefixPath__="",function(e){let t={environment:function(e){let t=e?"production":r_.env.VERCEL_ENV;return t?"vercel-".concat(t):void 0}(!0)||"production",defaultIntegrations:function(e){let t=[...ry,si()];return("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&tO(e)&&t.push(function(e){let t=iX({tracingOrigins:[...iz.tracingOrigins,/^(api\/)/],...e,instrumentNavigation:!1,instrumentPageLoad:!1});return{...t,afterAllSetup(n){let r=e=>{iQ(n,e)},i=e=>{i0(n,e)};i8(()=>void 0,!1,rb([e,"optionalAccess",e=>e.instrumentNavigation]),r,i),t.afterAllSetup(n),i8(()=>void 0,rb([e,"optionalAccess",e=>e.instrumentPageLoad]),!1,r,i)}}}()),t}(e),...e};(function(e){let{integrations:t}=e;t&&(Array.isArray(t)?e.integrations=ss(t):e.integrations=e=>ss(t(e)))})(t),function(e){let t=z.__sentryRewritesTunnelPath__;if(t&&e.dsn){let n=n0(e.dsn);if(!n)return;let r=n.host.match(/^o(\d+)\.ingest(?:\.([a-z]{2}))?\.sentry\.io$/);if(r){let i=r[1],s=r[2],o="".concat(t,"?o=").concat(i,"&p=").concat(n.projectId);s&&(o+="&r=".concat(s)),e.tunnel=o}}}(t),q(t,"nextjs",["nextjs","react"]),function(e){let t={...e};q(t,"react"),function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===t.defaultIntegrations&&(t.defaultIntegrations=[...ry]),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id&&(t.release=z.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(e,t){!0===t.debug&&eh(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}),tk().update(t.initialScope);let n=new e(t);(function(e){let t=ta().getStackTop();t.client=e,t.scope.setClient(e)})(n),n.init?n.init():n.setupIntegrations&&n.setupIntegrations()}(rr,{...t,stackParser:Array.isArray(e=t.stackParser||ru)?tp(...e):e,integrations:function(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(e=>{e.isDefaultInstance=!0});let r=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.keys(t).map(e=>t[e])}(Array.isArray(n)?[...t,...n]:"function"==typeof n?eR(n(t)):t),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return -1}(r,e=>"Debug"===e.name);if(-1!==i){let[e]=r.splice(i,1);r.push(e)}return r}(t),transport:t.transport||(nE()?rm:rv)}),t.autoSessionTracking&&void 0!==z.document&&(tE({ignoreDuration:!0}),tI(),nR(e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(tE({ignoreDuration:!0}),tI())}))}(t)}(t);let n=tk();n.setTag("runtime","browser");let r=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;r.id="NextClient404Filter",n.addEventProcessor(r)}({dsn:"https://0a08789f02c05948e593f50270a26294@o4506157451575296.ingest.sentry.io/4506265072697344",tracesSampleRate:1,debug:!1,replaysOnErrorSampleRate:1,replaysSessionSampleRate:.1,integrations:[new aB({maskAllText:!0,blockAllMedia:!0})],allowUrls:["https://wiki.mutable.ai","https://staging-wiki-mutableai.vercel.app"]})},91393:function(e,t,n){"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:function(){return i},n:function(){return r}})},38223:function(e,t,n){"use strict";n.d(t,{KV:function(){return s}});var r=n(91393);e=n.hmd(e);var i=n(83454);function s(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call(void 0!==i?i:0)}},31026:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return nd}});var r,i,s,o,a,l,c,u,d,h,p,f,g,m,v,y,_,b,w,S,k=n(35944),E=n(55559),x=n(17207);n(3088);var T=n(75898);E(x(),null);var I=n(9463),O=n(75260),C=n(63764),R=n(84053),P=n(58192),A=n(67294),M=n(26523),$=n(74071),j=n(86321),N=n(10342),D=n(82729),L=n(18872),F=n(77942),U=n(57606);function B(){let e=(0,D._)(["\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-wrap: wrap;\n      "]);return B=function(){return e},e}function q(){let e=(0,D._)(["\n          padding: 20px;\n          max-width: 350px;\n        "]);return q=function(){return e},e}function H(){let e=(0,D._)(["\n              ol&& {\n                padding-left: 2ch;\n              }\n            "]);return H=function(){return e},e}function z(){let e=(0,D._)(["\n              height: 1px;\n            "]);return z=function(){return e},e}function W(){let e=(0,D._)(["\n              ul&& {\n                padding-left: 2ch;\n              }\n            "]);return W=function(){return e},e}function G(){let e=(0,D._)(["\n          padding: 20px;\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        "]);return G=function(){return e},e}function V(){let e=(0,D._)(["\n            display: contents;\n          "]);return V=function(){return e},e}function J(){let e=(0,D._)(["\n              border-radius: 2px;\n              border: 1px solid gray;\n              padding: 4px;\n              font: unset;\n              background: unset;\n            "]);return J=function(){return e},e}function K(){let e=(0,D._)(["\n              border-radius: 2px;\n              border: 1px solid gray;\n              padding: 4px;\n              font: unset;\n              background: unset;\n            "]);return K=function(){return e},e}function Y(){let e=(0,D._)(["\n              border-radius: 2px;\n              border: 1px solid gray;\n              padding: 4px;\n              font: unset;\n              background: unset;\n\n              &[disabled] {\n                border-color: #88888844;\n              }\n            "]);return Y=function(){return e},e}function Z(e){let[t,n]=(0,A.useState)(""),[r,i]=(0,A.useState)(""),s=(0,U.H)({hasHost:!0});function o(){a&&e.setCredentials({username:t,accessToken:r})}let a=t.length>0&&r.length>0;return(0,k.BX)("div",{className:(0,L.iv)(B()),children:[(0,k.tZ)(F.Z,{size:"12-12",className:(0,L.iv)(q()),children:(0,k.BX)("div",{children:[(0,k.tZ)("h1",{children:"Sign in with Bitbucket"}),(0,k.tZ)("p",{children:"To sign in with Bitbucket, you’ll need an access token. Here’s how to create one:"}),(0,k.tZ)("ol",{className:(0,L.iv)(H()),children:"bitbucket"===s.hostType?(0,k.BX)(k.HY,{children:[(0,k.tZ)("li",{children:(0,k.BX)("p",{children:["Go to"," ",(0,k.tZ)("a",{target:"_blank",href:"https://id.atlassian.com/manage-profile/security/api-tokens",children:"Atlassian API token settings"}),"."]})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"Click Create API token."})}),(0,k.tZ)("li",{children:(0,k.BX)("p",{children:["Choose a memorable label, for example:",(0,k.tZ)("br",{}),(0,k.tZ)("code",{children:"Mutable.ai Auto Wiki"})]})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"When you’re done creating the token, copy it, and paste it here."})})]}):(0,k.BX)(k.HY,{children:[(0,k.tZ)("li",{children:(0,k.BX)("p",{children:["Go to"," ",(0,k.tZ)("a",{target:"_blank",href:"".concat(s.hostUrl,"/account"),children:"Bitbucket account settings"}),"."]})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"Click HTTP access tokens."})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"Click Create to create a new token."})}),(0,k.tZ)("li",{children:(0,k.BX)("p",{children:["Choose a memorable label, for example:",(0,k.tZ)("br",{}),(0,k.tZ)("code",{children:"Mutable.ai Auto Wiki"})]})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"When you’re done creating the token, copy it, and paste it here."})})]})}),(0,k.tZ)("div",{className:(0,L.iv)(z())}),(0,k.tZ)("p",{children:"Important notes:"}),(0,k.BX)("ul",{className:(0,L.iv)(W()),children:[(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"Currently, we save your token for 24 hours in your browser, or until you sign out."})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"If you lose your token, you can’t view it again in Bitbucket, but you can always generate a new one."})}),(0,k.tZ)("li",{children:(0,k.tZ)("p",{children:"Access tokens grant access to your account. If you save them somewhere, treat them like passwords."})})]})]})}),(0,k.tZ)(F.Z,{size:"16-14",className:(0,L.iv)(G()),children:(0,k.BX)("form",{className:(0,L.iv)(V()),onSubmit:e=>{e.preventDefault(),o()},children:[(0,k.tZ)("input",{type:"text",placeholder:"Username",size:30,value:t,onChange:e=>n(e.target.value),className:(0,L.iv)(J())}),(0,k.tZ)("input",{type:"password",placeholder:"Access token",size:30,value:r,onChange:e=>i(e.target.value),className:(0,L.iv)(K())}),(0,k.tZ)("button",{type:"submit",onClick:o,disabled:!a,className:(0,L.iv)(Y()),children:"Sign In"})]})})]})}function X(e){return JSON.stringify({username:e.username,access_token:e.accessToken})}function Q(e){let[t,n]=(0,A.useState)(!1),[r,i]=(0,$.ZP)("manualAuth",void 0),[s,o]=(0,A.useState)(()=>(function(e){if(!e)return;let{username:t,access_token:n}=JSON.parse(e);if("string"==typeof t&&"string"==typeof n)return{username:t,accessToken:n};console.warn("Invalid credentials:",e)})(r));function a(e){o(e),i(e?X(e):"",{SameSite:"Strict",days:e?1:-1})}let l=(0,A.useCallback)(async()=>n(!0),[]),c=(0,A.useCallback)(async()=>{a(void 0)},[]),u=(0,A.useMemo)(()=>({isLoading:!1,credentials:s&&X(s),user:s?{id:s.username,user_metadata:{}}:null,login:l,logout:c}),[null==s?void 0:s.username,null==s?void 0:s.accessToken]);return(0,k.BX)(N.H,{value:u,children:[(0,k.tZ)(j.Z,{open:t,onClose:()=>n(!1),children:t&&(0,k.tZ)(Z,{setCredentials:e=>{a(e),n(!1)}})}),e.children]})}function ee(e){let t=(0,R.useUser)(),{session:n,isLoading:r,supabaseClient:i}=(0,R.useSessionContext)(),s=(0,P.U0)();(0,A.useEffect)(()=>{let e=async e=>{try{await i.from("user_wiki_login_logs").upsert({id:e,last_login:new Date},{onConflict:"id"})}catch(e){console.log("Error updating user login.")}};n&&(e(n.user.id),s.identify(n.user.id,{email:n.user.user_metadata.email,name:n.user.user_metadata.name}))},[n]);let o=(0,A.useCallback)(async()=>{await i.auth.signInWithOAuth({provider:"github",options:{redirectTo:location.href}})},[i]),a=(0,A.useCallback)(async()=>{await i.auth.signOut(),(0,$.d8)("bannerDismissed","",{days:0}),(0,$.d8)("wikiVisitedCount","",{days:0})},[i]),l=null==n?void 0:n.access_token,c=(0,A.useMemo)(()=>({isLoading:r,credentials:l,user:t,login:o,logout:a}),[r,l,t,o,a]);return(0,k.tZ)(N.H,{value:c,children:e.children})}var et=n(53936),en=n(65406);n(82349);let er=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)};class ei extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class es extends ei{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eo extends ei{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ea extends ei{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}class el{constructor(e,{headers:t={},customFetch:n}={}){this.url=e,this.headers=t,this.fetch=er(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n,r,i,s,o;return r=this,i=void 0,s=void 0,o=function*(){try{let r;let{headers:i,method:s,body:o}=t,a={};o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",r=o):"string"==typeof o?(a["Content-Type"]="text/plain",r=o):"undefined"!=typeof FormData&&o instanceof FormData?r=o:(a["Content-Type"]="application/json",r=JSON.stringify(o)));let l=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:r}).catch(e=>{throw new es(e)}),c=l.headers.get("x-relay-error");if(c&&"true"===c)throw new eo(l);if(!l.ok)throw new ea(l);let u=(null!==(n=l.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return{data:"application/json"===u?yield l.json():"application/octet-stream"===u?yield l.blob():"multipart/form-data"===u?yield l.formData():yield l.text(),error:null}}catch(e){return{data:null,error:e}}},new(s||(s=Promise))(function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof s?r:new s(function(e){e(r)})).then(n,a)}l((o=o.apply(r,i||[])).next())})}}var ec=n(89743);class eu{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=ec.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let i=null,s=null,o=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){let t=await e.text();""===t||(s="text/csv"===this.headers.Accept?t:this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}let r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&c&&c.length>1&&(o=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,a=406,l="Not Acceptable"):s=1===s.length?s[0]:null)}else{let t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,a=200,l="OK")}catch(n){404===e.status&&""===t?(a=204,l="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,a=200,l="OK"),i&&this.shouldThrowOnError)throw i}return{error:i,data:s,count:o,status:a,statusText:l}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}}class ed extends eu{select(e){let t=!1,n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=void 0===r?"offset":`${r}.offset`,s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;let a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class eh extends ed{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let n=t.map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");let s=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}class ep{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){let r=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!r?"":('"'===e&&(r=!r),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new eh({method:t?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){let r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new eh({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){let s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new eh({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){let n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new eh({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new eh({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}let ef={"X-Client-Info":"postgrest-js/1.9.1"};class eg{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},ef),t),this.schemaName=n,this.fetch=r}from(e){return new ep(new URL(`${this.url}/${e}`),{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new eg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,count:r}={}){let i,s;let o=new URL(`${this.url}/rpc/${e}`);n?(i="HEAD",Object.entries(t).forEach(([e,t])=>{o.searchParams.append(e,`${t}`)})):(i="POST",s=t);let a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new eh({method:i,url:o,headers:a,schema:this.schemaName,body:s,fetch:this.fetch,allowEmpty:!1})}}let em={"X-Client-Info":"realtime-js/2.9.1"};(r=h||(h={}))[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed",(i=p||(p={})).closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving",(s=f||(f={})).close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token",(g||(g={})).websocket="websocket",(o=m||(m={})).Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed";class ev{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ey{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=n.decode(e.slice(s,s+r));s+=r;let a=n.decode(e.slice(s,s+i));return s+=i,{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class e_{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(a=v||(v={})).SYNC="sync",a.JOIN="join",a.LEAVE="leave";class eb{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{let{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eb.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=eb.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{let{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=eb.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),s=this.transformState(t),o={},a={};return this.map(i,(e,t)=>{s[e]||(a[e]=t)}),this.map(s,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),s=t.filter(e=>0>i.indexOf(e.presence_ref)),l=n.filter(e=>0>r.indexOf(e.presence_ref));s.length>0&&(o[e]=s),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:a},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;let s=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),s.length>0){let n=e[t].map(e=>e.presence_ref),r=s.filter(e=>0>n.indexOf(e.presence_ref));e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let i=e[t];if(!i)return;let s=n.map(e=>e.presence_ref);i=i.filter(e=>0>s.indexOf(e.presence_ref)),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,n)=>{let r=e[n];return"metas"in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(l=y||(y={})).abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange";let ew=(e,t,n={})=>{var r;let i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((n,r)=>(n[r]=eS(r,e,t,i),n),{})},eS=(e,t,n,r)=>{let i=t.find(t=>t.name===e),s=null==i?void 0:i.type,o=n[e];return s&&!r.includes(s)?ek(s,o):eE(o)},ek=(e,t)=>{if("_"===e.charAt(0))return eO(t,e.slice(1,e.length));switch(e){case y.bool:return ex(t);case y.float4:case y.float8:case y.int2:case y.int4:case y.int8:case y.numeric:case y.oid:return eT(t);case y.json:case y.jsonb:return eI(t);case y.timestamp:return eC(t);case y.abstime:case y.date:case y.daterange:case y.int4range:case y.int8range:case y.money:case y.reltime:case y.text:case y.time:case y.timestamptz:case y.timetz:case y.tsrange:case y.tstzrange:default:return eE(t)}},eE=e=>e,ex=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eT=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eI=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},eO=(e,t)=>{if("string"!=typeof e)return e;let n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;let i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(e){r=i?i.split(","):[]}return r.map(e=>ek(t,e))}return e},eC=e=>"string"==typeof e?e.replace(" ","T"):e;(c=_||(_={})).ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE",(u=b||(b={})).BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",(d=w||(w={})).SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR";class eR{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=p.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new e_(this,f.join,this.params,this.timeout),this.rejoinTimer=new ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=p.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=p.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=p.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=p.errored,this.rejoinTimer.scheduleTimeout())}),this._on(f.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new eb(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s}}=this.params;this._onError(t=>e&&e("CHANNEL_ERROR",t)),this._onClose(()=>e&&e("CLOSED"));let o={},a={broadcast:i,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[]};this.socket.accessToken&&(o.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:t})=>{var n;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0===t){e&&e("SUBSCRIBED");return}{let r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,s=[];for(let n=0;n<i;n++){let i=r[n],{filter:{event:o,schema:a,table:l,filter:c}}=i,u=t&&t[n];if(u&&u.event===o&&u.schema===a&&u.table===l&&u.filter===c)s.push(Object.assign(Object.assign({},i),{id:u.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=s,e&&e("SUBSCRIBED");return}}).receive("error",t=>{e&&e("CHANNEL_ERROR",Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,s;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===s?void 0:s.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("timeout",()=>n("timed out"))});{let{event:i,payload:s}=e,o={method:"POST",headers:{apikey:null!==(n=this.socket.accessToken)&&void 0!==n?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s}]})};try{if((await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout)).ok)return"ok";return"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=p.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(f.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{let r=new e_(this,f.leave,{},e);r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return(e=(e=e.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),s}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new e_(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let s=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=f;if(n&&[o,a,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(i=this.bindings[s])||void 0===i||i.filter(e=>{var n,r,i,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(s))return e.type.toLocaleLowerCase()===s;if("id"in e){let s=e.id,o=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{let n=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof u&&"ids"in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:s}=e;u=Object.assign(Object.assign({},{schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:s}),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===p.closed}_isJoined(){return this.state===p.joined}_isJoining(){return this.state===p.joining}_isLeaving(){return this.state===p.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){let n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&eR.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(f.close,{},e)}_onError(e){this._on(f.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=p.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=ew(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=ew(e.columns,e.old_record)),t}}let eP=()=>{},eA="undefined"!=typeof WebSocket;class eM{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=em,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eP,this.conn=null,this.sendBuffer=[],this.serializer=new ey,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${g.websocket}`,(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;i&&(this.accessToken=i),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ev(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(eA){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new e$(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),n.e(7026).then(n.t.bind(n,57026,23)).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case h.connecting:return m.Connecting;case h.open:return m.Open;case h.closing:return m.Closing;default:return m.Closed}}isConnected(){return this.connectionState()===m.Open}channel(e,t={config:{}}){let n=new eR(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){let{topic:t,event:n,payload:r,ref:i}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(f.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i}=e;(i&&i===this.pendingHeartbeatRef||n===(null==r?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(f.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class e${constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=h.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ej extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function eN(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class eD extends ej{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eL extends ej{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let eF=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},eU=()=>{var e,t,r,i;return e=void 0,t=void 0,r=void 0,i=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.bind(n,89743))).Response:Response},new(r||(r=Promise))(function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};var eB=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let eq=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eH=(e,t)=>eB(void 0,void 0,void 0,function*(){e instanceof(yield eU())?e.json().then(n=>{t(new eD(eq(n),e.status||500))}).catch(e=>{t(new eL(eq(e),e))}):t(new eL(eq(e),e))}),ez=(e,t,n,r)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function eW(e,t,n,r,i,s){return eB(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,ez(t,r,i,s)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>eH(e,a))})})}function eG(e,t,n,r){return eB(this,void 0,void 0,function*(){return eW(e,"GET",t,n,r)})}function eV(e,t,n,r,i){return eB(this,void 0,void 0,function*(){return eW(e,"POST",t,r,i,n)})}function eJ(e,t,n,r,i){return eB(this,void 0,void 0,function*(){return eW(e,"DELETE",t,r,i,n)})}var eK=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};let eY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eZ={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eX{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=eF(r)}uploadOrUpdate(e,t,n,r){return eK(this,void 0,void 0,function*(){try{let i;let s=Object.assign(Object.assign({},eZ),r),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((i=new FormData).append("cacheControl",s.cacheControl),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n).append("cacheControl",s.cacheControl):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);let a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),u=yield c.json();if(c.ok)return{data:{path:a,id:u.Id,fullPath:u.Key},error:null};return{data:null,error:u}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}upload(e,t,n){return eK(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return eK(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let e;let t=Object.assign({upsert:eZ.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n).append("cacheControl",t.cacheControl):(e=n,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);let a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:s}),l=yield a.json();if(a.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e){return eK(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e),n=yield eV(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),r=new URL(this.url+n.url),i=r.searchParams.get("token");if(!i)throw new ej("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:i},error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}update(e,t,n){return eK(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t){return eK(this,void 0,void 0,function*(){try{return{data:yield eV(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}copy(e,t){return eK(this,void 0,void 0,function*(){try{return{data:{path:(yield eV(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,n){return eK(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield eV(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,n){return eK(this,void 0,void 0,function*(){try{let r=yield eV(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}download(e,t){return eK(this,void 0,void 0,function*(){let n=void 0!==(null==t?void 0:t.transform),r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{let t=this._getFinalPath(e),r=yield eG(this.fetch,`${this.url}/${n?"render/image/authenticated":"object"}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);let s=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&r.push(o);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s?"render/image":"object"}/public/${n}${a}`)}}}remove(e){return eK(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}list(e,t,n){return eK(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},eY),t),{prefix:e||""});return{data:yield eV(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eQ={"X-Client-Info":"storage-js/2.5.5"};var e0=function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(e){s(e)}}function a(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})};class e1{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},eQ),t),this.fetch=eF(n)}listBuckets(){return e0(this,void 0,void 0,function*(){try{return{data:yield eG(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}getBucket(e){return e0(this,void 0,void 0,function*(){try{return{data:yield eG(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return e0(this,void 0,void 0,function*(){try{return{data:yield eV(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return e0(this,void 0,void 0,function*(){try{return{data:yield function(e,t,n,r,i){return eB(this,void 0,void 0,function*(){return eW(e,"PUT",t,r,void 0,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}emptyBucket(e){return e0(this,void 0,void 0,function*(){try{return{data:yield eV(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}deleteBucket(e){return e0(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(eN(e))return{data:null,error:e};throw e}})}}class e2 extends e1{constructor(e,t={},n){super(e,t,n)}from(e){return new eX(this.url,this.headers,e,this.fetch)}}let e3="";e3="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let e4={"X-Client-Info":`supabase-js-${e3}/2.39.2`},e5=e=>{let t;return t=e||("undefined"==typeof fetch?ec.default:fetch),(...e)=>t(...e)},e6=()=>"undefined"==typeof Headers?ec.Headers:Headers,e8=(e,t,n)=>{let r=e5(n),i=e6();return(n,s)=>{var o,a,l,c;return o=void 0,a=void 0,l=void 0,c=function*(){var o;let a=null!==(o=yield t())&&void 0!==o?o:e,l=new i(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},s),{headers:l}))},new(l||(l=Promise))(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(n,r)}i((c=c.apply(o,a||[])).next())})}},e7=()=>"undefined"!=typeof document,e9={tested:!1,writable:!1},te=()=>{if(!e7())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(e9.tested)return e9.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),e9.tested=!0,e9.writable=!0}catch(e){e9.tested=!0,e9.writable=!1}return e9.writable};function tt(e){let t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(e){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}let tn=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,89743)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},tr=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,ti=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ts=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return n}},to=async(e,t)=>{await e.removeItem(t)};class ta{constructor(){this.promise=new ta.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function tl(e){let t=e.split(".");if(3!==t.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw Error("JWT is not valid: payload is not in base64url format");return JSON.parse(function(e){let t,n,r,i,s,o,a;let l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)i=l.indexOf(e.charAt(u++)),s=l.indexOf(e.charAt(u++)),o=l.indexOf(e.charAt(u++)),a=l.indexOf(e.charAt(u++)),t=i<<2|s>>4,n=(15&s)<<4|o>>2,r=(3&o)<<6|a,c+=String.fromCharCode(t),64!=o&&0!=n&&(c+=String.fromCharCode(n)),64!=a&&0!=r&&(c+=String.fromCharCode(r));return c}(t[1]))}async function tc(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tu(e){return("0"+e.toString(16)).substr(-2)}function td(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,tu).join("")}async function th(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>String.fromCharCode(e)).join("")}async function tp(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await th(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}ta.promiseConstructor=Promise;class tf extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function tg(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class tm extends tf{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class tv extends tf{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ty extends tf{constructor(e,t,n){super(e),this.name=t,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class t_ extends ty{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class tb extends ty{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class tw extends ty{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class tS extends ty{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tk extends ty{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tE extends ty{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}function tx(e){return tg(e)&&"AuthRetryableFetchError"===e.name}class tT extends ty{constructor(e,t,n){super(e,"AuthWeakPasswordError",t),this.reasons=n}}var tI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};let tO=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tC=[502,503,504];async function tR(e){let t;if(!tr(e))throw new tE(tO(e),0);if(tC.includes(e.status))throw new tE(tO(e),e.status);try{t=await e.json()}catch(e){throw new tv(tO(e),e)}if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new tT(tO(t),e.status,t.weak_password.reasons);throw new tm(tO(t),e.status||500)}let tP=(e,t,n,r)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function tA(e,t,n,r){var i;let s=Object.assign({},null==r?void 0:r.headers);(null==r?void 0:r.jwt)&&(s.Authorization=`Bearer ${r.jwt}`);let o=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await tM(e,t,n+a,{headers:s,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tM(e,t,n,r,i,s){let o;let a=tP(t,r,i,s);try{o=await e(n,a)}catch(e){throw console.error(e),new tE(tO(e),0)}if(o.ok||await tR(o),null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(e){await tR(e)}}function t$(e){var t,n;let r=null;return e.access_token&&e.refresh_token&&e.expires_in&&(r=Object.assign({},e),!e.expires_at)&&(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tj(e){let t=t$(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tN(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tD(e){return{data:e,error:null}}function tL(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e;return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},user:Object.assign({},tI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tF(e){return e}var tU=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class tB{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=tn(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await tA(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(tg(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tA(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tN})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=tU(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await tA(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:tL,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(tg(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tA(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tN})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,n,r,i,s,o,a;try{let l={nextPage:null,lastPage:0,total:0},c=await tA(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:tF});if(c.error)throw c.error;let u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(tg(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){try{return await tA(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tN})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){try{return await tA(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tN})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){try{return await tA(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tN})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){try{let{data:t,error:n}=await tA(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(tg(e))return{data:null,error:e};throw e}}async _deleteFactor(e){try{return{data:await tA(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(tg(e))return{data:null,error:e};throw e}}}let tq="2.62.0",tH={"X-Client-Info":`gotrue-js/${tq}`},tz={getItem:e=>te()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{te()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{te()&&globalThis.localStorage.removeItem(e)}};function tW(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}let tG={debug:!!(globalThis&&te()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class tV extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tJ extends tV{}async function tK(e,t,n){tG.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),tG.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(r){tG.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{tG.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(0===t)throw tG.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tJ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tG.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let tY={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tH,flowType:"implicit",debug:!1};async function tZ(e,t,n){return await n()}class tX{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tX.nextInstanceID,tX.nextInstanceID+=1,this.instanceID>0&&e7()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},tY),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new tB({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=tn(r.fetch),this.lock=r.lock||tZ,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,r.lock?this.lock=r.lock:e7()&&(null===(t=null==globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=tK:this.lock=tZ,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:te()?this.storage=tz:(this.memoryStorage={},this.storage=tW(this.memoryStorage)):(this.memoryStorage={},this.storage=tW(this.memoryStorage)),e7()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tq}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){try{let e=!!e7()&&await this._isPKCEFlow();if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:t,error:n}=await this._getSessionFromURL(e);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),(null==n?void 0:n.message)==="Identity is already linked"||(null==n?void 0:n.message)==="Identity is already linked to another user")return{error:n};return await this._removeSession(),{error:n}}let{session:r,redirectType:i}=t;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(tg(e))return{error:e};return{error:new tv("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var t,n,r;try{let i;if(await this._removeSession(),"email"in e){let{email:n,password:r,options:s}=e,o=null,a=null;if("pkce"===this.flowType){let e=td();await ti(this.storage,`${this.storageKey}-code-verifier`,e),o=await tp(e),a=e===o?"plain":"s256"}i=await tA(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:t$})}else if("phone"in e){let{phone:t,password:s,options:o}=e;i=await tA(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null==o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null==o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:t$})}else throw new tw("You must provide either an email or phone number and a password");let{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};let a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if(await this._removeSession(),"email"in e){let{email:n,password:r,options:i}=e;t=await tA(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tj})}else if("phone"in e){let{phone:n,password:r,options:i}=e;t=await tA(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tj})}else throw new tw("You must provide either an email or phone number and a password");let{data:n,error:r}=t;if(r)return{data:{user:null,session:null},error:r};if(!n||!n.session||!n.user)return{data:{user:null,session:null},error:new tb};return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,n,r,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let t=await ts(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/"),{data:i,error:s}=await tA(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:t$});return(await to(this.storage,`${this.storageKey}-code-verifier`),s)?{data:{user:null,session:null,redirectType:null},error:s}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:null!=r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new tb}}async signInWithIdToken(e){await this._removeSession();try{let{options:t,provider:n,token:r,access_token:i,nonce:s}=e,{data:o,error:a}=await tA(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:t$});if(a)return{data:{user:null,session:null},error:a};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new tb};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:a}}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,n,r,i,s;try{if(await this._removeSession(),"email"in e){let{email:r,options:i}=e,s=null,o=null;if("pkce"===this.flowType){let e=td();await ti(this.storage,`${this.storageKey}-code-verifier`,e),s=await tp(e),o=e===s?"plain":"s256"}let{error:a}=await tA(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:t,options:n}=e,{data:o,error:a}=await tA(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(s=null==n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new tw("You must provide either an email or phone number.")}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,n;try{let r,i;"email_change"!==e.type&&"phone_change"!==e.type&&await this._removeSession(),"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);let{data:s,error:o}=await tA(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:t$});if(o)throw o;if(!s)throw Error("An error occurred on token verification.");let a=s.session,l=s.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,n,r;try{await this._removeSession();let i=null,s=null;if("pkce"===this.flowType){let e=td();await ti(this.storage,`${this.storageKey}-code-verifier`,e),i=await tp(e),s=e===i?"plain":"s256"}return await tA(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:tD})}catch(e){if(tg(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new t_;let{error:r}=await tA(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{"email_change"!=e.type&&"phone_change"!=e.type&&await this._removeSession();let t=`${this.url}/resend`;if("email"in e){let{email:n,type:r,options:i}=e,{error:s}=await tA(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:n,type:r,options:i}=e,{data:s,error:o}=await tA(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new tw("You must provide either an email or phone number and a type")}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await tA(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tN});return await this._useSession(async e=>{var t,n;let{data:r,error:i}=e;if(i)throw i;return await tA(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==n?n:void 0,xform:tN})})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new t_;let s=r.session,o=null,a=null;if("pkce"===this.flowType&&null!=e.email){let e=td();await ti(this.storage,`${this.storageKey}-code-verifier`,e),o=await tp(e),a=e===o?"plain":"s256"}let{data:l,error:c}=await tA(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:tN});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(e){if(tg(e))return{data:{user:null},error:e};throw e}}_decodeJWT(e){return tl(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new t_;let t=Date.now()/1e3,n=t,r=!0,i=null,s=tl(e.access_token);if(s.exp&&(r=(n=s.exp)<=t),r){let{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(tg(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){let{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new t_;let{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(tg(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e){try{if(!e7())throw new tS("No browser detected.");if("implicit"!==this.flowType||this._isImplicitGrantFlow()){if("pkce"==this.flowType&&!e)throw new tk("Not a valid PKCE flow url.")}else throw new tS("Not a valid implicit grant flow url.");let t=tt(window.location.href);if(e){if(!t.code)throw new tk("No code detected.");let{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new tS(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:s,expires_in:o,expires_at:a,token_type:l}=t;if(!i||!o||!s||!l)throw new tS("No session defined in URL");let c=Math.round(Date.now()/1e3),u=parseInt(o),d=c+u;a&&(d=parseInt(a));let h=d-c;1e3*h<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);let p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,d,c);let{data:f,error:g}=await this._getUser(i);if(g)throw g;let m={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(e){if(tg(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){let e=tt(window.location.href);return!!(e7()&&(e.access_token||e.error_description))}async _isPKCEFlow(){let e=tt(window.location.href),t=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;let{data:r,error:i}=t;if(i)return{error:i};let s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){let{error:t}=await this.admin.signOut(s,e);if(t&&!(tg(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await to(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{let{data:{session:r},error:i}=t;if(i)throw i;await (null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(t){await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;if("pkce"===this.flowType){let e=td();await ti(this.storage,`${this.storageKey}-code-verifier`,`${e}/PASSWORD_RECOVERY`),n=await tp(e),r=e===n?"plain":"s256"}try{return await tA(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(tg(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(tg(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{let{data:n,error:r}=await this._useSession(async t=>{var n,r,i,s,o;let{data:a,error:l}=t;if(l)throw l;let c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await tA(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return!e7()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(t){if(tg(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;let{data:i,error:s}=t;if(s)throw s;return await tA(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(e){if(tg(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var n,r;let i=Date.now();return await (n=async n=>(await tc(200*n),this._debug(t,"refreshing attempt",n),await tA(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:t$})),r=(e,t,n)=>n&&n.error&&tx(n.error)&&Date.now()+(e+1)*200-i<3e4,new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await n(i);if(!r(i,null,t)){e(t);return}}catch(e){if(!r(i,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),tg(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),e7()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;let t="#_recoverAndRefresh()";this._debug(t,"begin");try{let n=await ts(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),null!==n&&await this._removeSession();return}let r=Math.round(Date.now()/1e3),i=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<r+10;if(this._debug(t,`session has${i?"":" not"} expired with margin of 10s`),i){if(this.autoRefreshToken&&n.refresh_token){let{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),tx(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){this._debug(t,"error",e),console.error(e);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new t_;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ta;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new t_;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),tg(e)){let n={session:null,error:e};return tx(e)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await ti(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await to(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&e7()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let r=Math.floor((1e3*n.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tV)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!e7()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){let e=td();await ti(this.storage,`${this.storageKey}-code-verifier`,e);let t=await tp(e),n=e===t?"plain":"s256";this._debug("PKCE","code verifier",`${e.substring(0,5)}...`,"code challenge",t,"method",n);let i=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(n)}`});r.push(i.toString())}if(null==n?void 0:n.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;let{data:r,error:i}=t;return i?{data:null,error:i}:await tA(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(e){if(tg(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;let{data:i,error:s}=t;if(s)return{data:null,error:s};let{data:o,error:a}=await tA(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:((null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(tg(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;let{data:r,error:i}=t;if(i)return{data:null,error:i};let{data:s,error:o}=await tA(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(e){if(tg(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;let{data:r,error:i}=t;return i?{data:null,error:i}:await tA(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(e){if(tg(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n=(null==e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;let{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let s=this._decodeJWT(r.access_token),o=null;s.aal&&(o=s.aal);let a=o;return(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))}}tX.nextInstanceID=0;class tQ extends tX{constructor(e){super(e)}}let t0={headers:e4},t1={schema:"public"},t2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t3={};class t4{constructor(e,t,n){var r,i,s,o,a,l,c,u;if(this.supabaseUrl=e,this.supabaseKey=t,this.from=e=>this.rest.from(e),this.schema=e=>this.rest.schema(e),this.rpc=(e,t={},n)=>this.rest.rpc(e,t,n),!e)throw Error("supabaseUrl is required.");if(!t)throw Error("supabaseKey is required.");let d=e.replace(/\/$/,"");this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;let h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p=function(e,t){let{db:n,auth:r,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s)}}(null!=n?n:{},{db:t1,realtime:t3,auth:Object.assign(Object.assign({},t2),{storageKey:h}),global:t0});this.storageKey=null!==(i=null===(r=p.auth)||void 0===r?void 0:r.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=null===(s=p.global)||void 0===s?void 0:s.headers)&&void 0!==o?o:{},this.auth=this._initSupabaseAuthClient(null!==(a=p.auth)&&void 0!==a?a:{},this.headers,null===(l=p.global)||void 0===l?void 0:l.fetch),this.fetch=e8(t,this._getAccessToken.bind(this),null===(c=p.global)||void 0===c?void 0:c.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new eg(`${d}/rest/v1`,{headers:this.headers,schema:null===(u=p.db)||void 0===u?void 0:u.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new el(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new e2(this.storageUrl,this.headers,this.fetch)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,n,r,i,s;return n=this,r=void 0,i=void 0,s=function*(){let{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new(i||(i=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(o,a)}l((s=s.apply(n,r||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:i,flowType:s,debug:o},a,l){let c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tQ({url:this.authUrl,headers:Object.assign(Object.assign({},c),a),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:s,debug:o,fetch:l})}_initRealtimeClient(e){return new eM(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==n?(this.realtime.setAuth(null!=n?n:null),this.changedAccessToken=n):"SIGNED_OUT"===e&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}let t5=(e,t,n)=>new t4(e,t,n);function t6(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function t8(e){return function t(n){return 0==arguments.length||t6(n)?t:e.apply(this,arguments)}}function t7(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return t6(n)?t:t8(function(t){return e(n,t)});default:return t6(n)&&t6(r)?t:t6(n)?t8(function(t){return e(t,r)}):t6(r)?t8(function(t){return e(n,t)}):e(n,r)}}}function t9(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return t6(n)?t:t7(function(t,r){return e(n,t,r)});case 2:return t6(n)&&t6(r)?t:t6(n)?t7(function(t,n){return e(t,r,n)}):t6(r)?t7(function(t,r){return e(n,t,r)}):t8(function(t){return e(n,r,t)});default:return t6(n)&&t6(r)&&t6(i)?t:t6(n)&&t6(r)?t7(function(t,n){return e(t,n,i)}):t6(n)&&t6(i)?t7(function(t,n){return e(t,r,n)}):t6(r)&&t6(i)?t7(function(t,r){return e(n,t,r)}):t6(n)?t8(function(t){return e(t,r,i)}):t6(r)?t8(function(t){return e(n,t,i)}):t6(i)?t8(function(t){return e(n,r,t)}):e(n,r,i)}}}function ne(e){return"[object Object]"===Object.prototype.toString.call(e)}function nt(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var nn=t9(function(e,t,n){var r,i={};for(r in n=n||{},t=t||{})nt(r,t)&&(i[r]=nt(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)nt(r,n)&&!nt(r,i)&&(i[r]=n[r]);return i}),nr=t9(function e(t,n,r){return nn(function(n,r,i){return ne(r)&&ne(i)?e(t,r,i):t(n,r,i)},n,r)}),ni=t7(function(e,t){return nr(function(e,t,n){return n},e,t)}),ns=n(76489);function no(){return"undefined"!=typeof window&&void 0!==window.document}var na={path:"/",sameSite:"lax",httpOnly:!1,maxAge:31536e6};async function nl(e,t){let n=await t(e);if(n)return n;let r=[];for(let n=0;;n++){let i=`${e}.${n}`,s=await t(i);if(!s)break;r.push(s)}if(r.length>0)return r.join("")}async function nc(e,t,n){if(await t(e)){await n(e);return}for(let r=0;;r++){let i=`${e}.${r}`;if(!await t(i))break;await n(i)}}"hasOwn"in Object||T(),C._m.config({paths:{vs:"/api/vs"}});let nu=(0,I.Z)({key:"app"});function nd(e){let{Component:t,pageProps:n}=e,r=(0,et.Z)(),[i]=(0,A.useState)(()=>"supabase"===r?function(e,t,n){let r,i;if(!e||!t)throw Error(`Your project's URL and Key are required to create a Supabase client!

Check your Supabase project's API settings to find these values

https://supabase.com/dashboard/project/_/settings/api`);let s={},o=!0;n&&({cookies:s,isSingleton:o=!0,cookieOptions:r,...i}=n);let a=ni({global:{headers:{"X-Client-Info":"supabase-ssr/0.1.0"}},auth:{flowType:"pkce",autoRefreshToken:no(),detectSessionInUrl:no(),persistSession:!0,storage:{isServer:!1,getItem:async e=>await nl(e,async e=>"function"==typeof s.get?await s.get(e):no()?(0,ns.Q)(document.cookie)[e]:void 0),setItem:async(e,t)=>{let n=await function(e,t,n){let r=(void 0)??3180,i=encodeURIComponent(t);if(i.length<=r)return[{name:e,value:t}];let s=[];for(;i.length>0;){let e=i.slice(0,r),t=e.lastIndexOf("%");t>r-3&&(e=e.slice(0,t));let n="";for(;e.length>0;)try{n=decodeURIComponent(e);break}catch(t){if(t instanceof URIError&&"%"===e.at(-3)&&e.length>3)e=e.slice(0,e.length-3);else throw t}s.push(n),i=i.slice(e.length)}return s.map((t,n)=>({name:`${e}.${n}`,value:t}))}(e,t);await Promise.all(n.map(async e=>{"function"==typeof s.set?await s.set(e.name,e.value,{...na,...r,maxAge:na.maxAge}):no()&&(document.cookie=(0,ns.q)(e.name,e.value,{...na,...r,maxAge:na.maxAge}))}))},removeItem:async e=>{if("function"==typeof s.remove&&"function"!=typeof s.get){console.log("Removing chunked cookie without a `get` method is not supported.\n\n	When you call the `createBrowserClient` function from the `@supabase/ssr` package, make sure you declare both a `get` and `remove` method on the `cookies` object.\n\nhttps://supabase.com/docs/guides/auth/server-side/creating-a-client");return}await nc(e,async e=>"function"==typeof s.get?await s.get(e):no()?(0,ns.Q)(document.cookie)[e]:void 0,async e=>{"function"==typeof s.remove?await s.remove(e,{...na,...r,maxAge:0}):no()&&(document.cookie=(0,ns.q)(e,"",{...na,...r,maxAge:0}))})}}}},i);if(o){let n=no();if(n&&S)return S;let r=t5(e,t,a);return n&&(S=r),r}return t5(e,t,a)}("https://utmzwjaygthhyccxwisu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV0bXp3amF5Z3RoaHljY3h3aXN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjQ1Nzg0MDksImV4cCI6MTk4MDE1NDQwOX0.CJ5wvjE_7tZMFsG7lJTVxpghq8F3ru-cvh-fUVTR0HU"):void 0),s=(0,A.useMemo)(M.l,[]);(0,A.useEffect)(()=>{"https://wiki.mutable.ai"===location.origin&&console.info("\n /$$      /$$             /$$               /$$       /$$                         /$$\n| $$$    /$$$            | $$              | $$      | $$                        |__/\n| $$$$  /$$$$ /$$   /$$ /$$$$$$    /$$$$$$ | $$$$$$$ | $$  /$$$$$$       /$$$$$$  /$$\n| $$ $$/$$ $$| $$  | $$|_  $$_/   |____  $$| $$__  $$| $$ /$$__  $$     |____  $$| $$\n| $$  $$$| $$| $$  | $$  | $$      /$$$$$$$| $$  \\ $$| $$| $$$$$$$$      /$$$$$$$| $$\n| $$\\  $ | $$| $$  | $$  | $$ /$$ /$$__  $$| $$  | $$| $$| $$_____/     /$$__  $$| $$\n| $$ \\/  | $$|  $$$$$$/  |  $$$$/|  $$$$$$$| $$$$$$$/| $$|  $$$$$$$ /$$|  $$$$$$$| $$\n|__/     |__/ \\______/    \\___/   \\_______/|_______/ |__/ \\_______/|__/ \\_______/|__/\n\n\nHelp us build the future of software development:\nhttps://www.ycombinator.com/companies/mutable-ai/jobs\n\n")},[]),(0,en.tn)();let o=(0,k.tZ)(k.HY,{children:(0,k.tZ)(O.C,{value:nu,children:(0,k.tZ)(t,{...n})})});return"manual"===r?(0,k.tZ)(Q,{children:o}):"supabase"===r?(0,k.tZ)(R.SessionContextProvider,{supabaseClient:i,initialSession:n.initialSession,children:(0,k.tZ)(P.zf,{client:s,children:(0,k.tZ)(ee,{children:o})})}):o}nu.compat=!0},57606:function(e,t,n){"use strict";n.d(t,{H:function(){return o},I:function(){return s}});var r=n(67294);let i=r.createContext(void 0),s=i.Provider;function o(e){let t=(0,r.useContext)(i);if(void 0===t)throw Error("useRemoteItemContext must be used within a RemoteItemContextProvider");if(null==e);else if("string"==typeof e){if(t.type!==e)throw Error("useRemoteItemContext RemoteItem type mismatch: expected ".concat(e,", got ").concat(t.type))}else for(let[n,r]of Object.entries(e)){let e=t[n];if(e!==r)throw Error("useRemoteItemContext RemoteItem constraint mismatch: expected ".concat(n," = ").concat(r,", got ").concat(e))}return t}},12626:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(83454);function i(){let e=r.env.NEXT_PUBLIC_REFERENCE_SCHEME;if("BITBUCKET-ENTERPRISE"===e)return"bitbucket-enterprise";if("BITBUCKET"===e)return"bitbucket";if("GITHUB"===e||!e)return"github";throw Error("Invalid repo host type specified: ".concat(e))}},82349:function(){},77663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},o=!0;try{t[e](s,s.exports,r),o=!1}finally{o&&delete n[e]}return s.exports}r.ab="//";var i=r(229);e.exports=i}()},11163:function(e,t,n){e.exports=n(73035)},18987:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=n(21414),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),f=function(e){if("undefined"==typeof window||!p)return d(e);try{return d(e)}catch(e){return!1}};r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===s.call(e),r=o(e),a=t&&"[object String]"===s.call(e),d=[];if(!t&&!n&&!r)throw TypeError("Object.keys called on a non-object");var h=c&&n;if(a&&e.length>0&&!i.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(r&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var m in e)!(h&&"prototype"===m)&&i.call(e,m)&&d.push(String(m));if(l)for(var v=f(e),y=0;y<u.length;++y)!(v&&"constructor"===u[y])&&i.call(e,u[y])&&d.push(u[y]);return d}}e.exports=r},82215:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(21414),s=Object.keys,o=s?function(e){return s(e)}:n(18987),a=Object.keys;o.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return i(e)?a(r.call(e)):a(e)}):Object.keys=o,Object.keys||o},e.exports=o},21414:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},3088:function(e,t,n){"use strict";var r=n(20377),i=n(55372),s=n(62498);e.exports=function(e,t){return s(r(e),i(t))}},17207:function(e,t,n){"use strict";var r=n(3088);e.exports=function(){return Object.hasOwn||r}},75898:function(e,t,n){"use strict";var r=n(17207),i=n(4289);e.exports=function(){var e=r();return i(Object,{hasOwn:e},{hasOwn:function(){return Object.hasOwn!==e}}),e}},99893:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||m(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw s}}}}n.d(t,{ZP:function(){return nW}});var _,b,w={DEBUG:!1,LIB_VERSION:"1.101.0"},S=Array.isArray,k=Object.prototype,E=k.hasOwnProperty,x=k.toString,T=S||function(e){return"[object Array]"===x.call(e)},I=function(e){return"[object Uint8Array]"===x.call(e)},O=function(e){return"function"==typeof e},C=function(e){return e===Object(e)&&!T(e)},R=function(e){if(C(e)){for(var t in e)if(E.call(e,t))return!1;return!0}return!1},P=function(e){return void 0===e},A=function(e){return"[object String]"==x.call(e)},M=function(e){return null===e},$=function(e){return"[object Number]"==x.call(e)},j=function(e){return"[object Boolean]"===x.call(e)},N=Array.prototype,D=N.forEach,L=N.indexOf,F="undefined"!=typeof window?window:void 0,U=null==F?void 0:F.navigator,B=null==F?void 0:F.document,q=null==U?void 0:U.userAgent,H=null!=F?F:{},z="[PostHog.js]",W={_log:function(e){if(F&&(w.DEBUG||H.POSTHOG_DEBUG)&&!P(F.console)&&F.console){for(var t=("__rrweb_original__"in F.console[e])?F.console[e].__rrweb_original__:F.console[e],n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.apply(void 0,[z].concat(r))}},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];W._log.apply(W,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];W._log.apply(W,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];W._log.apply(W,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[z].concat(n))},uninitializedWarning:function(e){W.error("You must initialize PostHog before calling ".concat(e))}},G={},V=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function J(e,t,n){if(T(e)){if(D&&e.forEach===D)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===G)return}}}function K(e,t,n){if(!M(e)&&!P(e)){if(T(e))return J(e,t,n);for(var r in e)if(E.call(e,r)&&t.call(n,e[r],r)===G)return}}var Y=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return J(n,function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e};function Z(e,t){return -1!==e.indexOf(t)}function X(e){for(var t=Object.keys(e),n=t.length,r=Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var Q=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},ee=function(e){try{return e()}catch(e){return}},et=function(e){return function(){try{for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){W.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),W.critical(e)}}},en=function(e){var t={};return K(e,function(e,n){A(e)&&e.length>0&&(t[n]=e)}),t},er=["$performance_raw"];function ei(e){var t,n,r,i,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,c="",u=[];if(!e)return e;e=es(e);do t=(s=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=s>>12&63,r=s>>6&63,i=63&s,u[l++]=o.charAt(t)+o.charAt(n)+o.charAt(r)+o.charAt(i);while(a<e.length);switch(c=u.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}var es=function(e){var t,n,r,i,s="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var o=e.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),M(a)||(n>t&&(s+=e.substring(t,n)),s+=a,t=n=i+1)}return n>t&&(s+=e.substring(t,e.length)),s},eo=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,i,s){if(t){if(t.addEventListener&&!i)t.addEventListener(n,r,!!s);else{var o="on"+n,a=t[o];t[o]=function(n){if(n=n||e(null==F?void 0:F.event)){var i,s=!0;O(a)&&(i=a(n));var o=r.call(t,n);return!1!==i&&!1!==o||(s=!1),s}}}}else W.error("No valid element provided to register_event")}}();function ea(e,t){var n=function(){if(!B)return t("document not found");var n=B.createElement("script");n.type="text/javascript",n.src=e,n.onload=function(e){return t(void 0,e)},n.onerror=function(e){return t(e)};var r,i=B.querySelectorAll("body > script");i.length>0?null===(r=i[0].parentNode)||void 0===r||r.insertBefore(n,i[0]):B.body.appendChild(n)};null!=B&&B.body?n():null==B||B.addEventListener("DOMContentLoaded",n)}function el(e){return e?V(e).split(/\s+/):[]}function ec(e){var t="";switch(s(e.className)){case"string":t=e.className;break;case"object":t=("baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return el(t)}function eu(e){var t="";return em(e)&&!ev(e)&&e.childNodes&&e.childNodes.length&&K(e.childNodes,function(e){ep(e)&&e.textContent&&(t+=V(e.textContent).split(/(\s+)/).filter(ey).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),V(t)}function ed(e){return!!e&&1===e.nodeType}function eh(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function ep(e){return!!e&&3===e.nodeType}function ef(e){return!!e&&11===e.nodeType}var eg=["a","button","form","input","select","textarea","label"];function em(e){for(var t=e;t.parentNode&&!eh(t,"body");t=t.parentNode){var n=ec(t);if(Z(n,"ph-sensitive")||Z(n,"ph-no-capture"))return!1}if(Z(ec(e),"ph-include"))return!0;var r=e.type||"";if(A(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(A(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function ev(e){return!!(eh(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||eh(e,"select")||eh(e,"textarea")||"true"===e.getAttribute("contenteditable"))}function ey(e){return!(M(e)||P(e)||A(e)&&(e=V(e),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(e)))}function e_(e){var t=eu(e);return ey(t="".concat(t," ").concat(function e(t){var n="";return t&&t.childNodes&&t.childNodes.length&&K(t.childNodes,function(t){var r;if(t&&"span"===(null===(r=t.tagName)||void 0===r?void 0:r.toLowerCase()))try{var i=eu(t);n="".concat(n," ").concat(i).trim(),t.childNodes&&t.childNodes.length&&(n="".concat(n," ").concat(e(t)).trim())}catch(e){W.error(e)}}),n}(e)).trim())?t:""}function eb(e){return e.replace(/"|\\"/g,'\\"')}var ew=function(){function e(t){o(this,e),this.clicks=[],this.enabled=t}return l(e,[{key:"isRageClick",value:function(e,t,n){if(!this.enabled)return!1;var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}(),eS="$people_distinct_id",ek="__alias",eE="__timers",ex="$autocapture_disabled_server_side",eT="$session_recording_enabled_server_side",eI="$console_log_recording_enabled_server_side",eO="$session_recording_recorder_version_server_side",eC="$session_recording_network_payload_capture",eR="$sesid",eP="$session_is_sampled",eA="$enabled_feature_flags",eM="$early_access_features",e$="$stored_person_properties",ej="$stored_group_properties",eN="$surveys",eD="$flag_call_reported",eL="$user_state",eF="$posthog_quota_limited",eU="$client_session_props",eB=[eS,ek,"__cmpns",eE,eT,eR,eA,eL,eF,eM,ej,e$,eN,eD,eU];function eq(e,t){return t.length>e?t.slice(0,e)+"...":t}var eH={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(e){var t,n=M(this._isDisabledServerSide)?!(null===(t=e.persistence)||void 0===t||!t.props[ex]):this._isDisabledServerSide,r=!!e.config.autocapture;this._isAutocaptureEnabled=r&&!n},_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!ed(t));return t},_getAugmentPropertiesFromElement:function(e){if(!em(e))return{};var t={};return K(e.attributes,function(e){if(0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&ey(r)&&(t[n]=r)}}),t},_getPropertiesFromElement:function(e,t,n){var r,i=e.tagName.toLowerCase(),s={tag_name:i};eg.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?s.$el_text=eq(1024,e_(e)):s.$el_text=eq(1024,eu(e)));var o=ec(e);o.length>0&&(s.classes=o.filter(function(e){return""!==e}));var a=null===(r=this.config)||void 0===r?void 0:r.element_attribute_ignorelist;K(e.attributes,function(n){var r;if((!ev(e)||-1!==["name","id","class"].indexOf(n.name))&&(null==a||!a.includes(n.name))&&!t&&ey(n.value)&&(!A(r=n.name)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var i=n.value;"class"===n.name&&(i=el(i).join(" ")),s["attr__"+n.name]=eq(1024,i)}});for(var l=1,c=1,u=e;u=this._previousElementSibling(u);)l++,u.tagName===e.tagName&&c++;return s.nth_child=l,s.nth_of_type=c,s},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1}},_extractCustomPropertyValue:function(e){var t=[];return K(null==B?void 0:B.querySelectorAll(e.css_selector),function(e){var n;["input","select"].indexOf(e.tagName.toLowerCase())>-1?n=e.value:e.textContent&&(n=e.textContent),ey(n)&&t.push(n)}),t.join(", ")},_getCustomProperties:function(e){var t=this,n={};return K(this._customProperties,function(r){K(r.event_selectors,function(i){K(null==B?void 0:B.querySelectorAll(i),function(i){Z(e,i)&&em(i)&&(n[r.name]=t._extractCustomPropertyValue(r))})})}),n},_getEventTarget:function(e){var t;return P(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null},_captureEvent:function(e,t){var n,r=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$autocapture",o=this._getEventTarget(e);if(ep(o)&&(o=o.parentNode||null),"$autocapture"===s&&"click"===e.type&&e instanceof MouseEvent&&null!==(n=this.rageclicks)&&void 0!==n&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,t,"$rageclick"),o&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!F||!e||eh(e,"html")||!ed(e))return!1;if(null!=n&&n.url_allowlist){var r=F.location.href,i=n.url_allowlist;if(i&&!i.some(function(e){return r.match(e)}))return!1}if(null!=n&&n.dom_event_allowlist){var s=n.dom_event_allowlist;if(s&&!s.some(function(e){return t.type===e}))return!1}if(null!=n&&n.element_allowlist){var o=n.element_allowlist;if(o&&!o.some(function(t){return e.tagName.toLowerCase()===t}))return!1}if(null!=n&&n.css_selector_allowlist){var a=n.css_selector_allowlist;if(a&&!a.some(function(t){return e.matches(t)}))return!1}for(var l=!1,c=[e],u=!0,d=e;d.parentNode&&!eh(d,"body");)if(ef(d.parentNode))c.push(d.parentNode.host),d=d.parentNode.host;else{if(!(u=d.parentNode||!1))break;if(eg.indexOf(u.tagName.toLowerCase())>-1)l=!0;else{var h=F.getComputedStyle(u);h&&"pointer"===h.getPropertyValue("cursor")&&(l=!0)}c.push(u),d=u}var p=F.getComputedStyle(e);if(p&&"pointer"===p.getPropertyValue("cursor")&&"click"===t.type)return!0;var f=e.tagName.toLowerCase();switch(f){case"html":return!1;case"form":return"submit"===t.type;case"input":case"select":case"textarea":return"change"===t.type||"click"===t.type;default:return l?"click"===t.type:"click"===t.type&&(eg.indexOf(f)>-1||"true"===e.getAttribute("contenteditable"))}}(o,e,this.config)){for(var a,l,c=[o],u=o;u.parentNode&&!eh(u,"body");)ef(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],p={},g=!1;if(K(c,function(e){var n=em(e);"a"===e.tagName.toLowerCase()&&(d=e.getAttribute("href"),d=n&&ey(d)&&d),Z(ec(e),"ph-no-capture")&&(g=!0),h.push(r._getPropertiesFromElement(e,t.config.mask_all_element_attributes,t.config.mask_all_text)),Y(p,r._getAugmentPropertiesFromElement(e))}),t.config.mask_all_text||("a"===o.tagName.toLowerCase()||"button"===o.tagName.toLowerCase()?h[0].$el_text=e_(o):h[0].$el_text=eu(o)),d&&(h[0].attr__href=d),g)return!1;var m=Y(this._getDefaultProperties(e.type),t.elementsChainAsString?{$elements_chain:h.map(function(e){var t,n,r,i={text:null===(n=e.$el_text)||void 0===n?void 0:n.slice(0,400),tag_name:e.tag_name,href:null===(r=e.attr__href)||void 0===r?void 0:r.slice(0,2048),attr_class:(t=e.attr__class)?T(t)?t:el(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return X(e).filter(function(e){return 0===f(e,1)[0].indexOf("attr__")}).forEach(function(e){var t=f(e,2),n=t[0],r=t[1];return i.attributes[n]=r}),i}).map(function(e){var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class){e.attr_class.sort();var s,o=y(e.attr_class);try{for(o.s();!(s=o.n()).done;){var a=s.value;r+=".".concat(a.replace(/"/g,""))}}catch(e){o.e(e)}finally{o.f()}}var l=i(i(i(i({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),c={};return X(l).sort(function(e,t){var n=f(e,1)[0],r=f(t,1)[0];return n.localeCompare(r)}).forEach(function(e){var t=f(e,2),n=t[0],r=t[1];return c[eb(n.toString())]=eb(r.toString())}),r+=":"+X(l).map(function(e){var t=f(e,2),n=t[0],r=t[1];return"".concat(n,'="').concat(r,'"')}).join("")}).join(";")}:{$elements:h},null!==(a=h[0])&&void 0!==a&&a.$el_text?{$el_text:null===(l=h[0])||void 0===l?void 0:l.$el_text}:{},this._getCustomProperties(c),p);return t.capture(s,m),!0}},_navigate:function(e){F&&(F.location.href=e)},_addDomEventHandlers:function(e){var t=this;if(F&&B){var n=function(n){n=n||(null==F?void 0:F.event),t._captureEvent(n,e)};eo(B,"submit",n,!1,!0),eo(B,"change",n,!1,!0),eo(B,"click",n,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(e){var t;j(e.__autocapture)||(this.config=e.__autocapture),null!==(t=this.config)&&void 0!==t&&t.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(e){return new RegExp(e)})),this.rageclicks=new ew(e.config.rageclick)},afterDecideResponse:function(e,t){var n=t.config.token;this._initializedTokens.indexOf(n)>-1?W.info('autocapture already initialized for token "'+n+'"'):(t.persistence&&t.persistence.register(c({},ex,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this._setIsAutocaptureEnabled(t),this._initializedTokens.push(n),e&&e.config&&e.config.enable_collect_everything&&this._isAutocaptureEnabled?(e.custom_properties&&(this._customProperties=e.custom_properties),this._addDomEventHandlers(t)):t.__autocapture=!1)},enabledForProject:function(e,t,n){if(!e)return!0;t=P(t)?10:t,n=P(n)?10:n;for(var r=0,i=0;i<e.length;i++)r+=e.charCodeAt(i);return r%t<n},isBrowserSupported:function(){return O(null==B?void 0:B.querySelectorAll)}};!function(e){for(var t in e)O(e[t])&&(e[t]=e[t].bind(e))}(eH),function(e){for(var t in e)O(e[t])&&(e[t]=et(e[t]))}(eH);var ez="$active_feature_flags",eW="$override_feature_flags",eG="$feature_flag_payloads",eV=function(e){var t,n={},r=y(X(e||{}));try{for(r.s();!(t=r.n()).done;){var i=f(t.value,2),s=i[0],o=i[1];o&&(n[s]=o)}}catch(e){r.e(e)}finally{r.f()}return n},eJ=function(){function e(t){o(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return l(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(eA),t=this.instance.get_property(eW);if(!t)return e||{};for(var n=Y({},e),r=Object.keys(t),i=0;i<r.length;i++)!1===t[r[i]]?delete n[r[i]]:n[r[i]]=t[r[i]];return this._override_warning||(W.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(eG)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(e$),r=this.instance.get_property(ej),i=ei(JSON.stringify({token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:i},{method:"POST"},this.instance._prepare_callback(function(t){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(t),e.setReloadingPaused(!1),e._startReloadTimer()}))}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,r=this.getFlagVariants()[e],i="".concat(r),s=this.instance.get_property(eD)||{};return!t.send_event&&"send_event"in t||e in s&&s[e].includes(i)||(T(s[e])?s[e].push(i):s[e]=[i],null===(n=this.instance.persistence)||void 0===n||n.register(c({},eD,s)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}W.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);W.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(t){return t!==e})}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var t=this.getFlagVariants(),n=this.getFlagPayloads();(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e.featureFlags,o=e.featureFlagPayloads;if(s){if(T(s)){var a,l={};if(s)for(var u=0;u<s.length;u++)l[s[u]]=!0;t&&t.register((c(a={},ez,s),c(a,eA,l),a))}else{var d,h=s,p=o;e.errorsWhileComputingFlags&&(h=i(i({},n),h),p=i(i({},r),p)),t&&t.register((c(d={},ez,Object.keys(eV(h))),c(d,eA,h||{}),c(d,eG,p||{}),d))}}})(e,this.instance.persistence,t,n),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return W.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===e)this.instance.persistence.unregister(eW);else if(T(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;this.instance.persistence.register(c({},eW,t))}else this.instance.persistence.register(c({},eW,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks();e(n.flags,n.flagVariants)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,r,s=c({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:s}),this.setPersonPropertiesForFlags(s,!1);var o=i(i({},this.getFlagVariants()),{},c({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((c(r={},ez,Object.keys(eV(o))),c(r,eA,o),r)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(eM);if(r&&!n)return e(r);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(n){var r,i=n.earlyAccessFeatures;return null===(r=t.instance.persistence)||void 0===r||r.register(c({},eM,i)),e(i)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(function(e){return t[e]}),flagVariants:Object.keys(t).filter(function(e){return t[e]}).reduce(function(e,n){return e[n]=t[n],e},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),t=e.flags,n=e.flagVariants;this.featureFlagEventHandlers.forEach(function(e){return e(t,n)})}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(e$)||{};this.instance.register(c({},e$,i(i({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(e$)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(ej)||{};0!==Object.keys(n).length&&Object.keys(n).forEach(function(t){n[t]=i(i({},n[t]),e[t]),delete e[t]}),this.instance.register(c({},ej,i(i({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(ej)||{};this.instance.register(c({},ej,i(i({},t),{},c({},e,{}))))}else this.instance.unregister(ej)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return $(e)&&isFinite(e)&&Math.floor(e)===e});var eK="0123456789abcdef",eY=function(){function e(t){if(o(this,e),this.bytes=t,16!==t.length)throw TypeError("not 128-bit length")}return l(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+eK.charAt(this.bytes[t]>>>4)+eK.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=t/1099511627776,s[1]=t/4294967296,s[2]=t/16777216,s[3]=t/65536,s[4]=t/256,s[5]=t,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new e(s)}}]),e}(),eZ=function(){function e(){o(this,e),c(this,"timestamp",0),c(this,"counter",0),c(this,"random",new e0)}return l(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(P(e)){this.timestamp=0;var t=this.generateOrAbort();if(P(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return eY.fromFieldsV7(this.timestamp,Math.trunc(this.counter/1073741824),1073741823&this.counter,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),eX=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};F&&!P(F.crypto)&&crypto.getRandomValues&&(eX=function(e){return crypto.getRandomValues(e)});var eQ,e0=function(){function e(){o(this,e),c(this,"buffer",new Uint32Array(8)),c(this,"cursor",1/0)}return l(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(eX(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),e1=function(){return e2().toString()},e2=function(){return(eQ||(eQ=new eZ)).generate()},e3="",e4=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,e5=function(e){var t=e.match(e4);return t?t[0]:""},e6={is_supported:function(){return!!B},error:function(e){W.error("cookieStore error: "+e)},get:function(e){if(B){try{for(var t=e+"=",n=B.cookie.split(";").filter(function(e){return e.length}),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(e6.get(e))||{}}catch(e){}return t},set:function(e,t,n,r,i){if(B)try{var s="",o="",a=function(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;if(e3)return e3;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),i="dmn_chk_"+e1(),s=RegExp("(^|;)\\s*"+i+"=1");!e3&&r--;){var o=n.slice(r).join("."),a=i+"=1;domain=."+o;t.cookie=a,s.test(t.cookie)&&(t.cookie=a+";expires=Thu, 01 Jan 1970 00:00:00 GMT",e3=o)}return e3}(e);if(!n){var r=e5(e);r!==n&&W.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}(B.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*36e5),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&W.warn("cookieStore warning: large cookie, len="+c.length),B.cookie=c,c}catch(e){return}},remove:function(e,t){try{e6.set(e,"",-1,t)}catch(e){return}}},e8=null,e7={is_supported:function(){if(!M(e8))return e8;var e=!0;if(P(F))e=!1;else try{var t="__mplssupport__";e7.set(t,"xyz"),'"xyz"'!==e7.get(t)&&(e=!1),e7.remove(t)}catch(t){e=!1}return e||W.error("localStorage unsupported; falling back to cookie store"),e8=e,e},error:function(e){W.error("localStorage error: "+e)},get:function(e){try{return null==F?void 0:F.localStorage.getItem(e)}catch(e){e7.error(e)}return null},parse:function(e){try{return JSON.parse(e7.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==F||F.localStorage.setItem(e,JSON.stringify(t))}catch(e){e7.error(e)}},remove:function(e){try{null==F||F.localStorage.removeItem(e)}catch(e){e7.error(e)}}},e9=["distinct_id",eR,eP],te=i(i({},e7),{},{parse:function(e){try{var t={};try{t=e6.parse(e)||{}}catch(e){}var n=Y(t,JSON.parse(e7.get(e)||"{}"));return e7.set(e,n),n}catch(e){}return null},set:function(e,t,n,r,i){try{e7.set(e,t);var s={};e9.forEach(function(e){t[e]&&(s[e]=t[e])}),Object.keys(s).length&&e6.set(e,s,n,r,i)}catch(e){e7.error(e)}},remove:function(e,t){try{null==F||F.localStorage.removeItem(e),e6.remove(e,t)}catch(e){e7.error(e)}}}),tt={},tn={is_supported:function(){return!0},error:function(e){W.error("memoryStorage error: "+e)},get:function(e){return tt[e]||null},parse:function(e){return tt[e]||null},set:function(e,t){tt[e]=t},remove:function(e){delete tt[e]}},tr=null,ti={is_supported:function(){if(!M(tr))return tr;if(tr=!0,P(F))tr=!1;else try{var e="__support__";ti.set(e,"xyz"),'"xyz"'!==ti.get(e)&&(tr=!1),ti.remove(e)}catch(e){tr=!1}return tr},error:function(e){W.error("sessionStorage error: ",e)},get:function(e){try{return null==F?void 0:F.sessionStorage.getItem(e)}catch(e){ti.error(e)}return null},parse:function(e){try{return JSON.parse(ti.get(e))||null}catch(e){}return null},set:function(e,t){try{null==F||F.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){ti.error(e)}},remove:function(e){try{null==F||F.sessionStorage.removeItem(e)}catch(e){ti.error(e)}}},ts=["localhost","127.0.0.1"],to=function(e){var t=null==B?void 0:B.createElement("a");return P(t)?null:(t.href=e,t)},ta=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===t){n=s;break}}if(!T(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch(e){W.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},tl=function(e,t){var n=e.match(RegExp(t+"=([^&]*)"));return n?n[1]:null},tc={campaignParams:function(e){var t=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gbraid","wbraid","fbclid","msclkid"].concat(e||[]),n={};return K(t,function(e){var t=B?ta(B.URL,e):"";t.length&&(n[e]=t)}),n},searchEngine:function(){var e=null==B?void 0:B.referrer;return e?0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null:null},searchInfo:function(){var e=tc.searchEngine(),t={};if(!M(e)){t.$search_engine=e;var n=B?ta(B.referrer,"yahoo"!=e?"q":"p"):"";n.length&&(t.ph_keyword=n)}return t},browser:function(e,t,n){return t=t||"",n||Z(e," OPR/")?Z(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":Z(e,"IEMobile")||Z(e,"WPDesktop")?"Internet Explorer Mobile":Z(e,"SamsungBrowser/")?"Samsung Internet":Z(e,"Edge")||Z(e,"Edg/")?"Microsoft Edge":Z(e,"FBIOS")?"Facebook Mobile":Z(e,"Chrome")?"Chrome":Z(e,"CriOS")?"Chrome iOS":Z(e,"UCWEB")||Z(e,"UCBrowser")?"UC Browser":Z(e,"FxiOS")?"Firefox iOS":Z(t,"Apple")||Z(e,"Safari")&&!Z(e,"Chrome")&&!Z(e,"Android")?Z(e,"Mobile")?"Mobile Safari":"Safari":Z(e,"Android")?"Android Mobile":Z(e,"Konqueror")||Z(e,"konqueror")?"Konqueror":Z(e,"Firefox")?"Firefox":Z(e,"MSIE")||Z(e,"Trident/")?"Internet Explorer":Z(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[tc.browser(e,t,n)];if(P(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=e.match(s);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){if(/Windows/i.test(e)){if(/Phone/.test(e)||/WPDesktop/.test(e))return{os_name:"Windows Phone",os_version:""};var t=/Windows NT ([0-9.]+)/i.exec(e);return t&&t[1]?{os_name:"Windows",os_version:t[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(e)){var n=/OS (\d+)_(\d+)_?(\d+)?/i.exec(e);return n&&n[1]?{os_name:"iOS",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(e)){var r=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(e);return r&&r[1]?{os_name:"Android",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(e))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(e)){var i=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(e);return i&&i[1]?{os_name:"Mac OS X",os_version:[i[1],i[2],i[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(e)?{os_name:"Linux",os_version:""}:/CrOS/.test(e)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)&&!/Mobile/.test(e)?"Android Tablet":/Android/.test(e)?"Android":""},deviceType:function(e){var t=this.device(e);return"iPad"===t||"Android Tablet"===t?"Tablet":t?"Mobile":"Desktop"},referrer:function(){return(null==B?void 0:B.referrer)||"$direct"},referringDomain:function(){var e;return null!=B&&B.referrer&&(null===(e=to(B.referrer))||void 0===e?void 0:e.host)||"$direct"},properties:function(){if(!q)return{};var e=tc.os(q);return Y(en({$os:e.os_name,$os_version:e.os_version,$browser:tc.browser(q,navigator.vendor,H.opera),$device:tc.device(q),$device_type:tc.deviceType(q)}),{$current_url:null==F?void 0:F.location.href,$host:null==F?void 0:F.location.host,$pathname:null==F?void 0:F.location.pathname,$raw_user_agent:q.length>1e3?q.substring(0,997)+"...":q,$browser_version:tc.browserVersion(q,navigator.vendor,H.opera),$browser_language:tc.browserLanguage(),$screen_height:null==F?void 0:F.screen.height,$screen_width:null==F?void 0:F.screen.width,$viewport_height:null==F?void 0:F.innerHeight,$viewport_width:null==F?void 0:F.innerWidth,$lib:"web",$lib_version:w.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Q()/1e3})},people_properties:function(){if(!q)return{};var e=tc.os(q);return Y(en({$os:e.os_name,$os_version:e.os_version,$browser:tc.browser(q,navigator.vendor,H.opera)}),{$browser_version:tc.browserVersion(q,navigator.vendor,H.opera)})}},tu=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],td=function(){function e(t){o(this,e);var n="";t.token&&(n=t.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=t.custom_campaign_params||[],t.persistence_name?this.name="ph_"+t.persistence_name:this.name="ph_"+n+"_posthog",-1===tu.indexOf(t.persistence.toLowerCase())&&(W.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var r=t.persistence.toLowerCase();"localstorage"===r&&e7.is_supported()?this.storage=e7:"localstorage+cookie"===r&&te.is_supported()?this.storage=te:"sessionstorage"===r&&ti.is_supported()?this.storage=ti:"memory"===r?this.storage=tn:"cookie"===r?this.storage=e6:te.is_supported()?this.storage=te:this.storage=e6,this.load(),this.update_config(t),this.save()}return l(e,[{key:"properties",value:function(){var e={};return K(this.props,function(t,n){if(n===eA&&C(t))for(var r,i=Object.keys(t),s=0;s<i.length;s++)e["$feature/".concat(i[s])]=t[i[s]];else r=!1,(M(eB)?r:L&&eB.indexOf===L?-1!=eB.indexOf(n):(K(eB,function(e){if(r||(r=e===n))return G}),r))||(e[n]=t)}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=Y({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var r=this;if(C(e)){P(t)&&(t="None"),this.expire_days=P(n)?this.default_expiry:n;var i=!1;if(K(e,function(e,n){r.props.hasOwnProperty(n)&&r.props[n]!==t||(r.props[n]=e,i=!0)}),i)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(C(e)){this.expire_days=P(t)?this.default_expiry:t;var r=!1;if(K(e,function(t,i){e.hasOwnProperty(i)&&n.props[i]!==t&&(n.props[i]=t,r=!0)}),r)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(tc.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(tc.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||tc.referrer(),$referring_domain:this.props.$referring_domain||tc.referringDomain()})}},{key:"get_referrer_info",value:function(){return en({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return K(this.props,function(t,n){n in e||(e[n]=t)}),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[eE]||{};n[e]=t,this.props[eE]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[eE]||{})[e];return P(t)||(delete this.props[eE][e],this.save()),t}},{key:"get_user_state",value:function(){return this.props[eL]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[eL]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[eF]||{}}},{key:"set_quota_limits",value:function(e){this.props[eF]=e,this.save()}}]),e}(),th=l(function e(t){var n,r,i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),c(this,"bucketSize",100),c(this,"refillRate",10),c(this,"mutationBuckets",{}),c(this,"loggedTracker",{}),c(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(e){i.mutationBuckets[e]=i.mutationBuckets[e]+i.refillRate,i.mutationBuckets[e]>=i.bucketSize&&delete i.mutationBuckets[e]})}),c(this,"getNodeOrRelevantParent",function(e){var t=i.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[i.rrweb.mirror.getId(n),n]}return[e,t]}),c(this,"numberOfChanges",function(e){var t,n,r,i,s,o,a,l;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null===(i=e.attributes)||void 0===i?void 0:i.length)&&void 0!==r?r:0)+(null!==(s=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==s?s:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)}),c(this,"throttleMutations",function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=i.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter(function(e){var t,n,r,s=f(i.getNodeOrRelevantParent(e.id),2),o=s[0],a=s[1];return 0!==i.mutationBuckets[o]&&(i.mutationBuckets[o]=null!==(t=i.mutationBuckets[o])&&void 0!==t?t:i.bucketSize,i.mutationBuckets[o]=Math.max(i.mutationBuckets[o]-1,0),0===i.mutationBuckets[o]&&(i.loggedTracker[o]||(i.loggedTracker[o]=!0,null===(n=(r=i.options).onBlockedNode)||void 0===n||n.call(r,o,a))),e)}));var r=i.numberOfChanges(t);return 0!==r||n===r?e:void 0}),this.rrweb=t,this.options=s,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(r=this.options.bucketSize)&&void 0!==r?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),tp=((ty=tp||{})[ty.DomContentLoaded=0]="DomContentLoaded",ty[ty.Load=1]="Load",ty[ty.FullSnapshot=2]="FullSnapshot",ty[ty.IncrementalSnapshot=3]="IncrementalSnapshot",ty[ty.Meta=4]="Meta",ty[ty.Custom=5]="Custom",ty[ty.Plugin=6]="Plugin",ty),tf={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},tg=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],tm=["/s/","/e/","/i/vo/e/"];function tv(e,t,n,r){var i=null==t?void 0:t["content-length"];return i&&parseInt(i)>n?"".concat(r," body too large to record"):e}var ty,t_,tb=function(e,t){var n,r,s=e.session_recording,o=!1!==s.recordHeaders&&t.recordHeaders,a=!1!==s.recordBody&&t.recordBody,l=!1!==s.recordPerformance&&t.recordPerformance,c=(r=Math.min(1e6,null!==(n=s.payloadSizeLimitBytes)&&void 0!==n?n:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=tv(e.requestBody,e.requestHeaders,r,"Request")),null!=e&&e.responseBody&&(e.responseBody=tv(e.responseBody,e.responseHeaders,r,"Response")),e}),u=function(e){var t;return c(function(e){var t=to(e.name);if(!(t&&t.pathname&&tm.includes(t.pathname)))return e}((Object.keys(null!==(t=e.requestHeaders)&&void 0!==t?t:{}).forEach(function(t){var n;tg.includes(t.toLowerCase())&&(null===(n=e.requestHeaders)||void 0===n||delete n[t])}),e)))},d=O(e.session_recording.maskNetworkRequestFn);return d&&O(e.session_recording.maskCapturedNetworkRequestFn)&&W.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return i(i({},t),{},{name:null==n?void 0:n.url})}),s.maskRequestFn=O(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,r,i,s=u(t);return s&&null!==(n=null===(r=(i=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(i,s))&&void 0!==n?n:void 0}:void 0,s.maskRequestFn||(s.maskRequestFn=u),i(i(i({},tf),s),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};(t2=t_||(t_={}))[t2.Mutation=0]="Mutation",t2[t2.MouseMove=1]="MouseMove",t2[t2.MouseInteraction=2]="MouseInteraction",t2[t2.Scroll=3]="Scroll",t2[t2.ViewportResize=4]="ViewportResize",t2[t2.Input=5]="Input",t2[t2.TouchMove=6]="TouchMove",t2[t2.MediaInteraction=7]="MediaInteraction",t2[t2.StyleSheetRule=8]="StyleSheetRule",t2[t2.CanvasMutation=9]="CanvasMutation",t2[t2.Font=10]="Font",t2[t2.Log=11]="Log",t2[t2.Drag=12]="Drag",t2[t2.StyleDeclaration=13]="StyleDeclaration",t2[t2.Selection=14]="Selection",t2[t2.AdoptedStyleSheet=15]="AdoptedStyleSheet";var tw=[t_.MouseMove,t_.MouseInteraction,t_.Scroll,t_.ViewportResize,t_.Input,t_.TouchMove,t_.MediaInteraction,t_.Drag],tS=function(){function e(t){var n=this;if(o(this,e),c(this,"isIdle",!1),c(this,"_linkedFlagSeen",!1),c(this,"_lastActivityTimestamp",Date.now()),c(this,"windowId",null),c(this,"sessionId",null),c(this,"_linkedFlag",null),c(this,"_sampleRate",null),c(this,"_minimumDuration",null),c(this,"_recordCanvas",!1),c(this,"_canvasFps",null),c(this,"_canvasQuality",null),c(this,"_forceAllowLocalhostNetworkCapture",!1),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,null==F||F.addEventListener("beforeunload",function(){n._flushBuffer()}),!this.instance.sessionManager)throw W.error("Session recording started without valid sessionManager"),Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return l(e,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw W.error("Session recording started without valid sessionManager"),Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return $(this._sampleRate)?this.instance.get_property(eP):null}},{key:"sessionDuration",get:function(){var e,t,n=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],r=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-r:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(eT),t=!this.instance.config.disable_session_recording;return F&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(eI),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"recordingVersion",get:function(){var e,t=this.instance.get_property(eO);return(null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recorderVersion)||t||"v1"}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(eC),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},i=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),s=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),o=this.instance.config.capture_performance||(null==n?void 0:n.capturePerformance);return i||s||o?{recordHeaders:i,recordBody:s,recordPerformance:o}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?A(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":j(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var t,n,r=this.sessionId!==e;if($(this._sampleRate)){var i,s=this.isSampled;(i=r||!j(s)?Math.random()<this._sampleRate:s)||W.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),null===(n=this.instance.persistence)||void 0===n||n.register(c({},eP,i))}else null===(t=this.instance.persistence)||void 0===t||t.register(c({},eP,null))}},{key:"afterDecideResponse",value:function(e){var t,n,r,s,o,a,l,u,d,h,p,f=this;this.instance.persistence&&this.instance.persistence.register((c(p={},eT,!!e.sessionRecording),c(p,eI,null===(u=e.sessionRecording)||void 0===u?void 0:u.consoleLogRecordingEnabled),c(p,eO,null===(d=e.sessionRecording)||void 0===d?void 0:d.recorderVersion),c(p,eC,i({capturePerformance:e.capturePerformance},null===(h=e.sessionRecording)||void 0===h?void 0:h.networkPayloadCapture)),p));var g=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate;this._sampleRate=P(g)||M(g)?null:parseFloat(g);var m=null===(n=e.sessionRecording)||void 0===n?void 0:n.minimumDurationMilliseconds;this._minimumDuration=P(m)?null:m;var v=null===(r=e.sessionRecording)||void 0===r?void 0:r.recordCanvas;this._recordCanvas=!P(v)&&!M(v)&&v;var y=null===(s=e.sessionRecording)||void 0===s?void 0:s.canvasFps;this._canvasFps=P(y)?null:y;var _,b=null===(o=e.sessionRecording)||void 0===o?void 0:o.canvasQuality;if(this._canvasQuality=P(b)||M(b)?null:parseFloat(b),this._linkedFlag=(null===(a=e.sessionRecording)||void 0===a?void 0:a.linkedFlag)||null,null!==(l=e.sessionRecording)&&void 0!==l&&l.endpoint&&(this._endpoint=null===(_=e.sessionRecording)||void 0===_?void 0:_.endpoint),$(this._sampleRate)&&this.sessionManager.onSessionId(function(e){f.makeSamplingDecision(e)}),A(this._linkedFlag)){var w=this._linkedFlag;this.instance.onFeatureFlags(function(e){f._linkedFlagSeen=e.includes(w)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Q()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!P(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var t="v2"===this.recordingVersion?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?ea(this.instance.config.api_host+"/static/".concat(t,"?v=").concat(w.LIB_VERSION),function(n){if(n)return W.error("Could not load ".concat(t),n);e._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==tw.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this._isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:e.timestamp-this._lastActivityTimestamp,threshold:3e5}));var n=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),i=r.windowId,s=r.sessionId,o=this.sessionId!==s,a=this.windowId!==i;this.windowId=i,this.sessionId=s,(n||-1===[2,4].indexOf(e.type)&&(a||o))&&this._tryTakeFullSnapshot()}}},{key:"_tryRRwebMethod",value:function(e){if(!this._captureStarted)return!1;try{return e(),!0}catch(e){return W.error("[Session-Recording] using rrweb when not started.",e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRwebMethod(function(){var r;return null===(r=n.rrwebRecord)||void 0===r?void 0:r.addCustomEvent(e,t)})}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRwebMethod(function(){var t;return null===(t=e.rrwebRecord)||void 0===t?void 0:t.takeFullSnapshot()})}},{key:"_onScriptLoaded",value:function(){var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=F.rrweb?F.rrweb.record:F.rrwebRecord;for(var r=this.instance.config.session_recording,s=0,o=Object.entries(r||{});s<o.length;s++){var a=f(o[s],2),l=a[0],c=a[1];l in n&&(n[l]=c)}if(!this._recordCanvas||M(this._canvasFps)||M(this._canvasQuality)||(n.recordCanvas=!0,n.sampling={canvas:this._canvasFps},n.dataURLOptions={type:"image/webp",quality:this._canvasQuality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new th(this.rrwebRecord,{onBlockedNode:function(e,n){var r="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");W.info(r,{node:n}),t.log("[PostHog Recorder] "+r,"warn")}});var u=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(i({emit:function(e){t.onRRwebEmit(e)},plugins:u},n)),this.instance._addCaptureHook(function(e){try{if("$pageview"===e){var n=F?t._maskUrl(F.location.href):"";if(!n)return;t._tryAddCustomEvent("$pageview",{href:n})}}catch(e){W.error("Could not add $pageview to rrweb session",e)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:u.map(function(e){return null==e?void 0:e.name})})}else W.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return H.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(H.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&O(H.getRecordNetworkPlugin)&&(!ts.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(H.getRecordNetworkPlugin(tb(this.instance.config,this.networkPayloadCapture))):W.info("[SessionReplay-NetworkCapture] not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(e&&C(e)){if(e.type===tp.Meta){var t=this._maskUrl(e.data.href);if(!t)return;e.data.href=t}var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var r=function(e){if(e&&C(e)&&6===e.type&&C(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],n=0;n<e.data.payload.payload.length;n++)e.data.payload.payload[n]&&e.data.payload.payload[n].length>2e3?t.push(e.data.payload.payload[n].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[n]);return e.data.payload.payload=t,e}return e}(n),i=JSON.stringify(r).length;if(this._updateWindowAndSessionIds(r),!this.isIdle){var s={$snapshot_bytes:i,$snapshot_data:r,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null===(n=r=t.maskNetworkRequestFn(r))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this._minimumDuration,n=this.sessionDuration,r=$(n)&&n>=0,i=$(t)&&r&&n<t;return"buffering"===this.status||i?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&0!==this.buffer.data.length?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,r=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),M(this.buffer.sessionId)&&!M(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){n._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:2===e.$snapshot_data.type}})}}]),e}(),tk=function(){function e(t){o(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return l(e,[{key:"call",value:function(){var e=this,t=ei(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(e$),group_properties:this.instance.get_property(ej),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:t,verbose:!0},{method:"POST"},function(t){return e.parseDecideResponse(t)})}},{key:"parseDecideResponse",value:function(e){var t,n=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),0!==(null==e?void 0:e.status)){if(!B||!B.body)return W.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){n.parseDecideResponse(e)},500);this.instance.toolbar.afterDecideResponse(e),null===(t=this.instance.sessionRecording)||void 0===t||t.afterDecideResponse(e),eH.afterDecideResponse(e,this.instance),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(e);var r=null==F?void 0:F.extendPostHogWithSurveys;e.surveys&&!r&&ea(this.instance.config.api_host+"/static/surveys.js",function(e){if(e)return W.error("Could not load surveys script",e);F.extendPostHogWithSurveys(n.instance)});var i=null==F?void 0:F.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&P(i)&&ea(this.instance.config.api_host+"/static/exception-autocapture.js",function(t){if(t)return W.error("Could not load exception autocapture script",t);F.extendPostHogWithExceptionAutocapture(n.instance,e)}),e.siteApps){if(this.instance.config.opt_in_site_apps){var s,o=this.instance.config.api_host,a=y(e.siteApps);try{for(a.s();!(s=a.n()).done;)(function(){var e=s.value,t=e.id,r=e.url,i=[o,"/"===o[o.length-1]&&"/"===r[0]?r.substring(1):r].join("");H["__$$ph_site_app_".concat(t)]=n.instance,ea(i,function(e){e&&W.error("Error while initializing PostHog app with config id ".concat(t),e)})})()}catch(e){a.e(e)}finally{a.f()}}else e.siteApps.length>0&&W.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}else W.error("Failed to fetch feature flags from PostHog.")}}]),e}(),tE=["https://app.posthog.com","https://eu.posthog.com"],tx=["source"],tT=null!=F&&F.location?tl(F.location.hash,"__posthog")||tl(location.hash,"state"):null,tI=function(){function e(t){o(this,e),this.instance=t}return l(e,[{key:"afterDecideResponse",value:function(e){var t=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&t.toolbarVersion&&0===t.toolbarVersion.indexOf("toolbar")&&this.loadToolbar(i({},t))}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!F||!B)return!1;n=null!==(e=n)&&void 0!==e?e:F.location,i=null!==(t=i)&&void 0!==t?t:F.history;try{if(!r){try{F.localStorage.setItem("test","test"),F.localStorage.removeItem("test")}catch(e){return!1}r=null==F?void 0:F.localStorage}var s,o=tT||tl(n.hash,"__posthog")||tl(n.hash,"state"),a=o?ee(function(){return JSON.parse(atob(decodeURIComponent(o)))})||ee(function(){return JSON.parse(decodeURIComponent(o))}):null;return a&&"ph_authorize"===a.action?((s=a).source="url",s&&Object.keys(s).length>0&&(a.desiredHash?n.hash=a.desiredHash:i?i.replaceState("",B.title,n.pathname+n.search):n.hash="")):((s=JSON.parse(r.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(e){return!1}}},{key:"loadToolbar",value:function(e){var t=this;if(!F||H._postHogToolbarLoaded)return!1;H._postHogToolbarLoaded=!0;var n=this.instance.config.api_host,r=3e5*Math.floor(Date.now()/3e5),s="".concat(n).concat(n.endsWith("/")?"":"/","static/toolbar.js?t=").concat(r),o=!tE.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,a=i(i({token:this.instance.config.token},e),{},{apiURL:n},o?{instrument:!1}:{});a.source;var l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(a,tx);return F.localStorage.setItem("_postHogToolbarParams",JSON.stringify(l)),ea(s,function(e){e?W.error("Failed to load toolbar",e):(H.ph_load_toolbar||H.ph_load_editor)(a,t.instance)}),eo(F,"turbolinks:load",function(){H._postHogToolbarLoaded=!1,t.loadToolbar(a)}),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}();function tO(e,t){tN(!0,e,t)}function tC(e,t){tN(!1,e,t)}function tR(e,t){return"1"===tj(e,t)}function tP(e,t){return!!function(e){if(e&&e.respectDnt){var t=e&&e.window||F,n=null==t?void 0:t.navigator,r=!1;return K([null==n?void 0:n.doNotTrack,n.msDoNotTrack,t.doNotTrack],function(e){Z([!0,1,"1","yes"],e)&&(r=!0)}),r}return!1}(t)||"0"===tj(e,t)}function tA(e,t){tM(t=t||{}).remove(t$(e,t),!!t.crossSubdomainCookie)}function tM(e){return"localStorage"===(e=e||{}).persistenceType?e7:"localStorage+cookie"===e.persistenceType?te:e6}function t$(e,t){return((t=t||{}).persistencePrefix||"__ph_opt_in_out_")+e}function tj(e,t){return tM(t).get(t$(e,t))}function tN(e,t,n){A(t)&&t.length?(tM(n=n||{}).set(t$(t,n),e?1:0,$(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):W.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}var tD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;o(this,e),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=t}return l(e,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return(new Date).getTime()}}]),e}(),tL=function(e){u(n,tD);var t=p(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return o(this,n),(r=t.call(this,i)).handlePollRequest=e,r}return l(n,[{key:"enqueue",value:function(e,t,n){this._event_queue.push({url:e,data:t,options:n}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(e._event_queue.length>0){var t=e.formatQueue();for(var n in t)(function(n){var r=t[n],i=r.url,s=r.data,o=r.options;K(s,function(t,n){s[n].offset=Math.abs(s[n].timestamp-e.getTime()),delete s[n].timestamp}),e.handlePollRequest(i,s,o)})(n);e._event_queue.length=0,e._empty_queue_count=0}else e._empty_queue_count++;e._empty_queue_count>4&&(e.isPolling=!1,e._empty_queue_count=0),e.isPolling&&e.poll()},this._pollInterval)}},{key:"unload",value:function(){var e=this;clearTimeout(this._poller);var t=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var n=Object.values(t);[].concat(g(n.filter(function(e){return 0===e.url.indexOf("/e")})),g(n.filter(function(e){return 0!==e.url.indexOf("/e")}))).map(function(t){var n=t.url,r=t.data,s=t.options;e.handlePollRequest(n,r,i(i({},s),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var e={};return K(this._event_queue,function(t){var n=t.url,r=t.data,i=t.options,s=(i?i._batchKey:null)||n;P(e[s])&&(e[s]={data:[],url:n,options:i}),i&&e[s].options&&e[s].options._metrics&&!e[s].options._metrics.rrweb_full_snapshot&&(e[s].options._metrics.rrweb_full_snapshot=i._metrics.rrweb_full_snapshot),e[s].data.push(r)}),e}}]),n}(),tF=Uint8Array,tU=Uint16Array,tB=Uint32Array,tq=new tF([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tH=new tF([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tz=new tF([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tW=function(e,t){for(var n=new tU(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new tB(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},tG=tW(tq,2),tV=tG[0],tJ=tG[1];tV[28]=258,tJ[258]=28;for(var tK=tW(tH,0)[1],tY=new tU(32768),tZ=0;tZ<32768;++tZ){var tX=(43690&tZ)>>>1|(21845&tZ)<<1;tX=(61680&(tX=(52428&tX)>>>2|(13107&tX)<<2))>>>4|(3855&tX)<<4,tY[tZ]=((65280&tX)>>>8|(255&tX)<<8)>>>1}var tQ=function(e,t,n){for(var r=e.length,i=0,s=new tU(t);i<r;++i)++s[e[i]-1];var o,a=new tU(t);for(i=0;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new tU(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=a[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[tY[d]>>>l]=c}else for(o=new tU(r),i=0;i<r;++i)o[i]=tY[a[e[i]-1]++]>>>15-e[i];return o},t0=new tF(288);for(tZ=0;tZ<144;++tZ)t0[tZ]=8;for(tZ=144;tZ<256;++tZ)t0[tZ]=9;for(tZ=256;tZ<280;++tZ)t0[tZ]=7;for(tZ=280;tZ<288;++tZ)t0[tZ]=8;var t1=new tF(32);for(tZ=0;tZ<32;++tZ)t1[tZ]=5;var t2,t3,t4=tQ(t0,9,0),t5=tQ(t1,5,0),t6=function(e){return(e/8>>0)+(7&e&&1)},t8=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof tU?tU:e instanceof tB?tB:tF)(n-t);return r.set(e.subarray(t,n)),r},t7=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},t9=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},ne=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return[new tF(0),0];if(1==i){var o=new tF(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new tU(h+1),f=nt(n[u-1],p,0);if(f>t){r=0;var g=0,m=f-t,v=1<<m;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<i;++r){var y=s[r].s;if(!(p[y]>t))break;g+=v-(1<<f-p[y]),p[y]=t}for(g>>>=m;g>0;){var _=s[r].s;p[_]<t?g-=1<<t-p[_]++-1:++r}for(;r>=0&&g;--r){var b=s[r].s;p[b]==t&&(--p[b],++g)}f=t}return[new tF(p),f]},nt=function e(t,n,r){return -1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},nn=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new tU(++t),r=0,i=e[0],s=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return[n.subarray(0,r),t]},nr=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},ni=function(e,t,n){var r=n.length,i=t6(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},ns=function(e,t,n,r,i,s,o,a,l,c,u){t7(t,u++,n),++i[256];for(var d=ne(i,15),h=d[0],p=d[1],f=ne(s,15),g=f[0],m=f[1],v=nn(h),y=v[0],_=v[1],b=nn(g),w=b[0],S=b[1],k=new tU(19),E=0;E<y.length;++E)k[31&y[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=ne(k,7),T=x[0],I=x[1],O=19;O>4&&!T[tz[O-1]];--O);var C,R,P,A,M=c+5<<3,$=nr(i,t0)+nr(s,t1)+o,j=nr(i,h)+nr(s,g)+o+14+3*O+nr(k,T)+(2*k[16]+3*k[17]+7*k[18]);if(M<=$&&M<=j)return ni(t,u,e.subarray(l,l+c));if(t7(t,u,1+(j<$)),u+=2,j<$){C=tQ(h,p,0),R=h,P=tQ(g,m,0),A=g;var N=tQ(T,I,0);for(t7(t,u,_-257),t7(t,u+5,S-1),t7(t,u+10,O-4),u+=14,E=0;E<O;++E)t7(t,u+3*E,T[tz[E]]);u+=3*O;for(var D=[y,w],L=0;L<2;++L){var F=D[L];for(E=0;E<F.length;++E){var U=31&F[E];t7(t,u,N[U]),u+=T[U],U>15&&(t7(t,u,F[E]>>>5&127),u+=F[E]>>>12)}}}else C=t4,R=t0,P=t5,A=t1;for(E=0;E<a;++E)if(r[E]>255){t9(t,u,C[(U=r[E]>>>18&31)+257]),u+=R[U+257],U>7&&(t7(t,u,r[E]>>>23&31),u+=tq[U]);var B=31&r[E];t9(t,u,P[B]),u+=A[B],B>3&&(t9(t,u,r[E]>>>5&8191),u+=tH[B])}else t9(t,u,C[r[E]]),u+=R[r[E]];return t9(t,u,C[256]),u+R[256]},no=new tB([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),na=new tF(0),nl=function(){for(var e=new tB(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),nc=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=nl[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},nu=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},nd=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&nu(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}};(nw=t3||(t3={})).GZipJS="gzip-js",nw.Base64="base64";var nh=function(e,t,n){var r=t||{};r.ip=n.ip?1:0,r._=(new Date).getTime().toString(),r.ver=w.LIB_VERSION;var i=e.split("?");if(i.length>1){var s,o=y(i[1].split("&"));try{for(o.s();!(s=o.n()).done;){var a=s.value.split("=")[0];P(r[a])||delete r[a]}}catch(e){o.e(e)}finally{o.f()}}var l=e.indexOf("?")>-1?"&":"?";return e+l+function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=[];return K(e,function(e,r){P(e)||P(r)||"undefined"===r||(t=encodeURIComponent(e.toString()),n=encodeURIComponent(r),i[i.length]=n+"="+t)}),i.join(r)}(r)},np=function e(t,n){var r;if(n.blob&&t.buffer)return new Blob([I(t)?t:t.buffer],{type:"text/plain"});if(n.sendBeacon||n.blob){var i=e(t,{method:"POST"});return new Blob([i],{type:"application/x-www-form-urlencoded"})}return"POST"!==n.method?null:(r=T(t)||I(t)?"data="+encodeURIComponent(t):"data="+encodeURIComponent(t.data),"compression"in t&&t.compression&&(r+="&compression="+t.compression),r)},nf=function(e){var t=e.url,n=e.data,r=e.headers,i=e.options,s=e.callback,o=e.retriesPerformedSoFar,a=e.retryQueue,l=e.onXHRError,c=e.timeout,u=e.onResponse;$(o)&&o>0&&(t=nh(t,{retry_count:o},{}));var d=new XMLHttpRequest;d.open(i.method||"GET",t,!0);var h=np(n,i);K(r,function(e,t){d.setRequestHeader(t,e)}),"POST"!==i.method||i.blob||d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.timeout=void 0===c?6e4:c,d.withCredentials=!0,d.onreadystatechange=function(){if(4===d.readyState){if(null==u||u(d),200===d.status){if(s){var e;try{e=JSON.parse(d.responseText)}catch(e){return void W.error(e)}s(e)}}else O(l)&&l(d),(d.status<400||d.status>500)&&a.enqueue({url:t,data:n,options:i,headers:r,retriesPerformedSoFar:(o||0)+1,callback:s}),null==s||s({status:0})}},d.send(h)},ng=function(e){u(n,tD);var t=p(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).isPolling=!1,i.queue=[],i.areWeOnline=!0,i.onXHRError=e,i.rateLimiter=r,!P(F)&&"onLine"in F.navigator&&(i.areWeOnline=F.navigator.onLine,F.addEventListener("online",function(){i._handleWeAreNowOnline()}),F.addEventListener("offline",function(){i.areWeOnline=!1})),i}return l(n,[{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;if(!(t>=10)){var n,r,i,s=(i=(Math.random()-.5)*((r=Math.min(18e5,n=3e3*Math.pow(2,t)))-n/2),Math.ceil(r+i)),o=new Date(Date.now()+s);this.queue.push({retryAt:o,requestData:e});var a="Enqueued failed request for retry in ".concat(s);navigator.onLine||(a+=" (Browser is offline)"),W.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var e=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()},this._pollInterval)}},{key:"flush",value:function(){var e=new Date(Date.now()),t=this.queue.filter(function(t){return t.retryAt<e});if(t.length>0){this.queue=this.queue.filter(function(t){return t.retryAt>=e});var n,r=y(t);try{for(r.s();!(n=r.n()).done;){var i=n.value.requestData;this._executeXhrRequest(i)}}catch(e){r.e(e)}finally{r.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var e,t=y(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestData,r=n.url,s=n.data,o=n.options;if(this.rateLimiter.isRateLimited(o._batchKey))W.warn("[RetryQueue] is quota limited. Dropping request.");else try{null==F||F.navigator.sendBeacon(r,np(s,i(i({},o),{},{sendBeacon:!0})))}catch(e){W.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(e){var t=e.url,n=e.data,r=e.options,i=e.headers,s=e.callback,o=e.retriesPerformedSoFar;this.rateLimiter.isRateLimited(r._batchKey)||nf({url:t,data:n||{},options:r||{},headers:i||{},retriesPerformedSoFar:o||0,callback:s,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),n}(),nm=function(){function e(t,n,r,i){o(this,e),c(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||e1,this._windowIdGenerator=i||e1;var s=t.persistence_name||t.token,a=t.session_idle_timeout_seconds||1800;if($(a)?a>1800?W.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):a<60&&W.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(W.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),a=1800),this._sessionTimeoutMs=1e3*Math.min(Math.max(a,60),1800),this._window_id_storage_key="ph_"+s+"_window_id",this._primary_window_exists_storage_key="ph_"+s+"_primary_window_exists",this._canUseSessionStorage()){var l=ti.parse(this._window_id_storage_key),u=ti.parse(this._primary_window_exists_storage_key);l&&!u?this._windowId=l:ti.remove(this._window_id_storage_key),ti.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return l(e,[{key:"onSessionId",value:function(e){var t=this;return P(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter(function(t){return t!==e})}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&ti.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&ti.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?ti.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(c({},eR,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[eR];return T(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==F||F.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&ti.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=f(this._getSessionId(),3),r=n[0],i=n[1],s=n[2],o=this._getWindowId(),a=s&&s>0&&Math.abs(t-s)>864e5,l=!1,c=!i,u=!e&&Math.abs(t-r)>this._sessionTimeoutMs;c||u||a?(i=this._sessionIdGenerator(),o=this._windowIdGenerator(),s=t,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===s?(new Date).getTime():s;return this._setWindowId(o),this._setSessionId(i,0===r||!e||a?t:r,d),l&&this._sessionIdChangedHandlers.forEach(function(e){return e(i,o)}),{sessionId:i,windowId:o,sessionStartTimestamp:d}}}]),e}(),nv=l(function e(t,n,r,i){o(this,e),this.name="posthog-js",this.setupOnce=function(e){e(function(e){if("error"!==e.level||!t.__loaded)return e;e.tags||(e.tags={});var s,o,a,l,c,u=t.config.ui_host||t.config.api_host;e.tags["PostHog Person URL"]=u+"/person/"+t.get_distinct_id(),t.sessionRecordingStarted()&&(e.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var d=(null===(s=e.exception)||void 0===s?void 0:s.values)||[],h={$exception_message:null===(o=d[0])||void 0===o?void 0:o.value,$exception_type:null===(a=d[0])||void 0===a?void 0:a.type,$exception_personURL:u+"/person/"+t.get_distinct_id(),$sentry_event_id:e.event_id,$sentry_exception:e.exception,$sentry_exception_message:null===(l=d[0])||void 0===l?void 0:l.value,$sentry_exception_type:null===(c=d[0])||void 0===c?void 0:c.type,$sentry_tags:e.tags};return n&&r&&(h.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+e.event_id),t.capture("$exception",h),e})}}),ny=function(e){Promise&&Promise.resolve||W.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(t,n){t.event.userId||t.event.anonymousId===e.get_distinct_id()||e.reset(),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(e.register({distinct_id:t.event.userId}),e.reloadFeatureFlags());var r=e._calculate_event_properties(n,t.event.properties);return t.event.properties=Object.assign({},r,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return t(e,e.event.event)},page:function(e){return t(e,"$pageview")},identify:function(e){return t(e,"$identify")},screen:function(e){return t(e,"$screen")}}},n_=function(){function e(t){var n=this;o(this,e),c(this,"_hasSeenPageView",!1),c(this,"_updateScrollData",function(){n._pageViewData||(n._pageViewData=n._createPageViewData());var e,t,r,i,s=n._pageViewData,o=n._scrollY(),a=n._scrollHeight(),l=n._contentY(),c=n._contentHeight();s.lastScrollY=o,s.maxScrollY=Math.max(o,null!==(e=s.maxScrollY)&&void 0!==e?e:0),s.maxScrollHeight=Math.max(a,null!==(t=s.maxScrollHeight)&&void 0!==t?t:0),s.lastContentY=l,s.maxContentY=Math.max(l,null!==(r=s.maxContentY)&&void 0!==r?r:0),s.maxContentHeight=Math.max(c,null!==(i=s.maxContentHeight)&&void 0!==i?i:0)}),this._instance=t}return l(e,[{key:"_createPageViewData",value:function(){var e;return{pathname:null!==(e=null==F?void 0:F.location.pathname)&&void 0!==e?e:""}}},{key:"doPageView",value:function(){var e,t;return this._hasSeenPageView?(t=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,t=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),i({$prev_pageview_pathname:null===(e=t)||void 0===e?void 0:e.pathname},this._calculatePrevPageScrollProperties(t))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return i({$prev_pageview_pathname:null==e?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||null==e.maxScrollHeight||null==e.lastScrollY||null==e.maxScrollY||null==e.maxContentHeight||null==e.lastContentY||null==e.maxContentY)return{};var t=e.maxScrollHeight,n=e.lastScrollY,r=e.maxScrollY,i=e.maxContentHeight,s=e.lastContentY,o=e.maxContentY;return t=Math.ceil(t),n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),s=Math.ceil(s),o=Math.ceil(o),{$prev_pageview_last_scroll:n,$prev_pageview_last_scroll_percentage:t<=1?1:nb(n/t,0,1),$prev_pageview_max_scroll:r,$prev_pageview_max_scroll_percentage:t<=1?1:nb(r/t,0,1),$prev_pageview_last_content:s,$prev_pageview_last_content_percentage:i<=1?1:nb(s/i,0,1),$prev_pageview_max_content:o,$prev_pageview_max_content_percentage:i<=1?1:nb(o/i,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){null==F||F.addEventListener("scroll",this._updateScrollData,!0),null==F||F.addEventListener("scrollend",this._updateScrollData,!0),null==F||F.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){null==F||F.removeEventListener("scroll",this._updateScrollData),null==F||F.removeEventListener("scrollend",this._updateScrollData),null==F||F.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollElement",value:function(){if(!this._instance.config.scroll_root_selector)return null==F?void 0:F.document.documentElement;var e,t=y(T(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=null==F?void 0:F.document.querySelector(n);if(r)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"_scrollHeight",value:function(){var e=this._scrollElement();return e?Math.max(0,e.scrollHeight-e.clientHeight):0}},{key:"_scrollY",value:function(){if(this._instance.config.scroll_root_selector){var e=this._scrollElement();return e&&e.scrollTop||0}return F&&(F.scrollY||F.pageYOffset||F.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){var e=this._scrollElement();return(null==e?void 0:e.scrollHeight)||0}},{key:"_contentY",value:function(){var e=this._scrollElement(),t=(null==e?void 0:e.clientHeight)||0;return this._scrollY()+t}}]),e}();function nb(e,t,n){return Math.max(t,Math.min(e,n))}var nw,nS,nk,nE,nx={icontains:function(e){return!!F&&F.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},regex:function(e){var t;return!!F&&(t=F.location.href,!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(e)&&new RegExp(e).test(t))},exact:function(e){return(null==F?void 0:F.location.href)===e}},nT=function(){function e(t){o(this,e),this.instance=t}return l(e,[{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(eN);if(r&&!n)return e(r);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(n){var r,i=n.surveys||[];return null===(r=t.instance.persistence)||void 0===r||r.register(c({},eN,i)),e(i)})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys(function(n){return e(n.filter(function(e){return!(!e.start_date||e.end_date)}).filter(function(e){if(!e.conditions)return!0;var t,n,r,i,s=null===(t=e.conditions)||void 0===t||!t.url||nx[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),o=null===(i=e.conditions)||void 0===i||!i.selector||(null==B?void 0:B.querySelector(e.conditions.selector));return s&&o}).filter(function(e){if(!e.linked_flag_key&&!e.targeting_flag_key)return!0;var n=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),r=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key);return n&&r}))},n)}}]),e}(),nI=function(){function e(){var t=this;o(this,e),c(this,"limits",{}),c(this,"checkForLimiting",function(e){try{var n=e.responseText;if(!n||!n.length)return;(JSON.parse(n).quota_limited||[]).forEach(function(e){W.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),t.limits[e]=(new Date).getTime()+6e4})}catch(e){return void W.error(e)}})}return l(e,[{key:"isRateLimited",value:function(e){var t=this.limits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),nO=function(){return i({initialPathName:(null==F?void 0:F.location.pathname)||"",referringDomain:tc.referringDomain()},tc.campaignParams())},nC=function(){function e(t,n,r){var i=this;o(this,e),c(this,"_onSessionIdCallback",function(e){var t=i._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:i._sessionSourceParamGenerator()};i._persistence.register(c({},eU,n))}}),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||nO,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return l(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[eU]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),nR=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],nP=function(e,t){if(!e)return!1;var n=e.toLowerCase();return nR.concat(t||[]).some(function(e){var t=e.toLowerCase();return n.includes?n.includes(t):-1!==n.indexOf(t)})};(nB=nS||(nS={}))[nB.INIT_MODULE=0]="INIT_MODULE",nB[nB.INIT_SNIPPET=1]="INIT_SNIPPET";var nA=function(){},nM={},n$="posthog",nj=(null==F?void 0:F.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,nN=!nj&&-1===(null==q?void 0:q.indexOf("MSIE"))&&-1===(null==q?void 0:q.indexOf("Mozilla")),nD=function(){var e,t,n;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:!!A(n=null==(t=null==B?void 0:B.location)?void 0:t.hostname)&&"herokuapp.com"!==n.split(".").slice(-2).join("."),persistence:"localStorage+cookie",persistence_name:"",cookie_name:"",loaded:nA,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==F||null===(e=F.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(e){var t="Bad HTTP status: "+e.status+" "+e.statusText;W.error(t)},get_device_id:function(e){return e},_onCapture:nA,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},nL=function(e,t,n,r){var i,s=n!==n$&&nE?n?nE[n]:void 0:nE,o={initComplete:!1,syncCode:!1},a=function(e){return function(t){o[e]||(o[e]=!0,o.initComplete&&o.syncCode&&(null==r||r(t)))}};if(s&&nk===nS.INIT_MODULE)i=s;else{if(s&&!T(s))return void W.error("You have already initialized "+n);i=new nU}return i._init(e,t,n,a("initComplete")),i.toolbar.maybeLoadToolbar(),i.sessionRecording=new tS(i),i.sessionRecording.startRecordingIfEnabled(),i.config.disable_scroll_properties||i.pageViewManager.startMeasuringScrollPosition(),i.__autocapture=i.config.autocapture,eH._setIsAutocaptureEnabled(i),eH._isAutocaptureEnabled&&(i.__autocapture=i.config.autocapture,eH.enabledForProject(i.config.token,100,100)?eH.isBrowserSupported()?eH.init(i):(i.__autocapture=!1,W.info("Disabling Automatic Event Collection because this browser is not supported")):(i.__autocapture=!1,W.info("Not in active bucket: disabling Automatic Event Collection."))),w.DEBUG=w.DEBUG||i.config.debug,!P(s)&&T(s)&&(i._execute_array.call(i.people,s.people),i._execute_array(s)),a("syncCode")(i),i},nF=function(){function e(){o(this,e),c(this,"__forceAllowLocalhost",!1)}return l(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){W.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),nU=function(){function e(){var t=this;o(this,e),c(this,"webPerformance",new nF),this.config=nD(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=nv,this.segmentIntegration=function(){return ny(t)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.elementsChainAsString=!1,this.featureFlags=new eJ(this),this.toolbar=new tI(this),this.pageViewManager=new n_(this),this.surveys=new nT(this),this.rateLimiter=new nI,this.people={set:function(e,n,r){var i=A(e)?c({},e,n):e;t.setPersonProperties(i),null==r||r({})},set_once:function(e,n,r){var i=A(e)?c({},e,n):e;t.setPersonProperties(void 0,i),null==r||r({})}}}return l(e,[{key:"init",value:function(e,t,n){if(P(n))W.critical("You must name your new library: init(token, config, name)");else{if(n!==n$){var r=nL(e,t,n,function(e){nE[n]=e,e._loaded()});return nE[n]=r,r}W.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var t,n,r,s=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var c,u={segmentRegister:!1,syncCode:!1},d=function(e){return function(){u[e]||(u[e]=!0,u.segmentRegister&&u.syncCode&&(null==l||l(s)))}};if(this.set_config(Y({},nD(),o,{name:a,token:e,callback_fn:(a===n$?a:n$+"."+a)+"._jsc"})),this._jsc=function(){},(null!=F&&null!==(t=F.rrweb)&&void 0!==t&&t.record||null!=F&&F.rrwebRecord)&&(this.__loaded_recorder_version=null==F||null===(c=F.rrweb)||void 0===c?void 0:c.version),this.persistence=new td(this.config),this._requestQueue=new tL(this._handle_queued_event.bind(this)),this._retryQueue=new ng(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new nm(this.config,this.persistence),this.sessionPropsManager=new nC(this.sessionManager,this.persistence),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new td(i(i({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),o.segment?(this.config.get_device_id=function(){return o.segment.user().anonymousId()},o.segment.user().id()&&(this.register({distinct_id:o.segment.user().id()}),this.persistence.set_user_state("identified")),o.segment.register(this.segmentIntegration()).then(d("segmentRegister"))):d("segmentRegister")(),void 0!==(null===(n=o.bootstrap)||void 0===n?void 0:n.distinctID)){var h,p,f=this.config.get_device_id(e1()),g=null!==(h=o.bootstrap)&&void 0!==h&&h.isIdentifiedID?f:o.bootstrap.distinctID;this.persistence.set_user_state(null!==(p=o.bootstrap)&&void 0!==p&&p.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:g})}if(this._hasBootstrappedFeatureFlags()){var m,v,y=Object.keys((null===(m=o.bootstrap)||void 0===m?void 0:m.featureFlags)||{}).filter(function(e){var t,n;return!(null===(t=o.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])}).reduce(function(e,t){var n,r;return e[t]=(null===(n=o.bootstrap)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r[t])||!1,e},{}),_=Object.keys((null===(v=o.bootstrap)||void 0===v?void 0:v.featureFlagPayloads)||{}).filter(function(e){return y[e]}).reduce(function(e,t){var n,r,i,s;return null!==(n=o.bootstrap)&&void 0!==n&&null!==(r=n.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(i=o.bootstrap)||void 0===i||null===(s=i.featureFlagPayloads)||void 0===s?void 0:s[t]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:y,featureFlagPayloads:_})}if(!this.get_distinct_id()){var b=this.config.get_device_id(e1());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_user_state("anonymous")}null==F||null===(r=F.addEventListener)||void 0===r||r.call(F,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),d("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var t;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var n,r={},i=y(e.supportedCompression);try{for(i.s();!(n=i.n()).done;)r[n.value]=!0}catch(e){i.e(e)}finally{i.f()}this.compression=r}null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),e.elementsChainAsString&&(this.elementsChainAsString=e.elementsChainAsString)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){W.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&B&&this.capture("$pageview",{title:B.title},{send_instantly:!0}),e||(new tk(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||J(this.__request_queue,function(t){e._send_request.apply(e,g(t))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,t){if(P(e))return null;if(nj)return function(n){e(n,t)};var n=this._jsc,r=""+Math.floor(1e8*Math.random()),i=this.config.callback_fn+"["+r+"]";return n[r]=function(i){delete n[r],e(i,t)},i}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,t,n){var r=JSON.stringify(t);this.__compress_and_send_json_request(e,r,n||nM,nA)}},{key:"__compress_and_send_json_request",value:function(e,t,n,r){var s,o,a,l,c,u,d,h=f((this.compression[t3.GZipJS]?t3.GZipJS:t3.Base64)===t3.GZipJS?[(s=function(e,t){var n=e.length;if(!t&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new tF(e.length+(e.length>>>1)),i=0,s=function(e){r[i++]=e},o=0;o<n;++o){if(i+5>r.length){var a=new tF(i+8+(n-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?s(l):(l<2048?s(192|l>>>6):(l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),s(128|l>>>12&63)):s(224|l>>>12),s(128|l>>>6&63)),s(128|63&l))}return t8(r,0,i)}(t),o={mtime:0},a=nc(),l=s.length,a.p(s),d=(c=10+(o.filename&&o.filename.length+1||0),u=function(e,t,n,r,i,s){var o=e.length,a=new tF(r+o+5*(1+Math.floor(o/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=ni(l,c,e.subarray(u,d)):(l[u]=s,c=ni(l,c,e.subarray(u,o)))}else{for(var h=no[t-1],p=h>>>13,f=8191&h,g=(1<<n)-1,m=new tU(32768),v=new tU(g+1),y=Math.ceil(n/3),_=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<_)&g},w=new tB(25e3),S=new tU(288),k=new tU(32),E=0,x=0,T=(u=0,0),I=0,O=0;u<o;++u){var C=b(u),R=32767&u,P=v[C];if(m[R]=P,v[C]=R,I<=u){var A=o-u;if((E>7e3||T>24576)&&A>423){c=ns(e,l,0,w,S,k,x,T,O,u-O,c),T=E=x=0,O=u;for(var M=0;M<286;++M)S[M]=0;for(M=0;M<30;++M)k[M]=0}var $=2,j=0,N=f,D=R-P&32767;if(A>2&&C==b(u-D))for(var L=Math.min(p,A)-1,F=Math.min(32767,u),U=Math.min(258,A);D<=F&&--N&&R!=P;){if(e[u+$]==e[u+$-D]){for(var B=0;B<U&&e[u+B]==e[u+B-D];++B);if(B>$){if($=B,j=D,B>L)break;var q=Math.min(D,B-2),H=0;for(M=0;M<q;++M){var z=u-D+M+32768&32767,W=z-m[z]+32768&32767;W>H&&(H=W,P=z)}}}D+=(R=P)-(P=m[R])+32768&32767}if(j){w[T++]=268435456|tJ[$]<<18|tK[j];var G=31&tJ[$],V=31&tK[j];x+=tq[G]+tH[V],++S[257+G],++k[V],I=u+$,++E}else w[T++]=e[u],++S[e[u]]}}c=ns(e,l,s,w,S,k,x,T,O,u-O,c),s||(c=ni(l,c,na))}return t8(a,0,r+t6(c)+i)}(s,null==o.level?6:o.level,null==o.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):12+o.mem,c,8,!0)).length,nd(u,o),nu(u,d-8,a.d()),nu(u,d-4,l),u),i(i({},n),{},{blob:!0,urlQueryArgs:{compression:t3.GZipJS}})]:[{data:ei(t)},n],2),p=h[0],g=h[1];this._send_request(e,p,g,r)}},{key:"_send_request",value:function(e,t,n,r){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(n._batchKey)){if(nN)this.__request_queue.push([e,t,n,r]);else{n=Y({method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose},n||{}),nj||(n.method="GET");var s=F&&"sendBeacon"in F.navigator&&"sendBeacon"===n.transport;if(e=nh(e,n.urlQueryArgs||{},{ip:this.config.ip}),s)try{null==F||F.navigator.sendBeacon(e,np(t,i(i({},n),{},{sendBeacon:!0})))}catch(e){}else if(nj||!B)try{nf({url:e,data:t,headers:this.config.xhr_headers,options:n,callback:r,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(e){W.error(e)}else{var o,a=B.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=e;var l=B.getElementsByTagName("script")[0];null===(o=l.parentNode)||void 0===o||o.insertBefore(a,l)}}}}},{key:"_execute_array",value:function(e){var t,n=this,r=[],i=[],s=[];J(e,function(e){e&&(T(t=e[0])?s.push(e):O(e)?e.call(n):T(e)&&"alias"===t?r.push(e):T(e)&&-1!==t.indexOf("capture")&&O(n[t])?s.push(e):i.push(e))});var o=function(e,t){J(e,function(e){if(T(e[0])){var n=t;K(e,function(e){n=n[e[0]].apply(n,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};o(r,this),o(i,this),o(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nM;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return W.uninitializedWarning("posthog.capture");if(!function(e){var t=!1;try{var n=e.config.token,r=e.config.respect_dnt,i=e.config.opt_out_capturing_persistence_type,s=e.config.opt_out_capturing_cookie_prefix||void 0,o=e.config.window;n&&(t=tP(n,{respectDnt:r,persistenceType:i,persistencePrefix:s,window:o}))}catch(e){W.error("Unexpected error when checking capturing opt-out status: "+e)}return t}(this)){var r=(n=n||nM).transport;if(r&&(n.transport=r),!P(e)&&A(e)){if(!q||this.config.opt_out_useragent_filter||!nP(q,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var s,o,a,l,c={uuid:e1(),event:e,properties:this._calculate_event_properties(e,t||{})};"$identify"===e&&(c.$set=n.$set,c.$set_once=n.$set_once),(s=c,o=n._noTruncate?null:this.config.properties_string_max_length,a=function(e,t){return t&&er.indexOf(t)>-1?e:A(e)&&!M(o)?e.slice(0,o):e},l=new Set,c=function e(t,n){var r;return t!==Object(t)?a?a(t,n):t:l.has(t)?void 0:(l.add(t),T(t)?(r=[],J(t,function(t){r.push(e(t))})):(r={},K(t,function(t,n){l.has(t)||(r[n]=e(t,n))})),r)}(s)).timestamp=n.timestamp||new Date;var u=i(i({},c.properties.$set),c.$set);R(u)||this.setPersonPropertiesForFlags(u),W.info("send",c);var d=JSON.stringify(c),h=this.config.api_host+(n.endpoint||this.analyticsDefaultEndpoint),p=n!==nM;return!this.config.request_batching||p&&!n._batchKey||n.send_instantly?this.__compress_and_send_json_request(h,d,n):this._requestQueue.enqueue(h,c,n),this._invokeCaptureHooks(e,c),c}}else W.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,t){this.config._onCapture(e,t),K(this.__captureHooks,function(t){return t(e)})}},{key:"_calculate_event_properties",value:function(e,t){if(!this.persistence||!this.sessionPersistence)return t;var n=this.persistence.remove_event_timer(e),r=i({},t);if(r.token=this.config.token,"$snapshot"===e){var s=i(i({},this.persistence.properties()),this.sessionPersistence.properties());return r.distinct_id=s.distinct_id,r}var o=tc.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,c=a.windowId;r.$session_id=l,r.$window_id=c}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var u=this.sessionPropsManager.getSessionProps();r=Y(r,u)}if(!this.config.disable_scroll_properties){var d={};"$pageview"===e?d=this.pageViewManager.doPageView():"$pageleave"===e&&(d=this.pageViewManager.doPageLeave()),r=Y(r,d)}if("$pageview"===e&&B&&(r.title=B.title),"$performance_event"===e){var h=this.persistence.properties();return r.distinct_id=h.distinct_id,r.$current_url=o.$current_url,r}if(!P(n)){var p=(new Date).getTime()-n;r.$duration=parseFloat((p/1e3).toFixed(3))}q&&this.config.opt_out_useragent_filter&&(r.$browser_type=nP(q,this.config.custom_blocked_useragents)?"bot":"browser"),r=Y({},tc.properties(),this.persistence.properties(),this.sessionPersistence.properties(),r);var f=this.config.property_blacklist;T(f)?K(f,function(e){delete r[e]}):W.error("Invalid value for property_blacklist config: "+f);var g=this.config.sanitize_properties;return g&&(r=g(r,e)),r}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(c({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return W.uninitializedWarning("posthog.identify");if(e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))W.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else{var r=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:r},""),e!==r&&e!==this.get_property(ek)&&(this.unregister(ek),this.register({distinct_id:e}));var i="anonymous"===this.persistence.get_user_state();e!==r&&i?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(eD))}}else W.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:i(i({},r),{},c({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(c({},e,n))),r[e]===t||n||this.reloadFeatureFlags()}else W.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){if(!this.__loaded)return W.uninitializedWarning("posthog.reset");var t,n,r,i,s=this.get_property("$device_id");null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(r=this.persistence)||void 0===r||r.set_user_state("anonymous"),null===(i=this.sessionManager)||void 0===i||i.resetSessionId();var o=this.config.get_device_id(e1());this.register_once({distinct_id:o,$device_id:e?o:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.config.ui_host||this.config.api_host,n=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=n.sessionId,i=n.sessionStartTimestamp,s=t+"/replay/"+r;if(null!=e&&e.withTimestamp&&i){var o,a=null!==(o=e.timestampLookBack)&&void 0!==o?o:10;if(!i)return s;var l=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-a,0);s+="?t=".concat(l)}return s}},{key:"alias",value:function(e,t){return e===this.get_property(eS)?(W.critical("Attempting to create alias for existing People user - aborting."),-2):(P(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ek,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(W.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var t,n,r=i({},this.config);C(e)&&(Y(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),this.config.api_host=this.config.api_host.replace(/\/$/,""),"https://us.posthog.com"===this.config.api_host&&(this.config.api_host="https://app.posthog.com"),null===(t=this.persistence)||void 0===t||t.update_config(this.config),null===(n=this.sessionPersistence)||void 0===n||n.update_config(this.config),e7.is_supported()&&"true"===e7.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(w.DEBUG=!0),this.sessionRecording&&!P(e.disable_session_recording)&&r.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:n$;return t!==n$&&(t=n$+"."+t),t}},{key:"_gdpr_init",value:function(){"localStorage"===this.config.opt_out_capturing_persistence_type&&e7.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_capturing()&&(this.config.opt_out_capturing_by_default||e6.get("ph_optout"))&&(e6.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var t,n,r,i,s;if(e&&e.clear_persistence)r=!0;else{if(!e||!e.enable_persistence)return;r=!1}this.config.disable_persistence||(null===(t=this.persistence)||void 0===t?void 0:t.disabled)===r||null===(i=this.persistence)||void 0===i||i.set_disabled(r),this.config.disable_persistence||(null===(n=this.sessionPersistence)||void 0===n?void 0:n.disabled)===r||null===(s=this.sessionPersistence)||void 0===s||s.set_disabled(r)}},{key:"_gdpr_call_func",value:function(e,t){return t=Y({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},t||{}),e7.is_supported()||"localStorage"!==t.persistence_type||(t.persistence_type="cookie"),e(this.config.token,{capture:t.capture,captureEventName:t.capture_event_name,captureProperties:t.capture_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieExpiration:t.cookie_expiration,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=Y({enable_persistence:!0},e||{}),this._gdpr_call_func(tO,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var t=Y({clear_persistence:!0},e||{});this._gdpr_call_func(tC,t),this._gdpr_update_persistence(t)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(tR,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(tP,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var t=Y({enable_persistence:!0},null!=e?e:{});this._gdpr_call_func(tA,t),this._gdpr_update_persistence(t)}},{key:"debug",value:function(e){!1===e?(null==F||F.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==F||F.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=et(e.prototype[t[n]])}(nU,["identify"]);var nB,nq,nH,nz={};(_=nq||(nq={})).Popover="popover",_.API="api",_.Widget="widget",(b=nH||(nH={})).Open="open",b.MultipleChoice="multiple_choice",b.SingleChoice="single_choice",b.Rating="rating",b.Link="link";var nW=(nk=nS.INIT_MODULE,(nE=new nU).init=function(e,t,n){if(n)return nE[n]||(nE[n]=nz[n]=nL(e||"",t||{},n,function(e){nE[n]=nz[n]=e,e._loaded()})),nE[n];var r=nE;return nz[n$]?r=nz[n$]:e&&(r=nL(e,t||{},n$,function(e){nz[n$]=e,e._loaded()}),nz[n$]=r),nE=r,nk===nS.INIT_SNIPPET&&(H[n$]=nE),K(nz,function(e,t){t!==n$&&(nE[t]=e)}),r},nE.init(),function(){function e(){e.done||(e.done=!0,nN=!1,K(nz,function(e){e._dom_loaded()}))}null!=B&&B.addEventListener&&("complete"===B.readyState?e():B.addEventListener("DOMContentLoaded",e,!1)),F&&eo(F,"load",e,!0)}(),nE)},58192:function(e,t,n){"use strict";n.d(t,{U0:function(){return a},dl:function(){return l},zf:function(){return o}});var r=n(99893),i=n(67294),s=(0,i.createContext)({client:r.ZP});function o(e){var t=e.children,n=e.client,o=e.apiKey,a=e.options,l=(0,i.useMemo)(function(){return(n&&o&&console.warn("[PostHog.js] You have provided both a client and an apiKey to PostHogProvider. The apiKey will be ignored in favour of the client."),n&&a&&console.warn("[PostHog.js] You have provided both a client and options to PostHogProvider. The options will be ignored in favour of the client."),n)?n:(o&&(r.ZP.__loaded&&console.warn("[PostHog.js] was already loaded elsewhere. This may cause issues."),r.ZP.init(o,a)),r.ZP)},[n,o]);return i.createElement(s.Provider,{value:{client:l}},t)}var a=function(){return(0,i.useContext)(s).client};function l(e){var t=a(),n=(0,i.useState)(),r=n[0],s=n[1];return(0,i.useEffect)(function(){return t.onFeatureFlags(function(){s(t.isFeatureEnabled(e))})},[t,e]),r}},62587:function(e){"use strict";e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(t);var o=1e3;r&&"number"==typeof r.maxKeys&&(o=r.maxKeys);var a=e.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var c,u,d,h,p=e[l].replace(s,"%20"),f=p.indexOf(n);(f>=0?(c=p.substr(0,f),u=p.substr(f+1)):(c=p,u=""),d=decodeURIComponent(c),h=decodeURIComponent(u),Object.prototype.hasOwnProperty.call(i,d))?Array.isArray(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return(n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(i){var s=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return s+encodeURIComponent(t(e))}).join(n):s+encodeURIComponent(t(e[i]))}).filter(Boolean).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},17673:function(e,t,n){"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},69921:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case s:case a:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===a||e===o||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},59864:function(e,t,n){"use strict";e.exports=n(69921)},74071:function(e,t,n){"use strict";t.ZP=function(e,t){var n,s=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(function(){return l(e,t)}))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var s=[],o=!0,a=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw r}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=s[0],c=s[1];return[o,(0,r.useCallback)(function(t,n){c(t),a(e,t,n)},[e])]},t.d8=void 0;var r=n(67294);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var o="undefined"!=typeof window,a=function(e,t,n){if(o){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({days:7,path:"/"},n),i=new Date(Date.now()+864e5*r.days).toUTCString();document.cookie=e+"="+encodeURIComponent(t)+"; expires="+i+Object.keys(r).reduce(function(e,t){return"days"===t?e:!1===r[t]?e:!0===r[t]?"".concat(e,"; ").concat(t):"".concat(e,"; ").concat(t,"=").concat(r[t])},"")}};t.d8=a;var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o&&document.cookie.split("; ").reduce(function(t,n){var r=n.split("=");return r[0]===e?decodeURIComponent(r[1]):t},"")||t}},67771:function(e,t,n){"use strict";var r=n(40210),i=n(12296),s=n(31044)(),o=n(27296),a=r("%TypeError%"),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&o){var u=o(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(s?i(e,"length",t,!0,!0):i(e,"length",t)),e}},62498:function(e,t,n){"use strict";var r=n(40210)("%TypeError%"),i=n(48824),s=n(67906),o=n(58294);e.exports=function(e,t){if("Object"!==o(e))throw new r("Assertion failed: `O` must be an Object");if(!s(t))throw new r("Assertion failed: `P` must be a Property Key");return i(e,t)}},67906:function(e){"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},58974:function(e,t,n){"use strict";e.exports=n(4559)},20377:function(e,t,n){"use strict";var r=n(40210)("%Object%"),i=n(58974);e.exports=function(e){return i(e),r(e)}},94647:function(e,t,n){"use strict";var r=n(41503);e.exports=function(e){return arguments.length>1?r(e,arguments[1]):r(e)}},55372:function(e,t,n){"use strict";var r=n(40210)("%String%"),i=n(94647),s=n(16324);e.exports=function(e){var t=i(e,r);return"symbol"==typeof t?t:s(t)}},16324:function(e,t,n){"use strict";var r=n(40210),i=r("%String%"),s=r("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new s("Cannot convert a Symbol value to a string");return i(e)}},58294:function(e,t,n){"use strict";var r=n(23951);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":r(e)}},4559:function(e,t,n){"use strict";var r=n(40210)("%TypeError%");e.exports=function(e,t){if(null==e)throw new r(t||"Cannot call method on "+e);return e}},23951:function(e){"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},63764:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return function t(){for(var n=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return t.apply(n,[].concat(i,r))}}}function c(e){return({}).toString.call(e).includes("Object")}function u(e){return"function"==typeof e}n.d(t,{ML:function(){return W},_m:function(){return A}});var d,h,p=l(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),f={changes:function(e,t){return c(t)||p("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&p("changeField"),t},selector:function(e){u(e)||p("selectorType")},handler:function(e){u(e)||c(e)||p("handlerType"),c(e)&&Object.values(e).some(function(e){return!u(e)})&&p("handlersType")},initial:function(e){e||p("initialIsRequired"),c(e)||p("initialType"),Object.keys(e).length||p("initialContent")}};function g(e,t){return u(t)?t(e.current):t}function m(e,t){return e.current=a(a({},e.current),t),t}function v(e,t,n){return u(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}var y={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},_=(d=function(e,t){throw Error(e[t]||e.default)},function e(){for(var t=this,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.length>=d.length?d.apply(this,r):function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(t,[].concat(r,i))}})(y),b={config:function(e){return e||_("configIsRequired"),({}).toString.call(e).includes("Object")||_("configType"),e.urls?(console.warn(y.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},w=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},S={type:"cancelation",msg:"operation is manually canceled"},k=function(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(S):n(e)}),e.catch(r)});return n.cancel=function(){return t=!0},n},E=function(e){if(Array.isArray(e))return e}(h=({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.initial(e),f.handler(t);var n={current:e},r=l(v)(n,t),i=l(m)(n),s=l(f.changes)(e),o=l(g)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return f.selector(e),e(n.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(r,i,s,o)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}}(h,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(h,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=E[0],T=E[1];function I(e){return document.body.appendChild(e)}function O(e){var t,n,r=x(function(e){return{config:e.config,reject:e.reject}}),i=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return i.onload=function(){return e()},i.onerror=r.reject,i}function C(){var e=x(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){R(t),e.resolve(t)},function(t){e.reject(t)})}function R(e){x().monaco||T({monaco:e})}var P=new Promise(function(e,t){return T({resolve:e,reject:t})}),A={config:function(e){var t=b.config(e),n=t.monaco,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["monaco"]);T(function(e){return{config:function e(t,n){return Object.keys(n).forEach(function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))}),i(i({},t),n)}(e.config,r),monaco:n}})},init:function(){var e=x(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(T({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),k(P);if(window.monaco&&window.monaco.editor)return R(window.monaco),e.resolve(window.monaco),k(P);w(I,O)(C)}return k(P)},__getMonacoInstance:function(){return x(function(e){return e.monaco})}},M=n(67294),$={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},j={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},N=function({children:e}){return M.createElement("div",{style:j.container},e)},D=(0,M.memo)(function({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return M.createElement("section",{style:{...$.wrapper,width:e,height:t},...o},!n&&M.createElement(N,null,r),M.createElement("div",{ref:i,style:{...$.fullWidth,...!n&&$.hide},className:s}))}),L=function(e){(0,M.useEffect)(e,[])},F=function(e,t,n=!0){let r=(0,M.useRef)(!0);(0,M.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function U(){}function B(e,t,n,r){return e.editor.getModel(q(e,r))||e.editor.createModel(t,n,r?q(e,r):void 0)}function q(e,t){return e.Uri.parse(t)}(0,M.memo)(function({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:d={},height:h="100%",width:p="100%",className:f,wrapperProps:g={},beforeMount:m=U,onMount:v=U}){let[y,_]=(0,M.useState)(!1),[b,w]=(0,M.useState)(!0),S=(0,M.useRef)(null),k=(0,M.useRef)(null),E=(0,M.useRef)(null),x=(0,M.useRef)(v),T=(0,M.useRef)(m),I=(0,M.useRef)(!1);L(()=>{let e=A.init();return e.then(e=>(k.current=e)&&w(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{let t;return S.current?(t=S.current?.getModel(),void(a||t?.original?.dispose(),l||t?.modified?.dispose(),S.current?.dispose())):e.cancel()}}),F(()=>{if(S.current&&k.current){let t=S.current.getOriginalEditor(),i=B(k.current,e||"",r||n||"text",s||"");i!==t.getModel()&&t.setModel(i)}},[s],y),F(()=>{if(S.current&&k.current){let e=S.current.getModifiedEditor(),r=B(k.current,t||"",i||n||"text",o||"");r!==e.getModel()&&e.setModel(r)}},[o],y),F(()=>{let e=S.current.getModifiedEditor();e.getOption(k.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[t],y),F(()=>{S.current?.getModel()?.original.setValue(e||"")},[e],y),F(()=>{let{original:e,modified:t}=S.current.getModel();k.current.editor.setModelLanguage(e,r||n||"text"),k.current.editor.setModelLanguage(t,i||n||"text")},[n,r,i],y),F(()=>{k.current?.editor.setTheme(c)},[c],y),F(()=>{S.current?.updateOptions(d)},[d],y);let O=(0,M.useCallback)(()=>{if(!k.current)return;T.current(k.current);let a=B(k.current,e||"",r||n||"text",s||""),l=B(k.current,t||"",i||n||"text",o||"");S.current?.setModel({original:a,modified:l})},[n,t,i,e,r,s,o]),C=(0,M.useCallback)(()=>{!I.current&&E.current&&(S.current=k.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...d}),O(),k.current?.editor.setTheme(c),_(!0),I.current=!0)},[d,c,O]);return(0,M.useEffect)(()=>{y&&x.current(S.current,k.current)},[y]),(0,M.useEffect)(()=>{b||y||C()},[b,y,C]),M.createElement(D,{width:p,height:h,isEditorReady:y,loading:u,_ref:E,className:f,wrapperProps:g})});var H=function(e){let t=(0,M.useRef)();return(0,M.useEffect)(()=>{t.current=e},[e]),t.current},z=new Map,W=(0,M.memo)(function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:a,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:h=!1,width:p="100%",height:f="100%",className:g,wrapperProps:m={},beforeMount:v=U,onMount:y=U,onChange:_,onValidate:b=U}){let[w,S]=(0,M.useState)(!1),[k,E]=(0,M.useState)(!0),x=(0,M.useRef)(null),T=(0,M.useRef)(null),I=(0,M.useRef)(null),O=(0,M.useRef)(y),C=(0,M.useRef)(v),R=(0,M.useRef)(),P=(0,M.useRef)(r),$=H(s),j=(0,M.useRef)(!1),N=(0,M.useRef)(!1);L(()=>{let e=A.init();return e.then(e=>(x.current=e)&&E(!1)).catch(e=>e?.type!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>T.current?void(R.current?.dispose(),h?d&&z.set(s,T.current.saveViewState()):T.current.getModel()?.dispose(),T.current.dispose()):e.cancel()}),F(()=>{let o=B(x.current,e||r||"",t||i||"",s||n||"");o!==T.current?.getModel()&&(d&&z.set($,T.current?.saveViewState()),T.current?.setModel(o),d&&T.current?.restoreViewState(z.get(s)))},[s],w),F(()=>{T.current?.updateOptions(c)},[c],w),F(()=>{T.current&&void 0!==r&&(T.current.getOption(x.current.editor.EditorOption.readOnly)?T.current.setValue(r):r===T.current.getValue()||(N.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),T.current.pushUndoStop(),N.current=!1))},[r],w),F(()=>{let e=T.current?.getModel();e&&i&&x.current?.editor.setModelLanguage(e,i)},[i],w),F(()=>{void 0!==a&&T.current?.revealLine(a)},[a],w),F(()=>{x.current?.editor.setTheme(o)},[o],w);let q=(0,M.useCallback)(()=>{if(!(!I.current||!x.current)&&!j.current){C.current(x.current);let l=s||n,h=B(x.current,r||e||"",t||i||"",l||"");T.current=x.current?.editor.create(I.current,{model:h,automaticLayout:!0,...c},u),d&&T.current.restoreViewState(z.get(l)),x.current.editor.setTheme(o),void 0!==a&&T.current.revealLine(a),S(!0),j.current=!0}},[e,t,n,r,i,s,c,u,d,o,a]);return(0,M.useEffect)(()=>{w&&O.current(T.current,x.current)},[w]),(0,M.useEffect)(()=>{k||w||q()},[k,w,q]),P.current=r,(0,M.useEffect)(()=>{w&&_&&(R.current?.dispose(),R.current=T.current?.onDidChangeModelContent(e=>{N.current||_(T.current.getValue(),e)}))},[w,_]),(0,M.useEffect)(()=>{if(w){let e=x.current.editor.onDidChangeMarkers(e=>{let t=T.current.getModel()?.uri;if(t&&e.find(e=>e.path===t.path)){let e=x.current.editor.getModelMarkers({resource:t});b?.(e)}});return()=>{e?.dispose()}}return()=>{}},[w,b]),M.createElement(D,{width:p,height:f,isEditorReady:w,loading:l,_ref:I,className:g,wrapperProps:m})})},82729:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return r}})},27563:function(e,t,n){"use strict";n.d(t,{Ab:function(){return o},Fr:function(){return a},G$:function(){return s},JM:function(){return d},K$:function(){return c},MS:function(){return r},h5:function(){return l},lK:function(){return u},uj:function(){return i}});var r="-ms-",i="-moz-",s="-webkit-",o="comm",a="rule",l="decl",c="@import",u="@keyframes",d="@layer"},92190:function(e,t,n){"use strict";n.d(t,{MY:function(){return o}});var r=n(27563),i=n(26686),s=n(46411);function o(e){return(0,s.cE)(function e(t,n,o,c,u,d,h,p,f){for(var g,m=0,v=0,y=h,_=0,b=0,w=0,S=1,k=1,E=1,x=0,T="",I=u,O=d,C=c,R=T;k;)switch(w=x,x=(0,s.lp)()){case 40:if(108!=w&&58==(0,i.uO)(R,y-1)){-1!=(0,i.Cw)(R+=(0,i.gx)((0,s.iF)(x),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:R+=(0,s.iF)(x);break;case 9:case 10:case 13:case 32:R+=(0,s.Qb)(w);break;case 92:R+=(0,s.kq)((0,s.Ud)()-1,7);continue;case 47:switch((0,s.fj)()){case 42:case 47:(0,i.R3)((g=(0,s.q6)((0,s.lp)(),(0,s.Ud)()),(0,s.dH)(g,n,o,r.Ab,(0,i.Dp)((0,s.Tb)()),(0,i.tb)(g,2,-2),0)),f);break;default:R+="/"}break;case 123*S:p[m++]=(0,i.to)(R)*E;case 125*S:case 59:case 0:switch(x){case 0:case 125:k=0;case 59+v:-1==E&&(R=(0,i.gx)(R,/\f/g,"")),b>0&&(0,i.to)(R)-y&&(0,i.R3)(b>32?l(R+";",c,o,y-1):l((0,i.gx)(R," ","")+";",c,o,y-2),f);break;case 59:R+=";";default:if((0,i.R3)(C=a(R,n,o,m,v,u,p,T,I=[],O=[],y),d),123===x){if(0===v)e(R,n,C,C,I,d,y,p,O);else switch(99===_&&110===(0,i.uO)(R,3)?100:_){case 100:case 108:case 109:case 115:e(t,C,C,c&&(0,i.R3)(a(t,C,C,0,0,u,p,T,u,I=[],y),O),u,O,y,p,c?I:O);break;default:e(R,C,C,C,[""],O,0,p,O)}}}m=v=b=0,S=E=1,T=R="",y=h;break;case 58:y=1+(0,i.to)(R),b=w;default:if(S<1){if(123==x)--S;else if(125==x&&0==S++&&125==(0,s.mp)())continue}switch(R+=(0,i.Dp)(x),x*S){case 38:E=v>0?1:(R+="\f",-1);break;case 44:p[m++]=((0,i.to)(R)-1)*E,E=1;break;case 64:45===(0,s.fj)()&&(R+=(0,s.iF)((0,s.lp)())),_=(0,s.fj)(),v=y=(0,i.to)(T=R+=(0,s.QU)((0,s.Ud)())),x++;break;case 45:45===w&&2==(0,i.to)(R)&&(S=0)}}return d}("",null,null,null,[""],e=(0,s.un)(e),0,[0],e))}function a(e,t,n,o,a,l,c,u,d,h,p){for(var f=a-1,g=0===a?l:[""],m=(0,i.Ei)(g),v=0,y=0,_=0;v<o;++v)for(var b=0,w=(0,i.tb)(e,f+1,f=(0,i.Wn)(y=c[v])),S=e;b<m;++b)(S=(0,i.fy)(y>0?g[b]+" "+w:(0,i.gx)(w,/&\f/g,g[b])))&&(d[_++]=S);return(0,s.dH)(e,t,n,0===a?r.Fr:u,d,h,p)}function l(e,t,n,o){return(0,s.dH)(e,t,n,r.h5,(0,i.tb)(e,0,o),(0,i.tb)(e,o+1,-1),o)}},20211:function(e,t,n){"use strict";n.d(t,{P:function(){return o},q:function(){return s}});var r=n(27563),i=n(26686);function s(e,t){for(var n="",r=(0,i.Ei)(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function o(e,t,n,o){switch(e.type){case r.JM:if(e.children.length)break;case r.K$:case r.h5:return e.return=e.return||e.value;case r.Ab:return"";case r.lK:return e.return=e.value+"{"+s(e.children,o)+"}";case r.Fr:e.value=e.props.join(",")}return(0,i.to)(n=s(e.children,o))?e.return=e.value+"{"+n+"}":""}},46411:function(e,t,n){"use strict";n.d(t,{FK:function(){return a},JG:function(){return d},QU:function(){return x},Qb:function(){return S},Tb:function(){return h},Ud:function(){return m},cE:function(){return b},dH:function(){return u},fj:function(){return g},iF:function(){return w},kq:function(){return k},lp:function(){return f},mp:function(){return p},q6:function(){return E},r:function(){return y},tP:function(){return v},un:function(){return _}});var r=n(26686),i=1,s=1,o=0,a=0,l=0,c="";function u(e,t,n,r,o,a,l){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:i,column:s,length:l,return:""}}function d(e,t){return(0,r.f0)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function h(){return l}function p(){return l=a>0?(0,r.uO)(c,--a):0,s--,10===l&&(s=1,i--),l}function f(){return l=a<o?(0,r.uO)(c,a++):0,s++,10===l&&(s=1,i++),l}function g(){return(0,r.uO)(c,a)}function m(){return a}function v(e,t){return(0,r.tb)(c,e,t)}function y(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _(e){return i=s=1,o=(0,r.to)(c=e),a=0,[]}function b(e){return c="",e}function w(e){return(0,r.fy)(v(a-1,function e(t){for(;f();)switch(l){case t:return a;case 34:case 39:34!==t&&39!==t&&e(l);break;case 40:41===t&&e(t);break;case 92:f()}return a}(91===e?e+2:40===e?e+1:e)))}function S(e){for(;l=g();)if(l<33)f();else break;return y(e)>2||y(l)>3?"":" "}function k(e,t){for(;--t&&f()&&!(l<48)&&!(l>102)&&(!(l>57)||!(l<65))&&(!(l>70)||!(l<97)););return v(e,a+(t<6&&32==g()&&32==f()))}function E(e,t){for(;f();)if(e+l===57)break;else if(e+l===84&&47===g())break;return"/*"+v(t,a-1)+"*"+(0,r.Dp)(47===e?e:f())}function x(e){for(;!y(g());)f();return v(e,a)}},26686:function(e,t,n){"use strict";n.d(t,{$e:function(){return m},Cw:function(){return u},Dp:function(){return i},EQ:function(){return l},Ei:function(){return f},R3:function(){return g},Wn:function(){return r},f0:function(){return s},fy:function(){return a},gx:function(){return c},tb:function(){return h},to:function(){return p},uO:function(){return d},vp:function(){return o}});var r=Math.abs,i=String.fromCharCode,s=Object.assign;function o(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}function a(e){return e.trim()}function l(e,t){return(e=t.exec(e))?e[0]:e}function c(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function p(e){return e.length}function f(e){return e.length}function g(e,t){return t.push(e),e}function m(e,t){return e.map(t).join("")}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],function(){return t(77840),t(6840),t(73035)}),_N_E=e.O()}]);